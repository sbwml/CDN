/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{415:function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"x",(function(){return o})),n.d(e,"i",(function(){return l})),n.d(e,"m",(function(){return M})),n.d(e,"n",(function(){return S})),n.d(e,"p",(function(){return A})),n.d(e,"r",(function(){return k})),n.d(e,"ab",(function(){return I})),n.d(e,"bb",(function(){return F})),n.d(e,"lb",(function(){return R})),n.d(e,"pb",(function(){return _})),n.d(e,"w",(function(){return head})),n.d(e,"P",(function(){return Y})),n.d(e,"l",(function(){return c})),n.d(e,"k",(function(){return G})),n.d(e,"fb",(function(){return z})),n.d(e,"s",(function(){return V})),n.d(e,"t",(function(){return N})),n.d(e,"u",(function(){return H})),n.d(e,"c",(function(){return W})),n.d(e,"o",(function(){return U})),n.d(e,"J",(function(){return K})),n.d(e,"T",(function(){return T})),n.d(e,"V",(function(){return B})),n.d(e,"X",(function(){return Q})),n.d(e,"jb",(function(){return $})),n.d(e,"v",(function(){return tt})),n.d(e,"O",(function(){return O})),n.d(e,"ob",(function(){return et})),n.d(e,"Q",(function(){return it})),n.d(e,"gb",(function(){return ot})),n.d(e,"nb",(function(){return at})),n.d(e,"z",(function(){return y})),n.d(e,"A",(function(){return lt})),n.d(e,"B",(function(){return ut})),n.d(e,"F",(function(){return d})),n.d(e,"G",(function(){return v})),n.d(e,"H",(function(){return ht})),n.d(e,"I",(function(){return Z})),n.d(e,"K",(function(){return m})),n.d(e,"L",(function(){return C})),n.d(e,"M",(function(){return D})),n.d(e,"N",(function(){return gt})),n.d(e,"C",(function(){return vt})),n.d(e,"cb",(function(){return yt})),n.d(e,"d",(function(){return mt})),n.d(e,"e",(function(){return jt})),n.d(e,"g",(function(){return wt})),n.d(e,"U",(function(){return Ct})),n.d(e,"h",(function(){return St})),n.d(e,"j",(function(){return x})),n.d(e,"y",(function(){return At})),n.d(e,"D",(function(){return Bt})),n.d(e,"E",(function(){return Pt})),n.d(e,"R",(function(){return Et})),n.d(e,"S",(function(){return It})),n.d(e,"W",(function(){return xt})),n.d(e,"b",(function(){return xt})),n.d(e,"q",(function(){return Ft})),n.d(e,"db",(function(){return Dt})),n.d(e,"Z",(function(){return _t})),n.d(e,"hb",(function(){return Yt})),n.d(e,"ib",(function(){return Gt})),n.d(e,"kb",(function(){return nt})),n.d(e,"mb",(function(){return Xt})),n.d(e,"Y",(function(){return Nt})),n.d(e,"eb",(function(){return Ht})),n.d(e,"a",(function(){return Wt}));var r=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},o=function(t,e){return!!r(t)&&t.indexOf(e)>-1},c=function(t,e){if(!r(t))return t;for(var n=[],o=0;o<t.length;o++){var c=t[o];e(c,o)&&n.push(c)}return n},l=function(t,e){return void 0===e&&(e=[]),c(t,(function(t){return!o(e,t)}))},h={}.toString,f=function(t,e){return h.call(t)==="[object "+e+"]"},d=function(t){return f(t,"Function")},v=function(t){return null==t},y=function(t){return Array.isArray?Array.isArray(t):f(t,"Array")},m=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var x=function(t,e){if(t)if(y(t))for(var i=0,n=t.length;i<n&&!1!==e(t[i],i);i++);else if(m(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break},O=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return x(t,(function(n,r){d(t)&&"prototype"===r||e.push(r)})),e};var j=function(t,e){var n=O(e),r=n.length;if(v(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0},w=function(t){return"object"==typeof t&&null!==t},C=function(t){if(!w(t)||!f(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var M=function(t,e){if(!y(t))return null;var n;if(d(e)&&(n=e),C(e)&&(n=function(a){return j(a,e)}),n)for(var i=0;i<t.length;i+=1)if(n(t[i]))return t[i];return null};var S=function(data,t){for(var e=null,i=0;i<data.length;i++){var n=data[i][t];if(!v(n)){e=y(n)?n[0]:n;break}}return e},A=function(t){if(!y(t))return[];for(var e=[],i=0;i<t.length;i++)e=e.concat(t[i]);return e},T=function(t){if(y(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},B=function(t){if(y(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},k=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(y(t[0])){for(var n=[],i=0;i<t.length;i++)n=n.concat(t[i]);e=n}var r=T(e);return{min:B(e),max:r}},P=Array.prototype,E=(P.splice,P.indexOf,Array.prototype.splice),L=function(t,e){if(!r(t))return[];for(var n=t?e.length:0,o=n-1;n--;){var c=void 0,l=e[n];n!==o&&l===c||(c=l,E.call(t,l,1))}return t},I=function(t,e,n){if(!y(t)&&!C(t))return t;var r=n;return x(t,(function(data,i){r=e(r,data,i)})),r},F=function(t,e){var n=[];if(!r(t))return n;for(var i=-1,o=[],c=t.length;++i<c;){var l=t[i];e(l,i,t)&&(n.push(l),o.push(i))}return L(t,o),n},D=function(t){return f(t,"String")};function R(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var o=t[i];e.has(o)||(n.push(o),e.set(o,!0))}return n}var _=function(data,t){for(var e=[],n={},i=0;i<data.length;i++){var r=data[i][t];if(!v(r)){y(r)||(r=[r]);for(var o=0;o<r.length;o++){var c=r[o];n[c]||(e.push(c),n[c]=!0)}}}return e};function head(t){if(r(t))return t[0]}function Y(t){if(r(t)){return t[t.length-1]}}var G=function(t,e){for(var i=0;i<t.length;i++)if(!e(t[i],i))return!1;return!0},z=function(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i))return!0;return!1},X=Object.prototype.hasOwnProperty;var N=function(data,t){if(!t||!y(data))return{};for(var e,n={},r=d(t)?t:function(e){return e[t]},i=0;i<data.length;i++){var o=data[i];e=r(o),X.call(n,e)?n[e].push(o):n[e]=[o]}return n};function H(data,t){if(!t)return{0:data};if(!d(t)){var e=y(t)?t:t.replace(/\s+/g,"").split("*");t=function(t){for(var n="_",i=0,r=e.length;i<r;i++)n+=t[e[i]]&&t[e[i]].toString();return n}}return N(data,t)}var V=function(data,t){if(!t)return[data];var e=H(data,t),n=[];for(var i in e)n.push(e[i]);return n};var W=function(a,t,e){return a<t?t:a>e?e:a},U=function(t,base){var e=base.toString(),n=e.indexOf(".");if(-1===n)return Math.round(t);var r=e.substr(n+1).length;return r>20&&(r=20),parseFloat(t.toFixed(r))},Z=function(t){return f(t,"Number")};Number.isInteger&&Number.isInteger;function K(a,b,t){return void 0===t&&(t=1e-5),Math.abs(a-b)<t}var Q=function(t,e){return(t%e+e)%e},J=(Math.PI,parseInt,Math.PI/180),$=function(t){return J*t},tt=function(t,e){return t.hasOwnProperty(e)},et=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return x(t,(function(n,r){d(t)&&"prototype"===r||e.push(n)})),e},nt=function(t){return v(t)?"":t.toString()},it=function(t){return nt(t).toLowerCase()};var ot=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t},at=function(t){var e=nt(t);return e.charAt(0).toUpperCase()+e.substring(1)},st={}.toString,ct=function(t){return st.call(t).replace(/^\[object /,"").replace(/]$/,"")},lt=function(t){return f(t,"Boolean")},ut=function(t){return f(t,"Date")},ht=function(t){return null===t},pt=Object.prototype,ft=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||pt)},gt=function(t){return void 0===t},vt=function(t){return t instanceof Element||t instanceof HTMLDocument};function yt(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function mt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function bt(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function xt(t,e,n,r){return e&&bt(t,e),n&&bt(t,n),r&&bt(t,r),t}var Ot=function(t){if("object"!=typeof t||null===t)return t;var e;if(y(t)){e=[];for(var i=0,n=t.length;i<n;i++)"object"==typeof t[i]&&null!=t[i]?e[i]=Ot(t[i]):e[i]=t[i]}else for(var r in e={},t)"object"==typeof t[r]&&null!=t[r]?e[r]=Ot(t[r]):e[r]=t[r];return e},jt=Ot;var wt=function(t,e,n){var r;return function(){var o=this,c=arguments,l=function(){r=null,n||t.apply(o,c)},h=n&&!r;clearTimeout(r),r=setTimeout(l,e),h&&t.apply(o,c)}},Ct=function(t,e){if(!d(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var c=e?e.apply(this,r):r[0],l=n.cache;if(l.has(c))return l.get(c);var h=t.apply(this,r);return l.set(c,h),h};return n.cache=new Map,n};function Mt(t,e,n,r){for(var o in n=n||0,r=r||5,e)if(e.hasOwnProperty(o)){var c=e[o];null!==c&&C(c)?(C(t[o])||(t[o]={}),n<r?Mt(t[o],c,n+1,r):t[o]=e[o]):y(c)?(t[o]=[],t[o]=t[o].concat(c)):void 0!==c&&(t[o]=c)}}var St=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i+=1)Mt(t,e[i]);return t},At=function(t,e){if(!r(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var o=-1,i=0;i<t.length;i++)if(t[i]===e){o=i;break}return o},Tt=Object.prototype.hasOwnProperty;var Bt=function(t){if(v(t))return!0;if(r(t))return!t.length;var e=ct(t);if("Map"===e||"Set"===e)return!t.size;if(ft(t))return!Object.keys(t).length;for(var n in t)if(Tt.call(t,n))return!1;return!0},kt=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(D(t)||D(e))return!1;if(r(t)||r(e)){if(t.length!==e.length)return!1;for(var n=!0,i=0;i<t.length&&(n=kt(t[i],e[i]));i++);return n}if(w(t)||w(e)){var o=Object.keys(t),c=Object.keys(e);if(o.length!==c.length)return!1;for(n=!0,i=0;i<o.length&&(n=kt(t[o[i]],e[o[i]]));i++);return n}return!1},Pt=kt,Et=function(t,e){if(!r(t))return t;for(var n=[],o=0;o<t.length;o++){var c=t[o];n.push(e(c,o))}return n},Lt=function(t){return t},It=function(object,t){void 0===t&&(t=Lt);var e={};return m(object)&&!v(object)&&Object.keys(object).forEach((function(n){e[n]=t(object[n],n)})),e},Ft=function(t,e,n){for(var p=0,r=D(e)?e.split("."):e;t&&p<r.length;)t=t[r[p++]];return void 0===t||p<r.length?n:t},Dt=function(t,path,e){var n=t,r=D(path)?path.split("."):path;return r.forEach((function(t,o){o<r.length-1?(m(n[t])||(n[t]=Z(r[o+1])?[]:{}),n=n[t]):n[t]=e})),t},Rt=Object.prototype.hasOwnProperty,_t=function(object,t){if(null===object||!C(object))return{};var e={};return x(t,(function(t){Rt.call(object,t)&&(e[t]=object[t])})),e},Yt=function(t,e,n){var r,o,c,l,h=0;n||(n={});var f=function(){h=!1===n.leading?0:Date.now(),r=null,l=t.apply(o,c),r||(o=c=null)},d=function(){var d=Date.now();h||!1!==n.leading||(h=d);var v=e-(d-h);return o=this,c=arguments,v<=0||v>e?(r&&(clearTimeout(r),r=null),h=d,l=t.apply(o,c),r||(o=c=null)):r||!1===n.trailing||(r=setTimeout(f,v)),l};return d.cancel=function(){clearTimeout(r),h=0,r=o=c=null},d},Gt=function(t){return r(t)?Array.prototype.slice.call(t):[]},zt={},Xt=function(t){return zt[t=t||"g"]?zt[t]+=1:zt[t]=1,t+zt[t]},Nt=function(){};function Ht(t){return v(t)?0:r(t)?t.length:Object.keys(t).length}var Vt,qt=n(416),Wt=(Ct((function(text,t){void 0===t&&(t={});var e=t.fontSize,n=t.fontFamily,r=t.fontWeight,o=t.fontStyle,c=t.fontVariant;return Vt||(Vt=document.createElement("canvas").getContext("2d")),Vt.font=[o,c,r,e+"px",n].join(" "),Vt.measureText(D(text)?text:"").width}),(function(text,t){return void 0===t&&(t={}),Object(qt.e)([text],et(t)).join("")})),function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}())},416:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return h})),n.d(e,"d",(function(){return f}));var r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(t[p]=b[p])},r(t,b)};function o(t,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var c=function(){return c=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},c.apply(this,arguments)};function l(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(e[p[i]]=s[p[i]])}return e}Object.create;function h(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}function f(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create},417:function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return C}));var r=n(471);n.d(e,"PathUtil",(function(){return r}));var o=n(495);for(var c in o)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(c);var l=n(496);for(var c in l)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return l[t]}))}(c);var h=n(472);n.d(e,"Event",(function(){return h.a}));var f=n(473);n.d(e,"Base",(function(){return f.a}));var d=n(530);n.d(e,"AbstractCanvas",(function(){return d.a}));var v=n(500);n.d(e,"AbstractGroup",(function(){return v.a}));var y=n(501);n.d(e,"AbstractShape",(function(){return y.a}));var m=n(522);n.d(e,"getBBoxMethod",(function(){return m.a}));var x=n(456);n.d(e,"getTextHeight",(function(){return x.b})),n.d(e,"assembleFont",(function(){return x.a}));var O=n(428);n.d(e,"isAllowCapture",(function(){return O.b}));var j=n(438);n.d(e,"multiplyVec2",(function(){return j.c})),n.d(e,"invert",(function(){return j.a}));var w=n(477);n.d(e,"getOffScreenContext",(function(){return w.a}));var C="0.5.6"},418:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return H})),n.d(e,"d",(function(){return V})),n.d(e,"a",(function(){return o}));var r={};n.r(r),n.d(r,"create",(function(){return l})),n.d(r,"fromMat4",(function(){return h})),n.d(r,"clone",(function(){return f})),n.d(r,"copy",(function(){return d})),n.d(r,"fromValues",(function(){return v})),n.d(r,"set",(function(){return y})),n.d(r,"identity",(function(){return m})),n.d(r,"transpose",(function(){return x})),n.d(r,"invert",(function(){return O})),n.d(r,"adjoint",(function(){return j})),n.d(r,"determinant",(function(){return w})),n.d(r,"multiply",(function(){return C})),n.d(r,"translate",(function(){return M})),n.d(r,"rotate",(function(){return S})),n.d(r,"scale",(function(){return A})),n.d(r,"fromTranslation",(function(){return T})),n.d(r,"fromRotation",(function(){return B})),n.d(r,"fromScaling",(function(){return k})),n.d(r,"fromMat2d",(function(){return P})),n.d(r,"fromQuat",(function(){return E})),n.d(r,"normalFromMat4",(function(){return L})),n.d(r,"projection",(function(){return I})),n.d(r,"str",(function(){return F})),n.d(r,"frob",(function(){return D})),n.d(r,"add",(function(){return R})),n.d(r,"subtract",(function(){return _})),n.d(r,"multiplyScalar",(function(){return Y})),n.d(r,"multiplyScalarAndAdd",(function(){return G})),n.d(r,"exactEquals",(function(){return z})),n.d(r,"equals",(function(){return X})),n.d(r,"mul",(function(){return N})),n.d(r,"sub",(function(){return sub}));var o={};n.r(o),n.d(o,"leftTranslate",(function(){return W})),n.d(o,"leftRotate",(function(){return U})),n.d(o,"leftScale",(function(){return Z})),n.d(o,"transform",(function(){return K})),n.d(o,"direction",(function(){return Q})),n.d(o,"angleTo",(function(){return J})),n.d(o,"vertical",(function(){return $}));var c=n(437);function l(){var t=new c.a(9);return c.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function h(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[4],t[4]=a[5],t[5]=a[6],t[6]=a[8],t[7]=a[9],t[8]=a[10],t}function f(a){var t=new c.a(9);return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t}function d(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t}function v(t,e,n,r,o,l,h,f,d){var v=new c.a(9);return v[0]=t,v[1]=e,v[2]=n,v[3]=r,v[4]=o,v[5]=l,v[6]=h,v[7]=f,v[8]=d,v}function y(t,e,n,r,o,c,l,h,f,d){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=c,t[5]=l,t[6]=h,t[7]=f,t[8]=d,t}function m(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function x(t,a){if(t===a){var e=a[1],n=a[2],r=a[5];t[1]=a[3],t[2]=a[6],t[3]=e,t[5]=a[7],t[6]=n,t[7]=r}else t[0]=a[0],t[1]=a[3],t[2]=a[6],t[3]=a[1],t[4]=a[4],t[5]=a[7],t[6]=a[2],t[7]=a[5],t[8]=a[8];return t}function O(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],c=a[4],l=a[5],h=a[6],f=a[7],d=a[8],v=d*c-l*f,y=-d*o+l*h,m=f*o-c*h,x=e*v+n*y+r*m;return x?(x=1/x,t[0]=v*x,t[1]=(-d*n+r*f)*x,t[2]=(l*n-r*c)*x,t[3]=y*x,t[4]=(d*e-r*h)*x,t[5]=(-l*e+r*o)*x,t[6]=m*x,t[7]=(-f*e+n*h)*x,t[8]=(c*e-n*o)*x,t):null}function j(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],c=a[4],l=a[5],h=a[6],f=a[7],d=a[8];return t[0]=c*d-l*f,t[1]=r*f-n*d,t[2]=n*l-r*c,t[3]=l*h-o*d,t[4]=e*d-r*h,t[5]=r*o-e*l,t[6]=o*f-c*h,t[7]=n*h-e*f,t[8]=e*c-n*o,t}function w(a){var t=a[0],e=a[1],n=a[2],r=a[3],o=a[4],c=a[5],l=a[6],h=a[7],f=a[8];return t*(f*o-c*h)+e*(-f*r+c*l)+n*(h*r-o*l)}function C(t,a,b){var e=a[0],n=a[1],r=a[2],o=a[3],c=a[4],l=a[5],h=a[6],f=a[7],d=a[8],v=b[0],y=b[1],m=b[2],x=b[3],O=b[4],j=b[5],w=b[6],C=b[7],M=b[8];return t[0]=v*e+y*o+m*h,t[1]=v*n+y*c+m*f,t[2]=v*r+y*l+m*d,t[3]=x*e+O*o+j*h,t[4]=x*n+O*c+j*f,t[5]=x*r+O*l+j*d,t[6]=w*e+C*o+M*h,t[7]=w*n+C*c+M*f,t[8]=w*r+C*l+M*d,t}function M(t,a,e){var n=a[0],r=a[1],o=a[2],c=a[3],l=a[4],h=a[5],f=a[6],d=a[7],v=a[8],y=e[0],m=e[1];return t[0]=n,t[1]=r,t[2]=o,t[3]=c,t[4]=l,t[5]=h,t[6]=y*n+m*c+f,t[7]=y*r+m*l+d,t[8]=y*o+m*h+v,t}function S(t,a,e){var n=a[0],r=a[1],o=a[2],c=a[3],l=a[4],h=a[5],f=a[6],d=a[7],v=a[8],s=Math.sin(e),y=Math.cos(e);return t[0]=y*n+s*c,t[1]=y*r+s*l,t[2]=y*o+s*h,t[3]=y*c-s*n,t[4]=y*l-s*r,t[5]=y*h-s*o,t[6]=f,t[7]=d,t[8]=v,t}function A(t,a,e){var n=e[0],r=e[1];return t[0]=n*a[0],t[1]=n*a[1],t[2]=n*a[2],t[3]=r*a[3],t[4]=r*a[4],t[5]=r*a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t}function T(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function B(t,e){var s=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=s,t[2]=0,t[3]=-s,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function k(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function P(t,a){return t[0]=a[0],t[1]=a[1],t[2]=0,t[3]=a[2],t[4]=a[3],t[5]=0,t[6]=a[4],t[7]=a[5],t[8]=1,t}function E(t,q){var e=q[0],n=q[1],r=q[2],o=q[3],c=e+e,l=n+n,h=r+r,f=e*c,d=n*c,v=n*l,y=r*c,m=r*l,x=r*h,O=o*c,j=o*l,w=o*h;return t[0]=1-v-x,t[3]=d-w,t[6]=y+j,t[1]=d+w,t[4]=1-f-x,t[7]=m-O,t[2]=y-j,t[5]=m+O,t[8]=1-f-v,t}function L(t,a){var e=a[0],n=a[1],r=a[2],o=a[3],c=a[4],l=a[5],h=a[6],f=a[7],d=a[8],v=a[9],y=a[10],m=a[11],x=a[12],O=a[13],j=a[14],w=a[15],C=e*l-n*c,M=e*h-r*c,S=e*f-o*c,A=n*h-r*l,T=n*f-o*l,B=r*f-o*h,k=d*O-v*x,P=d*j-y*x,E=d*w-m*x,L=v*j-y*O,I=v*w-m*O,F=y*w-m*j,D=C*F-M*I+S*L+A*E-T*P+B*k;return D?(D=1/D,t[0]=(l*F-h*I+f*L)*D,t[1]=(h*E-c*F-f*P)*D,t[2]=(c*I-l*E+f*k)*D,t[3]=(r*I-n*F-o*L)*D,t[4]=(e*F-r*E+o*P)*D,t[5]=(n*E-e*I-o*k)*D,t[6]=(O*B-j*T+w*A)*D,t[7]=(j*S-x*B-w*M)*D,t[8]=(x*T-O*S+w*C)*D,t):null}function I(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function F(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"}function D(a){return Math.hypot(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8])}function R(t,a,b){return t[0]=a[0]+b[0],t[1]=a[1]+b[1],t[2]=a[2]+b[2],t[3]=a[3]+b[3],t[4]=a[4]+b[4],t[5]=a[5]+b[5],t[6]=a[6]+b[6],t[7]=a[7]+b[7],t[8]=a[8]+b[8],t}function _(t,a,b){return t[0]=a[0]-b[0],t[1]=a[1]-b[1],t[2]=a[2]-b[2],t[3]=a[3]-b[3],t[4]=a[4]-b[4],t[5]=a[5]-b[5],t[6]=a[6]-b[6],t[7]=a[7]-b[7],t[8]=a[8]-b[8],t}function Y(t,a,b){return t[0]=a[0]*b,t[1]=a[1]*b,t[2]=a[2]*b,t[3]=a[3]*b,t[4]=a[4]*b,t[5]=a[5]*b,t[6]=a[6]*b,t[7]=a[7]*b,t[8]=a[8]*b,t}function G(t,a,b,e){return t[0]=a[0]+b[0]*e,t[1]=a[1]+b[1]*e,t[2]=a[2]+b[2]*e,t[3]=a[3]+b[3]*e,t[4]=a[4]+b[4]*e,t[5]=a[5]+b[5]*e,t[6]=a[6]+b[6]*e,t[7]=a[7]+b[7]*e,t[8]=a[8]+b[8]*e,t}function z(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]}function X(a,b){var t=a[0],e=a[1],n=a[2],r=a[3],o=a[4],l=a[5],h=a[6],f=a[7],d=a[8],v=b[0],y=b[1],m=b[2],x=b[3],O=b[4],j=b[5],w=b[6],C=b[7],M=b[8];return Math.abs(t-v)<=c.b*Math.max(1,Math.abs(t),Math.abs(v))&&Math.abs(e-y)<=c.b*Math.max(1,Math.abs(e),Math.abs(y))&&Math.abs(n-m)<=c.b*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(r-x)<=c.b*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(o-O)<=c.b*Math.max(1,Math.abs(o),Math.abs(O))&&Math.abs(l-j)<=c.b*Math.max(1,Math.abs(l),Math.abs(j))&&Math.abs(h-w)<=c.b*Math.max(1,Math.abs(h),Math.abs(w))&&Math.abs(f-C)<=c.b*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(d-M)<=c.b*Math.max(1,Math.abs(d),Math.abs(M))}var N=C,sub=_,H=n(474),V=n(475);function W(t,a,e){var n=[0,0,0,0,0,0,0,0,0];return r.fromTranslation(n,e),r.multiply(t,n,a)}function U(t,a,e){var n=[0,0,0,0,0,0,0,0,0];return r.fromRotation(n,e),r.multiply(t,n,a)}function Z(t,a,e){var n=[0,0,0,0,0,0,0,0,0];return r.fromScaling(n,e),r.multiply(t,n,a)}function K(t,e){for(var n,a,o,c=t?[].concat(t):[1,0,0,0,1,0,0,0,1],i=0,l=e.length;i<l;i++){var h=e[i];switch(h[0]){case"t":W(c,c,[h[1],h[2]]);break;case"s":Z(c,c,[h[1],h[2]]);break;case"r":U(c,c,h[1]);break;case"m":n=c,a=c,o=h[1],r.multiply(n,o,a)}}return c}function Q(t,e){return t[0]*e[1]-e[0]*t[1]}function J(t,e,n){var r=H.angle(t,e),o=Q(t,e)>=0;return n?o?2*Math.PI-r:r:o?r:2*Math.PI-r}function $(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}},419:function(t,e,n){"use strict";var r=n(416),o=n(415),c=n(480),l=n(427),h=n(420),f=n(461),d="update_status",v=["visible","tip","delegateObject"],y=["container","group","shapesMap","isRegister","isUpdating","destroyed"],m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear(),this.get("group").remove()},e.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},e.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get("component")},e.prototype.getElementById=function(t){return this.get("shapesMap")[t]},e.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},e.prototype.getElementsByName=function(t){var e=[];return Object(o.j)(this.get("shapesMap"),(function(n){n.get("name")===t&&e.push(n)})),e},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},e.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},e.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},e.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},e.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),t.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var t=this.get("group"),e=this.getInnerLayoutBBox(),n=t.getTotalMatrix();return n&&(e=Object(l.a)(n,e)),e},e.prototype.on=function(t,e,n){return this.get("group").on(t,e,n),this},e.prototype.off=function(t,e){var n=this.get("group");return n&&n.off(t,e),this},e.prototype.emit=function(t,e){this.get("group").emit(t,e)},e.prototype.init=function(){t.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},e.prototype.delegateEmit=function(t,e){var n=this.get("group");e.target=n,n.emit(t,e),Object(c.a)(n,t,e)},e.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},e.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},e.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",Object(h.d)(t)),t},e.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var n=t.addGroup(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var n=t.addShape(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addComponent=function(t,e){var n=e.id,o=e.component,c=Object(r.c)(e,["id","component"]),l=new o(Object(r.a)(Object(r.a)({},c),{id:n,container:t,updateAutoRender:this.get("updateAutoRender")}));return l.init(),l.render(),this.get("isRegister")&&this.registerElement(l.get("group")),l},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){this.get("group").off()},e.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},e.prototype.registerElement=function(element){var t=element.get("id");this.get("shapesMap")[t]=element},e.prototype.unregisterElement=function(element){var t=element.get("id");delete this.get("shapesMap")[t]},e.prototype.moveElementTo=function(element,t){var e=Object(l.f)(t);element.attr("matrix",e)},e.prototype.addAnimation=function(t,e,n){var r=e.attr("opacity");Object(o.G)(r)&&(r=1),e.attr("opacity",0),e.animate({opacity:r},n)},e.prototype.removeAnimation=function(t,e,n){e.animate({opacity:0},n)},e.prototype.updateAnimation=function(t,e,n,r){e.animate(n,r)},e.prototype.updateElements=function(t,e){var n,r=this,animate=this.get("animate"),c=this.get("animateOption"),l=t.getChildren().slice(0);Object(o.j)(l,(function(element){var t=element.get("id"),l=r.getElementById(t),f=element.get("name");if(l)if(element.get("isComponent")){var m=element.get("component"),x=l.get("component"),O=Object(o.Z)(m.cfg,Object(o.i)(Object(o.O)(m.cfg),y));x.update(O),l.set(d,"update")}else{var j=r.getReplaceAttrs(l,element);animate&&c.update?r.updateAnimation(f,l,j,c.update):l.attr(j),element.isGroup()&&r.updateElements(element,l),Object(o.j)(v,(function(t){l.set(t,element.get(t))})),Object(h.m)(l,element),n=l,l.set(d,"update")}else{e.add(element);var w=e.getChildren();if(w.splice(w.length-1,1),n){var C=w.indexOf(n);w.splice(C+1,0,element)}else w.unshift(element);if(r.registerElement(element),element.set(d,"add"),element.get("isComponent"))(m=element.get("component")).set("container",e);else element.isGroup()&&r.registerNewGroup(element);if(n=element,animate){var M=r.get("isInit")?c.appear:c.enter;M&&r.addAnimation(f,element,M)}}}))},e.prototype.clearUpdateStatus=function(t){var e=t.getChildren();Object(o.j)(e,(function(t){t.set(d,null)}))},e.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},e.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},e.prototype.appendDelegateObject=function(t,e){var n=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),Object(o.W)(e.delegateObject,n)},e.prototype.getReplaceAttrs=function(t,e){var n=t.attr(),r=e.attr();return Object(o.j)(n,(function(t,e){void 0===r[e]&&(r[e]=void 0)})),r},e.prototype.registerNewGroup=function(t){var e=this,n=t.getChildren();Object(o.j)(n,(function(element){e.registerElement(element),element.set(d,"add"),element.isGroup()&&e.registerNewGroup(element)}))},e.prototype.deleteElements=function(){var t=this,e=this.get("shapesMap"),n=[];Object(o.j)(e,(function(element,t){!element.get(d)||element.destroyed?n.push([t,element]):element.set(d,null)}));var animate=this.get("animate"),r=this.get("animateOption");Object(o.j)(n,(function(n){var c=n[0],element=n[1];if(!element.destroyed){var l=element.get("name");if(animate&&r.leave){var h=Object(o.W)({callback:function(){t.removeElement(element)}},r.leave);t.removeAnimation(l,element,h)}else t.removeElement(element)}delete e[c]}))},e.prototype.removeElement=function(element){if(element.get("isGroup")){var component=element.get("component");component&&component.destroy()}element.remove()},e}(f.a);e.a=m},420:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"h",(function(){return l})),n.d(e,"k",(function(){return h})),n.d(e,"j",(function(){return f})),n.d(e,"b",(function(){return d})),n.d(e,"g",(function(){return v})),n.d(e,"e",(function(){return y})),n.d(e,"i",(function(){return m})),n.d(e,"d",(function(){return x})),n.d(e,"m",(function(){return O})),n.d(e,"l",(function(){return j})),n.d(e,"f",(function(){return w}));var r=n(415);function o(t){var e=0,n=0,o=0,c=0;return Object(r.I)(t)?e=n=o=c=t:Object(r.z)(t)&&(e=t[0],o=Object(r.G)(t[1])?t[0]:t[1],c=Object(r.G)(t[2])?t[0]:t[2],n=Object(r.G)(t[3])?o:t[3]),[e,o,c,n]}function c(t){for(var e=t.childNodes,i=e.length-1;i>=0;i--)t.removeChild(e[i])}function l(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function h(t){var e=t.start,n=t.end,r=Math.min(e.x,n.x),o=Math.min(e.y,n.y),c=Math.max(e.x,n.x),l=Math.max(e.y,n.y);return{x:r,y:o,minX:r,minY:o,maxX:c,maxY:l,width:c-r,height:l-o}}function f(t){var e=t.map((function(t){return t.x})),n=t.map((function(t){return t.y})),r=Math.min.apply(Math,e),o=Math.min.apply(Math,n),c=Math.max.apply(Math,e),l=Math.max.apply(Math,n);return{x:r,y:o,minX:r,minY:o,maxX:c,maxY:l,width:c-r,height:l-o}}function d(t,e,n,r){var o=t+n,c=e+r;return{x:t,y:e,width:n,height:r,minX:t,minY:e,maxX:isNaN(o)?0:o,maxY:isNaN(c)?0:c}}function v(t,e,n){return(1-n)*t+e*n}function y(t,e,n){return{x:t.x+Math.cos(n)*e,y:t.y+Math.sin(n)*e}}var m=function(t,e,n){return void 0===n&&(n=Math.pow(Number.EPSILON,.5)),[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<n};function x(element){var t,e,n,o,c,l=element.getClip(),h=l&&l.getBBox();if(element.isGroup()){var f=1/0,v=-1/0,y=1/0,m=-1/0,O=element.getChildren();O.length>0?Object(r.j)(O,(function(t){if(t.get("visible")){if(t.isGroup()&&0===t.get("children").length)return!0;var e=x(t),n=t.applyToMatrix([e.minX,e.minY,1]),r=t.applyToMatrix([e.minX,e.maxY,1]),o=t.applyToMatrix([e.maxX,e.minY,1]),c=t.applyToMatrix([e.maxX,e.maxY,1]),l=Math.min(n[0],r[0],o[0],c[0]),h=Math.max(n[0],r[0],o[0],c[0]),d=Math.min(n[1],r[1],o[1],c[1]),O=Math.max(n[1],r[1],o[1],c[1]);l<f&&(f=l),h>v&&(v=h),d<y&&(y=d),O>m&&(m=O)}})):(f=0,v=0,y=0,m=0),t=d(f,y,v-f,m-y)}else t=element.getBBox();return h?(e=t,n=h,o=Math.max(e.minX,n.minX),c=Math.max(e.minY,n.minY),d(o,c,Math.min(e.maxX,n.maxX)-o,Math.min(e.maxY,n.maxY)-c)):t}function O(element,t){if(element.getClip()||t.getClip()){var e=t.getClip();if(e){var n={type:e.get("type"),attrs:e.attr()};element.setClip(n)}else element.setClip(null)}}function j(t){return t+"px"}function w(t,e,n,r){var o,c,l,h,f=r/(o=t,l=(c=e).x-o.x,h=c.y-o.y,Math.sqrt(l*l+h*h)),d=0;return"start"===n?d=0-f:"end"===n&&(d=1+f),{x:v(t.x,e.x,d),y:v(t.y,e.y,d)}}},421:function(t,e,n){"use strict";n.d(e,"e",(function(){return M})),n.d(e,"b",(function(){return P})),n.d(e,"a",(function(){return _})),n.d(e,"c",(function(){return line})),n.d(e,"d",(function(){return polyline})),n.d(e,"f",(function(){return r}));var r={};function o(t){return Math.min.apply(null,t)}function c(t){return Math.max.apply(null,t)}function l(t,e,n,r){var o=t-n,c=e-r;return Math.sqrt(o*o+c*c)}function h(t,e){return Math.abs(t-e)<.001}function f(t,e){var n=o(t),r=o(e);return{x:n,y:r,width:c(t)-n,height:c(e)-r}}function d(t,e,n,r){return{minX:o([t,n]),maxX:c([t,n]),minY:o([e,r]),maxY:c([e,r])}}function v(t){return(t+2*Math.PI)%(2*Math.PI)}n.r(r),n.d(r,"distance",(function(){return l})),n.d(r,"isNumberEqual",(function(){return h})),n.d(r,"getBBoxByArray",(function(){return f})),n.d(r,"getBBoxRange",(function(){return d})),n.d(r,"piMod",(function(){return v}));var y=n(474),line={box:function(t,e,n,r){return f([t,n],[e,r])},length:function(t,e,n,r){return l(t,e,n,r)},pointAt:function(t,e,n,r,o){return{x:(1-o)*t+o*n,y:(1-o)*e+o*r}},pointDistance:function(t,e,n,r,o,c){var h=(n-t)*(o-t)+(r-e)*(c-e);return h<0?l(t,e,o,c):h>(n-t)*(n-t)+(r-e)*(r-e)?l(n,r,o,c):this.pointToLine(t,e,n,r,o,c)},pointToLine:function(t,e,n,r,o,c){var l=[n-t,r-e];if(y.exactEquals(l,[0,0]))return Math.sqrt((o-t)*(o-t)+(c-e)*(c-e));var u=[-l[1],l[0]];y.normalize(u,u);var a=[o-t,c-e];return Math.abs(y.dot(a,u))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}};function m(t,e,n,r,o,c){var h,f=1/0,d=[n,r],v=20;c&&c>200&&(v=c/10);for(var y=1/v,m=y/10,i=0;i<=v;i++){var x=i*y,O=[o.apply(null,t.concat([x])),o.apply(null,e.concat([x]))];(M=l(d[0],d[1],O[0],O[1]))<f&&(h=x,f=M)}if(0===h)return{x:t[0],y:e[0]};if(1===h){var j=t.length;return{x:t[j-1],y:e[j-1]}}f=1/0;for(i=0;i<32&&!(m<1e-4);i++){var w=h-m,C=h+m,M=(O=[o.apply(null,t.concat([w])),o.apply(null,e.concat([w]))],l(d[0],d[1],O[0],O[1]));if(w>=0&&M<f)h=w,f=M;else{var S=[o.apply(null,t.concat([C])),o.apply(null,e.concat([C]))],A=l(d[0],d[1],S[0],S[1]);C<=1&&A<f?(h=C,f=A):m*=.5}}return{x:o.apply(null,t.concat([h])),y:o.apply(null,e.concat([h]))}}function x(t,e,n,r){var o=1-r;return o*o*t+2*r*o*e+r*r*n}function O(t,e,n){var a=t+n-2*e;if(h(a,0))return[.5];var r=(t-e)/a;return r<=1&&r>=0?[r]:[]}function j(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function w(t,e,n,r,o,c,l){var h=x(t,n,o,l),f=x(e,r,c,l),d=line.pointAt(t,e,n,r,l),v=line.pointAt(n,r,o,c,l);return[[t,e,d.x,d.y,h,f],[h,f,v.x,v.y,o,c]]}function C(t,e,n,r,o,c,h){if(0===h)return(l(t,e,n,r)+l(n,r,o,c)+l(t,e,o,c))/2;var f=w(t,e,n,r,o,c,.5),d=f[0],v=f[1];return d.push(h-1),v.push(h-1),C.apply(null,d)+C.apply(null,v)}var M={box:function(t,e,n,r,o,c){var l=O(t,n,o)[0],h=O(e,r,c)[0],d=[t,o],v=[e,c];return void 0!==l&&d.push(x(t,n,o,l)),void 0!==h&&v.push(x(e,r,c,h)),f(d,v)},length:function(t,e,n,r,o,c){return C(t,e,n,r,o,c,3)},nearestPoint:function(t,e,n,r,o,c,l,h){return m([t,n,o],[e,r,c],l,h,x)},pointDistance:function(t,e,n,r,o,c,h,f){var d=this.nearestPoint(t,e,n,r,o,c,h,f);return l(d.x,d.y,h,f)},interpolationAt:x,pointAt:function(t,e,n,r,o,c,l){return{x:x(t,n,o,l),y:x(e,r,c,l)}},divide:function(t,e,n,r,o,c,l){return w(t,e,n,r,o,c,l)},tangentAngle:function(t,e,n,r,o,c,l){var h=j(t,n,o,l),f=j(e,r,c,l);return v(Math.atan2(f,h))}};function S(t,e,n,r,o){var c=1-o;return c*c*c*t+3*e*o*c*c+3*n*o*o*c+r*o*o*o}function A(t,e,n,r,o){var c=1-o;return 3*(c*c*(e-t)+2*c*o*(n-e)+o*o*(r-n))}function T(t,e,n,r){var o,c,l,a=-3*t+9*e-9*n+3*r,b=6*t-12*e+6*n,f=3*e-3*t,d=[];if(h(a,0))h(b,0)||(o=-f/b)>=0&&o<=1&&d.push(o);else{var v=b*b-4*a*f;h(v,0)?d.push(-b/(2*a)):v>0&&(c=(-b-(l=Math.sqrt(v)))/(2*a),(o=(-b+l)/(2*a))>=0&&o<=1&&d.push(o),c>=0&&c<=1&&d.push(c))}return d}function B(t,e,n,r,o,c,l,h,f){var d=S(t,n,o,l,f),v=S(e,r,c,h,f),y=line.pointAt(t,e,n,r,f),m=line.pointAt(n,r,o,c,f),x=line.pointAt(o,c,l,h,f),O=line.pointAt(y.x,y.y,m.x,m.y,f),j=line.pointAt(m.x,m.y,x.x,x.y,f);return[[t,e,y.x,y.y,O.x,O.y,d,v],[d,v,j.x,j.y,x.x,x.y,l,h]]}function k(t,e,n,r,o,c,h,f,d){if(0===d)return function(t,e){for(var n=0,r=t.length,i=0;i<r;i++)n+=l(t[i],e[i],t[(i+1)%r],e[(i+1)%r]);return n/2}([t,n,o,h],[e,r,c,f]);var v=B(t,e,n,r,o,c,h,f,.5),y=v[0],m=v[1];return y.push(d-1),m.push(d-1),k.apply(null,y)+k.apply(null,m)}var P={extrema:T,box:function(t,e,n,r,o,c,l,h){for(var d=[t,l],v=[e,h],y=T(t,n,o,l),m=T(e,r,c,h),i=0;i<y.length;i++)d.push(S(t,n,o,l,y[i]));for(i=0;i<m.length;i++)v.push(S(e,r,c,h,m[i]));return f(d,v)},length:function(t,e,n,r,o,c,l,h){return k(t,e,n,r,o,c,l,h,3)},nearestPoint:function(t,e,n,r,o,c,l,h,f,d,v){return m([t,n,o,l],[e,r,c,h],f,d,S,v)},pointDistance:function(t,e,n,r,o,c,h,f,d,v,y){var m=this.nearestPoint(t,e,n,r,o,c,h,f,d,v,y);return l(m.x,m.y,d,v)},interpolationAt:S,pointAt:function(t,e,n,r,o,c,l,h,f){return{x:S(t,n,o,l,f),y:S(e,r,c,h,f)}},divide:function(t,e,n,r,o,c,l,h,f){return B(t,e,n,r,o,c,l,h,f)},tangentAngle:function(t,e,n,r,o,c,l,h,f){var d=A(t,n,o,l,f),y=A(e,r,c,h,f);return v(Math.atan2(y,d))}};function E(t,e){var n=Math.abs(t);return e>0?n:-1*n}var L=function(t,e,n,r,o,c){var a=n,b=r;if(0===a||0===b)return{x:t,y:e};for(var l,h,f=o-t,d=c-e,v=Math.abs(f),y=Math.abs(d),m=a*a,x=b*b,O=Math.PI/4,i=0;i<4;i++){l=a*Math.cos(O),h=b*Math.sin(O);var j=(m-x)*Math.pow(Math.cos(O),3)/a,w=(x-m)*Math.pow(Math.sin(O),3)/b,C=l-j,M=h-w,S=v-j,A=y-w,T=Math.hypot(M,C),q=Math.hypot(A,S);O+=T*Math.asin((C*A-M*S)/(T*q))/Math.sqrt(m+x-l*l-h*h),O=Math.min(Math.PI/2,Math.max(0,O))}return{x:t+E(l,f),y:e+E(h,d)}};function I(t,e,n,r,o,c){return n*Math.cos(o)*Math.cos(c)-r*Math.sin(o)*Math.sin(c)+t}function F(t,e,n,r,o,c){return n*Math.sin(o)*Math.cos(c)+r*Math.cos(o)*Math.sin(c)+e}function D(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function R(t,e,n){var r=Math.cos(n),o=Math.sin(n);return[t*r-e*o,t*o+e*r]}var _={box:function(t,e,n,r,o,c,l){for(var h=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,r,o),f=1/0,d=-1/0,v=[c,l],i=2*-Math.PI;i<=2*Math.PI;i+=Math.PI){var y=h+i;c<l?c<y&&y<l&&v.push(y):l<y&&y<c&&v.push(y)}for(i=0;i<v.length;i++){var m=I(t,0,n,r,o,v[i]);m<f&&(f=m),m>d&&(d=m)}var x=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,r,o),O=1/0,j=-1/0,w=[c,l];for(i=2*-Math.PI;i<=2*Math.PI;i+=Math.PI){var C=x+i;c<l?c<C&&C<l&&w.push(C):l<C&&C<c&&w.push(C)}for(i=0;i<w.length;i++){var M=F(0,e,n,r,o,w[i]);M<O&&(O=M),M>j&&(j=M)}return{x:f,y:O,width:d-f,height:j-O}},length:function(t,e,n,r,o,c,l){},nearestPoint:function(t,e,n,r,o,c,l,h,f){var d=R(h-t,f-e,-o),v=d[0],y=d[1],m=L(0,0,n,r,v,y),x=function(t,e,n,r){return(Math.atan2(r*t,n*e)+2*Math.PI)%(2*Math.PI)}(n,r,m.x,m.y);x<c?m=D(n,r,c):x>l&&(m=D(n,r,l));var O=R(m.x,m.y,o);return{x:O[0]+t,y:O[1]+e}},pointDistance:function(t,e,n,r,o,c,h,f,d){var v=this.nearestPoint(t,e,n,r,f,d);return l(v.x,v.y,f,d)},pointAt:function(t,e,n,r,o,c,l,h){var f=(l-c)*h+c;return{x:I(t,0,n,r,o,f),y:F(0,e,n,r,o,f)}},tangentAngle:function(t,e,n,r,o,c,l,h){var f=(l-c)*h+c,d=function(t,e,n,r,o,c,l,h){return-1*n*Math.cos(o)*Math.sin(h)-r*Math.sin(o)*Math.cos(h)}(0,0,n,r,o,0,0,f),y=function(t,e,n,r,o,c,l,h){return-1*n*Math.sin(o)*Math.sin(h)+r*Math.cos(o)*Math.cos(h)}(0,0,n,r,o,0,0,f);return v(Math.atan2(y,d))}};function Y(t){for(var e=0,n=[],i=0;i<t.length-1;i++){var r=t[i],o=t[i+1],c=l(r[0],r[1],o[0],o[1]),h={from:r,to:o,length:c};n.push(h),e+=c}return{segments:n,totalLength:e}}function G(t){if(t.length<2)return 0;for(var e=0,i=0;i<t.length-1;i++){var n=t[i],r=t[i+1];e+=l(n[0],n[1],r[0],r[1])}return e}function z(t,e){if(e>1||e<0||t.length<2)return null;var n=Y(t),r=n.segments,o=n.totalLength;if(0===o)return{x:t[0][0],y:t[0][1]};for(var c=0,l=null,i=0;i<r.length;i++){var h=r[i],f=h.from,d=h.to,v=h.length/o;if(e>=c&&e<=c+v){var y=(e-c)/v;l=line.pointAt(f[0],f[1],d[0],d[1],y);break}c+=v}return l}function X(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=Y(t),r=n.segments,o=n.totalLength,c=0,l=0,i=0;i<r.length;i++){var h=r[i],f=h.from,d=h.to,v=h.length/o;if(e>=c&&e<=c+v){l=Math.atan2(d[1]-f[1],d[0]-f[0]);break}c+=v}return l}function N(t,e,n){for(var r=1/0,i=0;i<t.length-1;i++){var o=t[i],c=t[i+1],l=line.pointDistance(o[0],o[1],c[0],c[1],e,n);l<r&&(r=l)}return r}var polyline={box:function(t){for(var e=[],n=[],i=0;i<t.length;i++){var r=t[i];e.push(r[0]),n.push(r[1])}return f(e,n)},length:function(t){return G(t)},pointAt:function(t,e){return z(t,e)},pointDistance:function(t,e,n){return N(t,e,n)},tangentAngle:function(t,e){return X(t,e)}}},422:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return h})),n.d(e,"l",(function(){return f})),n.d(e,"j",(function(){return d}));var r=n(415);function o(){return window?window.devicePixelRatio:1}function c(t,e,n,r){var o=t-n,c=e-r;return Math.sqrt(o*o+c*c)}function l(t,e,n,r,o,c){return o>=t&&o<=t+n&&c>=e&&c<=e+r}function h(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function f(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function d(t,e){return t[0]===e[0]&&t[1]===e[1]}n.d(e,"i",(function(){return r.G})),n.d(e,"k",(function(){return r.M})),n.d(e,"h",(function(){return r.F})),n.d(e,"g",(function(){return r.z})),n.d(e,"c",(function(){return r.j})),n.d(e,"o",(function(){return r.jb})),n.d(e,"m",(function(){return r.X})),n.d(e,"n",(function(){return r.cb})),n.d(e,"a",(function(){return r.d}))},423:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},o={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"}},424:function(t,e,n){"use strict";e.a={fontFamily:'\n  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},425:function(t,e,n){"use strict";var r=n(520);n.d(e,"Annotation",(function(){return r}));var o=n(524);n.d(e,"Axis",(function(){return o}));var c=n(526);n.d(e,"Crosshair",(function(){return c}));var l=n(531);n.d(e,"Grid",(function(){return l}));var h=n(532);n.d(e,"Legend",(function(){return h}));var f=n(533);n.d(e,"Tooltip",(function(){return f}));n(461),n(419),n(441);var d=n(527);n.d(e,"Slider",(function(){return d.a}));var v=n(536);n.d(e,"Scrollbar",(function(){return v.a}));n(510),n(511);var y=n(480);n.d(e,"propagationDelegate",(function(){return y.a}));var m=n(462);n.d(e,"TOOLTIP_CSS_CONST",(function(){return m}))},426:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return f}));var r=n(415),o=n(423);function c(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function l(t){var e=o.a[t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var element=c(e);if(t.get("id")&&(element.id=t.get("id")),t.set("el",element),t.set("attrs",{}),n){var r=n.get("el");r||(r=n.createDom(),n.set("el",r)),r.appendChild(element)}return element}function h(element,t){var e=element.get("el"),n=Object(r.ib)(e.children).sort(t),o=document.createDocumentFragment();n.forEach((function(t){o.appendChild(t)})),e.appendChild(o)}function f(element,t){var e=element.parentNode,n=Array.from(e.childNodes).filter((function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()})),r=n[t],o=n.indexOf(element);if(r){if(o>t)e.insertBefore(element,r);else if(o<t){var c=n[t+1];c?e.insertBefore(element,c):e.appendChild(element)}}else e.appendChild(element)}},427:function(t,e,n){"use strict";n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"d",(function(){return h})),n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return y}));var r=n(418),o=[1,0,0,0,1,0,0,0,1];function c(t,e,n){return void 0===n&&(n=o),e?r.a.transform(n,[["t",-t.x,-t.y],["r",e],["t",t.x,t.y]]):null}function l(t,e){return t.x||t.y?r.a.transform(e||o,[["t",t.x,t.y]]):null}function h(t){var e=[0,0,0];return r.d.transformMat3(e,[1,0,0],t),Math.atan2(e[1],e[0])}function f(t,e){var n=[0,0];return r.c.transformMat3(n,e,t),n}function d(t,e){var n=f(t,[e.minX,e.minY]),r=f(t,[e.maxX,e.minY]),o=f(t,[e.minX,e.maxY]),c=f(t,[e.maxX,e.maxY]),l=Math.min(n[0],r[0],o[0],c[0]),h=Math.max(n[0],r[0],o[0],c[0]),d=Math.min(n[1],r[1],o[1],c[1]),v=Math.max(n[1],r[1],o[1],c[1]);return{x:l,y:d,minX:l,minY:d,maxX:h,maxY:v,width:h-l,height:v-d}}function v(t,e,n,r){if(e){var o=c({x:n,y:r},e,t.getMatrix());t.setMatrix(o)}}function y(t,e,n){var r=l({x:e,y:n});t.attr("matrix",r)}},428:function(t,e,n){"use strict";n.d(e,"j",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return h}));var r=n(415);function o(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}n.d(e,"e",(function(){return r.G})),n.d(e,"d",(function(){return r.F})),n.d(e,"h",(function(){return r.M})),n.d(e,"f",(function(){return r.K})),n.d(e,"i",(function(){return r.W})),n.d(e,"a",(function(){return r.j})),n.d(e,"k",(function(){return r.nb}));var c="undefined"!=typeof window&&void 0!==window.document;function l(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r}function h(element){return element.cfg.visible&&element.cfg.capture}},429:function(t,e,n){"use strict";var r=n(415),o=n(479),c=function(){function t(t){var e=t.xField,n=t.yField,r=t.adjustNames,o=void 0===r?["x","y"]:r;this.adjustNames=o,this.xField=e,this.yField=n}return t.prototype.isAdjust=function(t){return this.adjustNames.indexOf(t)>=0},t.prototype.getAdjustRange=function(t,e,n){var pre,r,o=this.yField,c=n.indexOf(e),l=n.length;return!o&&this.isAdjust("y")?(pre=0,r=1):l>1?(pre=n[0===c?0:c-1],r=n[c===l-1?l-1:c+1],0!==c?pre+=(e-pre)/2:pre-=(r-e)/2,c!==l-1?r-=(r-e)/2:r+=(e-n[l-2])/2):(pre=0===e?0:e-.5,r=0===e?1:e+.5),{pre:pre,next:r}},t.prototype.adjustData=function(t,e){var n=this,o=this.getDimValues(e);r.j(t,(function(t,e){r.j(o,(function(r,o){n.adjustDim(o,r,t,e)}))}))},t.prototype.groupData=function(data,t){return r.j(data,(function(e){void 0===e[t]&&(e[t]=o.a)})),r.t(data,t)},t.prototype.adjustDim=function(t,e,data,n){},t.prototype.getDimValues=function(t){var e=this.xField,n=this.yField,c={},l=[];if(e&&this.isAdjust("x")&&l.push(e),n&&this.isAdjust("y")&&l.push(n),l.forEach((function(e){c[e]=r.pb(t,e).sort((function(t,e){return t-e}))})),!n&&this.isAdjust("y")){c.y=[o.a,1]}return c},t}();e.a=c},430:function(t,e,n){"use strict";n.d(e,"j",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return h}));var r=n(415);function o(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}n.d(e,"e",(function(){return r.G})),n.d(e,"d",(function(){return r.F})),n.d(e,"h",(function(){return r.M})),n.d(e,"f",(function(){return r.K})),n.d(e,"i",(function(){return r.W})),n.d(e,"a",(function(){return r.j})),n.d(e,"k",(function(){return r.nb}));var c="undefined"!=typeof window&&void 0!==window.document;function l(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r}function h(element){return element.cfg.visible&&element.cfg.capture}},434:function(t,e,n){"use strict";function r(t,e,n){if(t){if("function"==typeof t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if("function"==typeof t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}var o,c,l,h;function f(t){o||(o=document.createElement("table"),c=document.createElement("tr"),l=/^\s*<(\w+|!)[^>]*>/,h={tr:document.createElement("tbody"),tbody:o,thead:o,tfoot:o,td:c,th:c,"*":document.createElement("div")});var e=l.test(t)&&RegExp.$1;e&&e in h||(e="*");var n=h[e];t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t;var r=n.childNodes[0];return n.removeChild(r),r}function d(t,e,n){var r;try{r=window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.style[e]}catch(t){}finally{r=void 0===r?n:r}return r}function v(t,e){var n=function(t,e){var n=d(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)}(t,e),r=parseFloat(d(t,"borderTopWidth"))||0,o=parseFloat(d(t,"paddingTop"))||0,c=parseFloat(d(t,"paddingBottom"))||0;return n+r+(parseFloat(d(t,"borderBottomWidth"))||0)+o+c+(parseFloat(d(t,"marginTop"))||0)+(parseFloat(d(t,"marginBottom"))||0)}function y(t,e){var n=function(t,e){var n=d(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)}(t,e),r=parseFloat(d(t,"borderLeftWidth"))||0,o=parseFloat(d(t,"paddingLeft"))||0,c=parseFloat(d(t,"paddingRight"))||0,l=parseFloat(d(t,"borderRightWidth"))||0,h=parseFloat(d(t,"marginRight"))||0;return n+r+l+o+c+(parseFloat(d(t,"marginLeft"))||0)+h}function m(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return y})),n.d(e,"e",(function(){return m}))},435:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return lt})),n.d(e,"c",(function(){return Ct}));var r={};n.r(r),n.d(r,"default",(function(){return V})),n.d(r,"assign",(function(){return M})),n.d(r,"format",(function(){return N})),n.d(r,"parse",(function(){return H})),n.d(r,"defaultI18n",(function(){return B})),n.d(r,"setGlobalDateI18n",(function(){return P})),n.d(r,"setGlobalDateMasks",(function(){return X}));var o=n(415),c={};function l(t,e){c[t]=e}var h=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){Object(o.b)(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return Object(o.R)(this.ticks,(function(e,n){return Object(o.K)(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var n=this.formatter,r=n?n(t,e):t;return Object(o.G)(r)||!Object(o.F)(r.toString)?"":r.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){Object(o.b)(this,this.__cfg__),this.setDomain(),Object(o.D)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(Object(o.M)(t)){var n=c[t];if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else Object(o.F)(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(t,e,n){return Object(o.I)(t)?(t-e)/(n-e):NaN},t.prototype.calcValue=function(t,e,n){return e+t*(n-e)},t}(),f=n(416),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return Object(f.b)(e,t),e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var i=0;i<this.values.length;i++)this.translateIndexMap.set(this.values[i],i)}},e.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=Object(o.I)(t)?t:NaN),e},e.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),r=Math.round(e*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},e.prototype.getText=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var c=e;return Object(o.I)(e)&&!this.values.includes(e)&&(c=this.values[c]),t.prototype.getText.apply(this,Object(f.e)([c],n))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if(Object(o.G)(this.getConfig("min"))&&(this.min=0),Object(o.G)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(h),v=d,y=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,m="[1-9]\\d?",x="\\d\\d",O="[^\\s]+",j=/\[([^]*?)\]/gm;function w(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n.push(t[i].substr(0,e));return n}var C=function(t){return function(e,n){var r=n[t].map((function(t){return t.toLowerCase()})),o=r.indexOf(e.toLowerCase());return o>-1?o:null}};function M(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,o=e;r<o.length;r++){var c=o[r];for(var l in c)t[l]=c[l]}return t}var S=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],A=["January","February","March","April","May","June","July","August","September","October","November","December"],T=w(A,3),B={dayNamesShort:w(S,3),dayNames:S,monthNamesShort:T,monthNames:A,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10?1:0)*t%10]}},k=M({},B),P=function(t){return k=M(k,t)},E=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},L=function(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},I={D:function(t){return String(t.getDate())},DD:function(t){return L(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return L(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return L(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return L(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return L(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return L(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return L(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return L(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return L(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return L(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return L(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+L(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+L(Math.floor(Math.abs(e)/60),2)+":"+L(Math.abs(e)%60,2)}},F=function(t){return+t-1},D=[null,m],R=[null,O],_=["isPm",O,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],Y=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],G={D:["day",m],DD:["day",x],Do:["day","[1-9]\\d?[^\\s]+",function(t){return parseInt(t,10)}],M:["month",m,F],MM:["month",x,F],YY:["year",x,function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+t>68?e-1:e)+t)}],h:["hour",m,void 0,"isPm"],hh:["hour",x,void 0,"isPm"],H:["hour",m],HH:["hour",x],m:["minute",m],mm:["minute",x],s:["second",m],ss:["second",x],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond",x,function(t){return 10*+t}],SSS:["millisecond","\\d{3}"],d:D,dd:D,ddd:R,dddd:R,MMM:["month",O,C("monthNamesShort")],MMMM:["month",O,C("monthNames")],a:_,A:_,ZZ:Y,Z:Y},z={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},X=function(t){return M(z,t)},N=function(t,mask,e){if(void 0===mask&&(mask=z.default),void 0===e&&(e={}),"number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");var n=[];mask=(mask=z[mask]||mask).replace(j,(function(t,e){return n.push(e),"@@@"}));var r=M(M({},k),e);return(mask=mask.replace(y,(function(e){return I[e](t,r)}))).replace(/@@@/g,(function(){return n.shift()}))};function H(t,e,n){if(void 0===n&&(n={}),"string"!=typeof e)throw new Error("Invalid format in fecha parse");if(e=z[e]||e,t.length>1e3)return null;var r={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},o=[],c=[],l=e.replace(j,(function(t,e){return c.push(E(e)),"@@@"})),h={},f={};l=E(l).replace(y,(function(t){var e=G[t],n=e[0],r=e[1],c=e[3];if(h[n])throw new Error("Invalid format. "+n+" specified twice in format");return h[n]=!0,c&&(f[c]=!0),o.push(e),"("+r+")"})),Object.keys(f).forEach((function(t){if(!h[t])throw new Error("Invalid format. "+t+" is required in specified format")})),l=l.replace(/@@@/g,(function(){return c.shift()}));var d=t.match(new RegExp(l,"i"));if(!d)return null;for(var v=M(M({},k),n),i=1;i<d.length;i++){var m=o[i-1],x=m[0],O=m[2],w=O?O(d[i],v):+d[i];if(null==w)return null;r[x]=w}1===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:0===r.isPm&&12==+r.hour&&(r.hour=0);for(var C=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond),S=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],A=(i=0,S.length);i<A;i++)if(h[S[i][0]]&&r[S[i][0]]!==C[S[i][1]]())return null;return null==r.timezoneOffset?C:new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond))}var V={format:N,parse:H,defaultI18n:B,setGlobalDateI18n:P,setGlobalDateMasks:X};function W(time,mask){return(r.format||V.format)(time,mask)}function U(t){return Object(o.M)(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),Object(o.B)(t)&&(t=t.getTime()),t}var Z=1e3,K=6e4,Q=36e5,J=24*Q,$=31*J,tt=365*J,et=[["HH:mm:ss",Z],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",K],["HH:mm",6e5],["HH:mm",18e5],["HH",Q],["HH",6*Q],["HH",12*Q],["YYYY-MM-DD",J],["YYYY-MM-DD",4*J],["YYYY-WW",7*J],["YYYY-MM",$],["YYYY-MM",4*$],["YYYY-MM",6*$],["YYYY",380*J]];function nt(t,e,n){var r,c=(r=function(t){return t[1]},function(a,t,e,n){for(var c=Object(o.G)(e)?0:e,l=Object(o.G)(n)?a.length:n;c<l;){var h=c+l>>>1;r(a[h])>t?l=h:c=h+1}return c})(et,(e-t)/n)-1,l=et[c];return c<0?l=et[0]:c>=et.length&&(l=Object(o.P)(et)),l}var it=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return Object(f.b)(e,t),e.prototype.translate=function(t){t=U(t);var e=this.values.indexOf(t);return-1===e&&(e=Object(o.I)(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var r=this.values[n],o=this.formatter;return r=o?o(r,e):W(r,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;Object(o.j)(e,(function(t,i){e[i]=U(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}(v),ot=it,at=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return Object(f.b)(e,t),e.prototype.scale=function(t){if(Object(o.G)(t))return NaN;var e=this.rangeMin(),n=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(n-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=Object(o.w)(e),r=Object(o.P)(e);n<this.min&&(this.min=n),r>this.max&&(this.max=r),Object(o.G)(this.minLimit)||(this.min=n),Object(o.G)(this.maxLimit)||(this.max=r)},e.prototype.setDomain=function(){var t=Object(o.r)(this.values),e=t.min,n=t.max;Object(o.G)(this.min)&&(this.min=e),Object(o.G)(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},e.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=Object(o.l)(n,(function(t){return t>=e.min&&t<=e.max}))),n},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(h),st=at,ct=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return Object(f.b)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(st),lt=ct;function ut(a,b){var t=Math.E;return b>=0?Math.pow(t,Math.log(b)/a):-1*Math.pow(t,Math.log(-b)/a)}function ht(a,b){return 1===a?1:Math.log(b)/Math.log(a)}function pt(t,base,e){Object(o.G)(e)&&(e=Math.max.apply(null,t));var n=e;return Object(o.j)(t,(function(t){t>0&&t<n&&(n=t)})),n===e&&(n=e/base),n>1&&(n=1),n}var ft=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return Object(f.b)(e,t),e.prototype.invert=function(t){var e,base=this.base,n=ht(base,this.max),r=this.rangeMin(),o=this.rangeMax()-r,c=this.positiveMin;if(c){if(0===t)return 0;var l=1/(n-(e=ht(base,c/base)))*o;if(t<l)return t/l*c}else e=ht(base,this.min);var h=(t-r)/o*(n-e)+e;return Math.pow(base,h)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=pt(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var base=this.base,r=this.positiveMin;return r&&(n=1*r/base),t<r?t/r/(ht(base,e)-ht(base,n)):(ht(base,t)-ht(base,n))/(ht(base,e)-ht(base,n))},e}(st),gt=ft,vt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return Object(f.b)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,r=ut(n,this.max),o=ut(n,this.min),c=e*(r-o)+o,l=c>=0?1:-1;return Math.pow(c,n)*l},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent;return(ut(r,t)-ut(r,n))/(ut(r,e)-ut(r,n))},e}(st),yt=vt,mt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return Object(f.b)(e,t),e.prototype.getText=function(t,e){var n=this.translate(t),r=this.formatter;return r?r(n,e):W(n,this.mask)},e.prototype.scale=function(e){var n=e;return(Object(o.M)(n)||Object(o.B)(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(t){return U(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if(Object(o.G)(e)&&Object(o.I)(e)||(this.min=this.translate(this.min)),Object(o.G)(n)&&Object(o.I)(n)||(this.max=this.translate(this.max)),t&&t.length){var r=[],c=1/0,l=c,h=0;Object(o.j)(t,(function(t){var e=U(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");c>e?(l=c,c=e):l>e&&(l=e),h<e&&(h=e),r.push(e)})),t.length>1&&(this.minTickInterval=l-c),Object(o.G)(e)&&(this.min=c),Object(o.G)(n)&&(this.max=h)}},e}(lt),bt=mt,xt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return Object(f.b)(e,t),e.prototype.invert=function(t){var e=this.ticks,n=e.length,r=this.getInvertPercent(t),c=Math.floor(r*(n-1));if(c>=n-1)return Object(o.P)(e);if(c<0)return Object(o.w)(e);var l=e[c],h=c/(n-1);return l+(r-h)/((c+1)/(n-1)-h)*(e[c+1]-l)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||(Object(o.P)(e)!==this.max&&e.push(this.max),Object(o.w)(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<Object(o.w)(e))return 0;if(t>Object(o.P)(e))return 1;var n=0;return Object(o.j)(e,(function(e,r){if(!(t>=e))return!1;n=r})),n/(e.length-1)},e}(st),Ot=xt,jt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return Object(f.b)(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(Ot),wt=jt,map={};function Ct(t){return map[t]}function Mt(t,e){if(Ct(t))throw new Error("type '"+t+"' existed.");map[t]=e}var St=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return Object(f.b)(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&Object(o.I)(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(h),At=St,Tt=[1,5,2,2.5,4,3],Bt=100*Number.EPSILON;function kt(q,t,e,n,r,c){var l=Object(o.eb)(t),i=Object(o.y)(t,q),h=0,f=function(t,e){return(t%e+e)%e}(n,c);return(f<Bt||c-f<Bt)&&n<=0&&r>=0&&(h=1),1-i/(l-1)-e+h}function Pt(q,t,e){var n=Object(o.eb)(t);return 1-Object(o.y)(t,q)/(n-1)-e+1}function Et(t,e,n,r,o,c){var l=(t-1)/(c-o),rt=(e-1)/(Math.max(c,r)-Math.min(n,o));return 2-Math.max(l/rt,rt/l)}function Lt(t,e){return t>=e?2-(t-1)/(e-1):1}function It(t,e,n,r){var o=e-t;return 1-.5*(Math.pow(e-r,2)+Math.pow(t-n,2))/Math.pow(.1*o,2)}function Ft(t,e,span){var n=e-t;if(span>n){var r=(span-n)/2;return 1-Math.pow(r,2)/Math.pow(.1*n,2)}return 1}function Dt(t,e,n,r,c,l){if(void 0===n&&(n=5),void 0===r&&(r=!0),void 0===c&&(c=Tt),void 0===l&&(l=[.25,.2,.5,.05]),Number.isNaN(t)||Number.isNaN(e)||"number"!=typeof t||"number"!=typeof e||!n)return{min:0,max:0,ticks:[]};if(e-t<1e-15||1===n)return{min:t,max:e,ticks:[t]};for(var h={score:-2,lmin:0,lmax:0,lstep:0},f=1;f<1/0;){for(var i=0;i<c.length;i+=1){var q=c[i],d=Pt(q,c,f);if(l[0]*d+l[1]+l[2]+l[3]<h.score){f=1/0;break}for(var v=2;v<1/0;){var y=Lt(v,n);if(l[0]*d+l[1]+l[2]*y+l[3]<h.score)break;for(var m=(e-t)/(v+1)/f/q,x=Math.ceil(Math.log10(m));x<1/0;){var O=f*q*Math.pow(10,x),j=Ft(t,e,O*(v-1));if(l[0]*d+l[1]*j+l[2]*y+l[3]<h.score)break;var w=Math.floor(e/O)*f-(v-1)*f,C=Math.ceil(t/O)*f;if(w<=C)for(var M=C-w,S=0;S<=M;S+=1){var A=(w+S)*(O/f),T=A+O*(v-1),B=O,s=kt(q,c,f,A,T,B),k=It(t,e,A,T),g=Et(v,n,t,e,A,T),P=l[0]*s+l[1]*k+l[2]*g+1*l[3];P>h.score&&(!r||A<=t&&T>=e)&&(h.lmin=A,h.lmax=T,h.lstep=B,h.score=P)}x+=1}v+=1}}f+=1}var E,L=h.lmax,I=h.lmin,F=h.lstep,D=Math.floor((L-I)/F)+1,R=new Array(D);for(i=0;i<D;i++)R[i]=(E=I+i*F)<1e-15?E:parseFloat(E.toFixed(15));return{min:Math.min(t,Object(o.w)(R)),max:Math.max(e,Object(o.P)(R)),ticks:R}}function Rt(t){var e=t.values,n=t.tickInterval,r=t.tickCount,c=e;if(Object(o.I)(n))return Object(o.l)(c,(function(t,i){return i%n==0}));var l=t.min,h=t.max;if(Object(o.G)(l)&&(l=0),Object(o.G)(h)&&(h=e.length-1),Object(o.I)(r)&&r<h-l){var f=Dt(l,h,r,!1,[1,2,5,3,4,7,6,8,9]).ticks;return Object(o.l)(f,(function(t){return t>=l&&t<=h})).map((function(t){return e[t]}))}return e.slice(l,h+1)}var _t=Math.sqrt(50),Yt=Math.sqrt(10),Gt=Math.sqrt(2),zt=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,n;void 0===t&&(t=5);var r,o=this._domain.slice(),c=0,l=this._domain.length-1,h=this._domain[c],f=this._domain[l];return f<h&&(h=(e=[f,h])[0],f=e[1],c=(n=[l,c])[0],l=n[1]),(r=Xt(h,f,t))>0?r=Xt(h=Math.floor(h/r)*r,f=Math.ceil(f/r)*r,t):r<0&&(r=Xt(h=Math.ceil(h*r)/r,f=Math.floor(f*r)/r,t)),r>0?(o[c]=Math.floor(h/r)*r,o[l]=Math.ceil(f/r)*r,this.domain(o)):r<0&&(o[c]=Math.ceil(h*r)/r,o[l]=Math.floor(f*r)/r,this.domain(o)),this},t.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,n){var r,o,c,l,i=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];(r=e<t)&&(o=t,t=e,e=o);if(0===(l=Xt(t,e,n))||!isFinite(l))return[];if(l>0)for(t=Math.ceil(t/l),e=Math.floor(e/l),c=new Array(o=Math.ceil(e-t+1));++i<o;)c[i]=(t+i)*l;else for(t=Math.floor(t*l),e=Math.ceil(e*l),c=new Array(o=Math.ceil(t-e+1));++i<o;)c[i]=(t-i)/l;r&&c.reverse();return c}(this._domain[0],this._domain[this._domain.length-1],t||5)},t}();function Xt(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),c=r/Math.pow(10,o);return o>=0?(c>=_t?10:c>=Yt?5:c>=Gt?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(c>=_t?10:c>=Yt?5:c>=Gt?2:1)}function Nt(t,base,e){return("ceil"===e?Math.ceil(t/base):"floor"===e?Math.floor(t/base):Math.round(t/base))*base}function Ht(t,e,n){var r=Nt(t,n,"floor"),c=Nt(e,n,"ceil");r=Object(o.o)(r,n),c=Object(o.o)(c,n);for(var l=[],i=r;i<=c;i+=n){var h=Object(o.o)(i,n);l.push(h)}return{min:r,max:c,ticks:l}}function Vt(t,e,n){var r,c=t.minLimit,l=t.maxLimit,h=t.min,f=t.max,d=t.tickCount,v=void 0===d?5:d,y=Object(o.G)(c)?Object(o.G)(e)?h:e:c,m=Object(o.G)(l)?Object(o.G)(n)?f:n:l;if(y>m&&(m=(r=[y,m])[0],y=r[1]),v<=2)return[y,m];for(var x=(m-y)/(v-1),O=[],i=0;i<v;i++)O.push(y+x*i);return O}function qt(t){return t<1e-15?t:parseFloat(t.toFixed(15))}function Wt(t,e,n){if(void 0===n&&(n=5),t===e)return{max:e,min:t,ticks:[t]};var r=(e-t)/n,base=Math.pow(10,Math.floor(Math.log10(r))),o=base;2*base-r<1.5*(r-o)&&5*base-r<2.75*(r-(o=2*base))&&10*base-r<1.5*(r-(o=5*base))&&(o=10*base);for(var c=Math.ceil(e/o),l=Math.floor(t/o),h=Math.max(c*o,e),f=Math.min(l*o,t),d=Math.floor((h-f)/o)+1,v=new Array(d),i=0;i<d;i++)v[i]=qt(f+i*o);return{min:f,max:h,ticks:v}}function Ut(t,p){var e=t.length*p;return 1===p?t[t.length-1]:0===p?t[0]:e%1!=0?t[Math.ceil(e)-1]:t.length%2==0?(t[e-1]+t[e])/2:t[e]}function Zt(t){return new Date(t).getFullYear()}function Kt(t){return new Date(t,0,1).getTime()}function Qt(t){return new Date(t).getMonth()}function Jt(t,e){return new Date(t,e,1).getTime()}l("cat",Rt),l("time-cat",(function(t){var e=Rt(t),n=Object(o.P)(t.values);return n!==Object(o.P)(e)&&e.push(n),e})),l("wilkinson-extended",(function(t){var e=t.min,n=t.max,r=t.tickCount,c=t.nice,l=t.tickInterval,h=t.minLimit,f=t.maxLimit,d=Dt(e,n,r,c).ticks;return Object(o.G)(h)&&Object(o.G)(f)?l?Ht(e,n,l).ticks:d:Vt(t,Object(o.w)(d),Object(o.P)(d))})),l("r-pretty",(function(t){var e=t.min,n=t.max,r=t.tickCount,c=t.tickInterval,l=t.minLimit,h=t.maxLimit,f=Wt(e,n,r).ticks;return Object(o.G)(l)&&Object(o.G)(h)?c?Ht(e,n,c).ticks:f:Vt(t,Object(o.w)(f),Object(o.P)(f))})),l("time",(function(t){var e=t.min,n=t.max,r=t.minTickInterval,o=t.tickInterval,c=t.tickCount;if(o)c=Math.ceil((n-e)/o);else{var l=(n-e)/(o=nt(e,n,c)[1])/c;l>1&&(o*=Math.ceil(l)),r&&o<r&&(o=r)}for(var h=[],i=e;i<n+o;i+=o)h.push(i);return h})),l("time-pretty",(function(t){var e=t.min,n=t.max,r=t.minTickInterval,o=t.tickCount,c=t.tickInterval,l=[];c||(c=(n-e)/o,r&&c<r&&(c=r));var h=Zt(e);if(c>tt)for(var f=Zt(n),d=Math.ceil(c/tt),i=h;i<=f+d;i+=d)l.push(Kt(i));else if(c>$){var v=Math.ceil(c/$),y=Qt(e),m=function(t,e){var n=Zt(t),r=Zt(e),o=Qt(t);return 12*(r-n)+(Qt(e)-o)%12}(e,n);for(i=0;i<=m+v;i+=v)l.push(Jt(h,i+y))}else if(c>J){var x=(M=new Date(e)).getFullYear(),O=M.getMonth(),j=M.getDate(),w=Math.ceil(c/J),C=function(t,e){return Math.ceil((e-t)/J)}(e,n);for(i=0;i<C+w;i+=w)l.push(new Date(x,O,j+i).getTime())}else if(c>Q){x=(M=new Date(e)).getFullYear(),O=M.getMonth(),w=M.getDate();var M,S=M.getHours(),A=Math.ceil(c/Q),T=function(t,e){return Math.ceil((e-t)/Q)}(e,n);for(i=0;i<=T+A;i+=A)l.push(new Date(x,O,w,S+i).getTime())}else if(c>K){var B=function(t,e){return Math.ceil((e-t)/6e4)}(e,n),k=Math.ceil(c/K);for(i=0;i<=B+k;i+=k)l.push(e+i*K)}else{var P=c;P<Z&&(P=Z);var E=Math.floor(e/Z)*Z,L=Math.ceil((n-e)/Z),I=Math.ceil(P/Z);for(i=0;i<L+I;i+=I)l.push(E+i*Z)}return l.length>=512&&console.warn("Notice: current ticks length("+l.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+c+") is too small, increase the value to solve the problem!"),l})),l("log",(function(t){var e,base=t.base,n=t.tickCount,r=t.min,o=t.max,c=t.values,l=ht(base,o);if(r>0)e=Math.floor(ht(base,r));else{var h=pt(c,base,o);e=Math.floor(ht(base,h))}for(var f=l-e,d=Math.ceil(f/n),v=[],i=e;i<l+d;i+=d)v.push(Math.pow(base,i));return r<=0&&v.unshift(0),v})),l("pow",(function(t){var e=t.exponent,n=t.tickCount,r=Math.ceil(ut(e,t.max));return Wt(Math.floor(ut(e,t.min)),r,n).ticks.map((function(t){var n=t>=0?1:-1;return Math.pow(t,e)*n}))})),l("quantile",(function(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var r=n.slice().sort((function(a,b){return a-b})),o=[],i=0;i<e;i++){var p=i/(e-1);o.push(Ut(r,p))}return o})),l("d3-linear",(function(t){var e=t.min,n=t.max,r=t.tickInterval,c=t.minLimit,l=t.maxLimit,h=function(t){var e=t.min,n=t.max,r=t.nice,o=t.tickCount,c=new zt;return c.domain([e,n]),r&&c.nice(o),c.ticks(o)}(t);return Object(o.G)(c)&&Object(o.G)(l)?r?Ht(e,n,r).ticks:h:Vt(t,Object(o.w)(h),Object(o.P)(h))})),Mt("cat",v),Mt("category",v),Mt("identity",At),Mt("linear",lt),Mt("log",gt),Mt("pow",yt),Mt("time",bt),Mt("timeCat",ot),Mt("quantize",Ot),Mt("quantile",wt)},436:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return O})),n.d(e,"e",(function(){return T})),n.d(e,"b",(function(){return D}));var r=n(415),o=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,c=/[^\s\,]+/gi;var l=function(p){var path=p||[];return Object(r.z)(path)?path:Object(r.M)(path)?(path=path.match(o),Object(r.j)(path,(function(t,e){if((t=t.match(c))[0].length>1){var n=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=n}Object(r.j)(t,(function(sub,i){isNaN(sub)||(t[i]=+sub)})),path[e]=t})),path):void 0};function h(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var p=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4===i?p[3]={x:+t[0],y:+t[1]}:r-2===i&&(p[2]={x:+t[0],y:+t[1]},p[3]={x:+t[2],y:+t[3]}):p[0]={x:+t[r-2],y:+t[r-1]}:r-4===i?p[3]=p[2]:i||(p[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-p[0].x+6*p[1].x+p[2].x)/6,(-p[0].y+6*p[1].y+p[2].y)/6,(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y])}return n}var f="\t\n\v\f\r   ᠎             　\u2028\u2029",d=new RegExp("([a-z])["+f+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+f+"]*,?["+f+"]*)+)","ig"),v=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+f+"]*,?["+f+"]*","ig");function y(t){if(!t)return null;if(Object(r.z)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},data=[];return String(t).replace(d,(function(a,b,t){var n=[],r=b.toLowerCase();if(t.replace(v,(function(a,b){b&&n.push(+b)})),"m"===r&&n.length>2&&(data.push([b].concat(n.splice(0,2))),r="l",b="m"===b?"l":"L"),"o"===r&&1===n.length&&data.push([b,n[0]]),"r"===r)data.push([b].concat(n));else for(;n.length>=e[r]&&(data.push([b].concat(n.splice(0,e[r]))),e[r]););return""})),data}var m=/[a-z]/;function x(p,t){return[t[0]+(t[0]-p[0]),t[1]+(t[1]-p[1])]}function O(t){var e=y(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,i=0;i<e.length;i++){var r=e[i][0];if(m.test(r)||["V","H","T","S"].indexOf(r)>=0){n=!0;break}}if(!n)return e;var o=[],c=0,l=0,h=0,f=0,d=0,v=e[0];"M"!==v[0]&&"m"!==v[0]||(h=c=+v[1],f=l=+v[2],d++,o[0]=["M",c,l]);i=d;for(var O=e.length;i<O;i++){var j=e[i],w=o[i-1],C=[],M=(r=j[0]).toUpperCase();if(r!==M)switch(C[0]=M,M){case"A":C[1]=j[1],C[2]=j[2],C[3]=j[3],C[4]=j[4],C[5]=j[5],C[6]=+j[6]+c,C[7]=+j[7]+l;break;case"V":C[1]=+j[1]+l;break;case"H":C[1]=+j[1]+c;break;case"M":h=+j[1]+c,f=+j[2]+l,C[1]=h,C[2]=f;break;default:for(var S=1,A=j.length;S<A;S++)C[S]=+j[S]+(S%2?c:l)}else C=e[i];switch(M){case"Z":c=+h,l=+f;break;case"H":C=["L",c=C[1],l];break;case"V":C=["L",c,l=C[1]];break;case"T":c=C[1],l=C[2];var T=x([w[1],w[2]],[w[3],w[4]]);C=["Q",T[0],T[1],c,l];break;case"S":c=C[C.length-2],l=C[C.length-1];var B=w.length,k=x([w[B-4],w[B-3]],[w[B-2],w[B-1]]);C=["C",k[0],k[1],C[1],C[2],c,l];break;case"M":h=C[C.length-2],f=C[C.length-1];break;default:c=C[C.length-2],l=C[C.length-1]}o.push(C)}return o}Math.PI;function j(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function w(u,t){return j(u)*j(t)?(u[0]*t[0]+u[1]*t[1])/(j(u)*j(t)):1}function C(u,t){return(u[0]*t[1]<u[1]*t[0]?-1:1)*Math.acos(w(u,t))}function M(t,e){return t[0]===e[0]&&t[1]===e[1]}function S(t,e){var n=e[1],o=e[2],c=Object(r.X)(Object(r.jb)(e[3]),2*Math.PI),l=e[4],h=e[5],f=t[0],d=t[1],v=e[6],y=e[7],m=Math.cos(c)*(f-v)/2+Math.sin(c)*(d-y)/2,x=-1*Math.sin(c)*(f-v)/2+Math.cos(c)*(d-y)/2,O=m*m/(n*n)+x*x/(o*o);O>1&&(n*=Math.sqrt(O),o*=Math.sqrt(O));var j=n*n*(x*x)+o*o*(m*m),S=j?Math.sqrt((n*n*(o*o)-j)/j):1;l===h&&(S*=-1),isNaN(S)&&(S=0);var A=o?S*n*x/o:0,T=n?S*-o*m/n:0,B=(f+v)/2+Math.cos(c)*A-Math.sin(c)*T,k=(d+y)/2+Math.sin(c)*A+Math.cos(c)*T,u=[(m-A)/n,(x-T)/o],P=[(-1*m-A)/n,(-1*x-T)/o],E=C([1,0],u),L=C(u,P);return w(u,P)<=-1&&(L=Math.PI),w(u,P)>=1&&(L=0),0===h&&L>0&&(L-=2*Math.PI),1===h&&L<0&&(L+=2*Math.PI),{cx:B,cy:k,rx:M(t,[v,y])?0:n,ry:M(t,[v,y])?0:o,startAngle:E,endAngle:E+L,xRotation:c,arcFlag:l,sweepFlag:h}}function A(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function T(path){for(var t=[],e=null,n=null,r=null,o=0,c=(path=l(path)).length,i=0;i<c;i++){var h=path[i];n=path[i+1];var f=h[0],d={command:f,prePoint:e,params:h,startTangent:null,endTangent:null};switch(f){case"M":r=[h[1],h[2]],o=i;break;case"A":var v=S(e,h);d.arcParams=v}if("Z"===f)e=r,n=path[o+1];else{var y=h.length;e=[h[y-2],h[y-1]]}n&&"Z"===n[0]&&(n=path[o],t[o]&&(t[o].prePoint=e)),d.currentPoint=e,t[o]&&M(e,t[o].currentPoint)&&(t[o].prePoint=d.prePoint);var m=n?[n[n.length-2],n[n.length-1]]:null;d.nextPoint=m;var x=d.prePoint;if(["L","H","V"].includes(f))d.startTangent=[x[0]-e[0],x[1]-e[1]],d.endTangent=[e[0]-x[0],e[1]-x[1]];else if("Q"===f){var O=[h[1],h[2]];d.startTangent=[x[0]-O[0],x[1]-O[1]],d.endTangent=[e[0]-O[0],e[1]-O[1]]}else if("T"===f){O=A((C=t[i-1]).currentPoint,x);"Q"===C.command?(d.command="Q",d.startTangent=[x[0]-O[0],x[1]-O[1]],d.endTangent=[e[0]-O[0],e[1]-O[1]]):(d.command="TL",d.startTangent=[x[0]-e[0],x[1]-e[1]],d.endTangent=[e[0]-x[0],e[1]-x[1]])}else if("C"===f){var j=[h[1],h[2]],w=[h[3],h[4]];d.startTangent=[x[0]-j[0],x[1]-j[1]],d.endTangent=[e[0]-w[0],e[1]-w[1]],0===d.startTangent[0]&&0===d.startTangent[1]&&(d.startTangent=[j[0]-w[0],j[1]-w[1]]),0===d.endTangent[0]&&0===d.endTangent[1]&&(d.endTangent=[w[0]-j[0],w[1]-j[1]])}else if("S"===f){var C;j=A((C=t[i-1]).currentPoint,x),w=[h[1],h[2]];"C"===C.command?(d.command="C",d.startTangent=[x[0]-j[0],x[1]-j[1]],d.endTangent=[e[0]-w[0],e[1]-w[1]]):(d.command="SQ",d.startTangent=[x[0]-w[0],x[1]-w[1]],d.endTangent=[e[0]-w[0],e[1]-w[1]])}else if("A"===f){var T=.001,B=d.arcParams||{},k=B.cx,P=void 0===k?0:k,E=B.cy,L=void 0===E?0:E,I=B.rx,F=void 0===I?0:I,D=B.ry,R=void 0===D?0:D,_=B.sweepFlag,Y=void 0===_?0:_,G=B.startAngle,z=void 0===G?0:G,X=B.endAngle,N=void 0===X?0:X;0===Y&&(T*=-1);var H=F*Math.cos(z-T)+P,V=R*Math.sin(z-T)+L;d.startTangent=[H-r[0],V-r[1]];var W=F*Math.cos(z+N+T)+P,U=R*Math.sin(z+N-T)+L;d.endTangent=[x[0]-W,x[1]-U]}t.push(d)}return t}var B=function(t,e,n){return t>=e&&t<=n};function k(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function P(t,e,q){return(q[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(q[1]-t[1])&&Math.min(t[0],e[0])<=q[0]&&q[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=q[1]&&q[1]<=Math.max(t[1],e[1])}function E(t,e,n){var r=!1,o=t.length;if(o<=2)return!1;for(var i=0;i<o;i++){var c=t[i],l=t[(i+1)%o];if(P(c,l,[e,n]))return!0;k(c[1]-n)>0!=k(l[1]-n)>0&&k(e-(n-c[1])*(c[0]-l[0])/(c[1]-l[1])-c[0])<0&&(r=!r)}return r}function L(t){for(var e=[],n=t.length,i=0;i<n-1;i++){var r=t[i],o=t[i+1];e.push({from:{x:r[0],y:r[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var c=t[0],l=t[n-1];e.push({from:{x:l[0],y:l[1]},to:{x:c[0],y:c[1]}})}return e}function I(t,line){var e=!1;return Object(r.j)(t,(function(t){if(function(t,e,n,r){var o=n.x-t.x,c=n.y-t.y,l=e.x-t.x,h=e.y-t.y,f=r.x-n.x,d=r.y-n.y,v=l*d-h*f,y=null;if(v*v>.001*(l*l+h*h)*(f*f+d*d)){var s=(o*d-c*f)/v,m=(o*h-c*l)/v;B(s,0,1)&&B(m,0,1)&&(y={x:t.x+s*l,y:t.y+s*h})}return y}(t.from,t.to,line.from,line.to))return e=!0,!1})),e}function F(t){var e=t.map((function(p){return p[0]})),n=t.map((function(p){return p[1]}));return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}}function D(t,e){if(t.length<2||e.length<2)return!1;var n,o,c=F(t),l=F(e);if(n=c,(o=l).minX>n.maxX||o.maxX<n.minX||o.minY>n.maxY||o.maxY<n.minY)return!1;var h=!1;if(Object(r.j)(e,(function(e){if(E(t,e[0],e[1]))return h=!0,!1})),h)return!0;if(Object(r.j)(t,(function(t){if(E(e,t[0],t[1]))return h=!0,!1})),h)return!0;var f=L(t),d=L(e),v=!1;return Object(r.j)(d,(function(line){if(I(f,line))return v=!0,!1})),v}},437:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return c}));var r=1e-6,o="undefined"!=typeof Float32Array?Float32Array:Array,c=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,i=arguments.length;i--;)t+=arguments[i]*arguments[i];return Math.sqrt(t)})},438:function(t,e,n){"use strict";function r(a,b){var t=[],e=a[0],n=a[1],r=a[2],o=a[3],c=a[4],l=a[5],h=a[6],f=a[7],d=a[8],v=b[0],y=b[1],m=b[2],x=b[3],O=b[4],j=b[5],w=b[6],C=b[7],M=b[8];return t[0]=v*e+y*o+m*h,t[1]=v*n+y*c+m*f,t[2]=v*r+y*l+m*d,t[3]=x*e+O*o+j*h,t[4]=x*n+O*c+j*f,t[5]=x*r+O*l+j*d,t[6]=w*e+C*o+M*h,t[7]=w*n+C*c+M*f,t[8]=w*r+C*l+M*d,t}function o(t,e){var n=[],r=e[0],o=e[1];return n[0]=t[0]*r+t[3]*o+t[6],n[1]=t[1]*r+t[4]*o+t[7],n}function c(a){var t=[],e=a[0],n=a[1],r=a[2],o=a[3],c=a[4],l=a[5],h=a[6],f=a[7],d=a[8],v=d*c-l*f,y=-d*o+l*h,m=f*o-c*h,x=e*v+n*y+r*m;return x?(x=1/x,t[0]=v*x,t[1]=(-d*n+r*f)*x,t[2]=(l*n-r*c)*x,t[3]=y*x,t[4]=(d*e-r*h)*x,t[5]=(-l*e+r*o)*x,t[6]=m*x,t[7]=(-f*e+n*h)*x,t[8]=(c*e-n*o)*x,t):null}n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return c}))},439:function(t,e,n){"use strict";var r=n(478);n.d(e,"getAdjust",(function(){return r.getAdjust}));n(429);var o=n(552),c=n(553),l=n(554),h=n(555);n(457);Object(r.registerAdjust)("Dodge",o.a),Object(r.registerAdjust)("Jitter",c.a),Object(r.registerAdjust)("Stack",l.a),Object(r.registerAdjust)("Symmetric",h.a)},440:function(t,e,n){"use strict";function r(a,b){var t=[],e=a[0],n=a[1],r=a[2],o=a[3],c=a[4],l=a[5],h=a[6],f=a[7],d=a[8],v=b[0],y=b[1],m=b[2],x=b[3],O=b[4],j=b[5],w=b[6],C=b[7],M=b[8];return t[0]=v*e+y*o+m*h,t[1]=v*n+y*c+m*f,t[2]=v*r+y*l+m*d,t[3]=x*e+O*o+j*h,t[4]=x*n+O*c+j*f,t[5]=x*r+O*l+j*d,t[6]=w*e+C*o+M*h,t[7]=w*n+C*c+M*f,t[8]=w*r+C*l+M*d,t}function o(t,e){var n=[],r=e[0],o=e[1];return n[0]=t[0]*r+t[3]*o+t[6],n[1]=t[1]*r+t[4]*o+t[7],n}function c(a){var t=[],e=a[0],n=a[1],r=a[2],o=a[3],c=a[4],l=a[5],h=a[6],f=a[7],d=a[8],v=d*c-l*f,y=-d*o+l*h,m=f*o-c*h,x=e*v+n*y+r*m;return x?(x=1/x,t[0]=v*x,t[1]=(-d*n+r*f)*x,t[2]=(l*n-r*c)*x,t[3]=y*x,t[4]=(d*e-r*h)*x,t[5]=(-l*e+r*o)*x,t[6]=m*x,t[7]=(-f*e+n*h)*x,t[8]=(c*e-n*o)*x,t):null}n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return c}))},441:function(t,e,n){"use strict";var r=n(416),o=n(434),c=n(415),l=n(420),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},e.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},e.prototype.getBBox=function(){var t=this.getContainer(),e=parseFloat(t.style.left)||0,n=parseFloat(t.style.top)||0;return Object(l.b)(e,n,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){var t=this.get("container");Object(l.a)(t)},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),t.prototype.destroy.call(this)},e.prototype.init=function(){t.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var t=this.get("container");if(Object(c.G)(t)){t=this.createDom();var e=this.get("parent");Object(c.M)(e)&&(e=document.getElementById(e),this.set("parent",e)),e.appendChild(t),this.set("container",t)}else Object(c.M)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},e.prototype.resetStyles=function(){var style=this.get("domStyles"),t=this.get("defaultStyles");style=style?Object(c.h)({},t,style):t,this.set("domStyles",style)},e.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var e=this.getContainer();this.applyChildrenStyles(e,t);var n=this.get("containerClassName");if(n&&Object(l.h)(e,n)){var r=t[n];Object(o.e)(e,r)}}},e.prototype.applyChildrenStyles=function(element,t){Object(c.j)(t,(function(style,t){var e=element.getElementsByClassName(t);Object(c.j)(e,(function(t){Object(o.e)(t,style)}))}))},e.prototype.applyStyle=function(t,e){var n=this.get("domStyles");Object(o.e)(e,n[t])},e.prototype.createDom=function(){var t=this.get("containerTpl");return Object(o.b)(t)},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(t){Object(c.v)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(n(461).a);e.a=h},442:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"d",(function(){return v})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return x})),n.d(e,"e",(function(){return w})),n.d(e,"h",(function(){return C})),n.d(e,"f",(function(){return M})),n.d(e,"g",(function(){return S}));var r=n(415),o=n(513),c=n(485),l=n(422),h=n(463),f={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function d(t,element){var e=element.attr();for(var n in e){var c=e[n],l=f[n]?f[n]:n;"matrix"===l&&c?t.transform(c[0],c[1],c[3],c[4],c[6],c[7]):"lineDash"===l&&t.setLineDash?Object(r.z)(c)&&t.setLineDash(c):("strokeStyle"===l||"fillStyle"===l?c=Object(o.b)(t,element,c):"globalAlpha"===l&&(c*=t.globalAlpha),t[l]=c)}}function v(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];r.cfg.visible?r.draw(t,n):r.skipDraw()}}function y(canvas,t,e){var n=canvas.get("refreshElements");Object(r.j)(n,(function(t){if(t!==canvas)for(var e=t.cfg.parent;e&&e!==canvas&&!e.cfg.refresh;)e.cfg.refresh=!0,e=e.cfg.parent})),n[0]===canvas?O(t,e):m(t,e)}function m(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&O(n.cfg.children,e);else if(n.cfg.refresh)n.isGroup()&&m(n.cfg.children,e);else{var r=j(n,e);n.cfg.refresh=r,r&&n.isGroup()&&m(n.cfg.children,e)}}}function x(t){for(var i=0;i<t.length;i++){var e=t[i];e.cfg.hasChanged=!1,e.isGroup()&&!e.destroyed&&x(e.cfg.children)}}function O(t,e){for(var i=0;i<t.length;i++){var n=t[i];n.cfg.refresh=!0,n.isGroup()&&O(n.get("children"),e)}}function j(t,e){var n=t.cfg.cacheCanvasBBox;return t.cfg.isInView&&n&&Object(l.f)(n,e)}function w(t,e,n,r){var path=n.path,o=n.startArrow,l=n.endArrow;if(path){var f=[0,0],d=[0,0],v={dx:0,dy:0};e.beginPath();for(var i=0;i<path.length;i++){var y=path[i],m=y[0];if(0===i&&o&&o.d){var x=t.getStartTangent();v=h.c(x[0][0],x[0][1],x[1][0],x[1][1],o.d)}else if(i===path.length-2&&"Z"===path[i+1][0]&&l&&l.d){if("Z"===path[i+1][0]){x=t.getEndTangent();v=h.c(x[0][0],x[0][1],x[1][0],x[1][1],l.d)}}else if(i===path.length-1&&l&&l.d&&"Z"!==path[0]){x=t.getEndTangent();v=h.c(x[0][0],x[0][1],x[1][0],x[1][1],l.d)}var O=v.dx,j=v.dy;switch(m){case"M":e.moveTo(y[1]-O,y[2]-j),d=[y[1],y[2]];break;case"L":e.lineTo(y[1]-O,y[2]-j);break;case"Q":e.quadraticCurveTo(y[1],y[2],y[3]-O,y[4]-j);break;case"C":e.bezierCurveTo(y[1],y[2],y[3],y[4],y[5]-O,y[6]-j);break;case"A":var w=void 0;r?(w=r[i])||(w=Object(c.a)(f,y),r[i]=w):w=Object(c.a)(f,y);var C=w.cx,M=w.cy,S=w.rx,A=w.ry,T=w.startAngle,B=w.endAngle,k=w.xRotation,P=w.sweepFlag;if(e.ellipse)e.ellipse(C,M,S,A,k,T,B,1-P);else{var E=S>A?S:A,L=S>A?1:S/A,I=S>A?A/S:1;e.translate(C,M),e.rotate(k),e.scale(L,I),e.arc(0,0,E,T,B,1-P),e.scale(1/L,1/I),e.rotate(-k),e.translate(-C,-M)}break;case"Z":e.closePath()}if("Z"===m)f=d;else{var F=y.length;f=[y[F-2],y[F-1]]}}}}function C(element,t){var canvas=element.get("canvas");canvas&&("remove"===t&&(element._cacheCanvasBBox=element.get("cacheCanvasBBox")),element.get("hasChanged")||(element.set("hasChanged",!0),element.cfg.parent&&element.cfg.parent.get("hasChanged")||(canvas.refreshElement(element,t,canvas),canvas.get("autoDraw")&&canvas.draw())))}function M(t){if(!t.length)return null;var e=[],n=[],o=[],c=[];return Object(r.j)(t,(function(t){var r=function(element){var t;if(element.destroyed)t=element._cacheCanvasBBox;else{var e=element.get("cacheCanvasBBox"),n=e&&!(!e.width||!e.height),r=element.getCanvasBBox(),o=r&&!(!r.width||!r.height);n&&o?t=Object(l.l)(e,r):n?t=e:o&&(t=r)}return t}(t);r&&(e.push(r.minX),n.push(r.minY),o.push(r.maxX),c.push(r.maxY))})),{minX:Object(r.V)(e),minY:Object(r.V)(n),maxX:Object(r.T)(o),maxY:Object(r.T)(c)}}function S(t,e){return t&&e&&Object(l.f)(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}},443:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n(426);function o(t,e){var n=t.cfg.el,r=t.attr(),o={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(o.dx||o.dy||o.blur||o.color){var c=e.find("filter",o);c||(c=e.addShadow(o)),n.setAttribute("filter","url(#"+c+")")}else n.removeAttribute("filter")}function c(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)}}function l(t,e){var n=t.getClip(),o=t.get("el");if(n){if(n&&!o.hasAttribute("clip-path")){Object(r.a)(n),n.createPath(e);var c=e.addClip(n);o.setAttribute("clip-path","url(#"+c+")")}}else o.removeAttribute("clip-path")}},453:function(t,e,n){"use strict";n.d(e,"a",(function(){return bn}));var r,o,c,l=n(416),h=n(415);!function(t){t.FORE="fore",t.MID="mid",t.BG="bg"}(r||(r={})),function(t){t.TOP="top",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.RIGHT="right",t.RIGHT_TOP="right-top",t.RIGHT_BOTTOM="right-bottom",t.LEFT="left",t.LEFT_TOP="left-top",t.LEFT_BOTTOM="left-bottom",t.BOTTOM="bottom",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_RIGHT="bottom-right",t.RADIUS="radius",t.CIRCLE="circle",t.NONE="none"}(o||(o={})),function(t){t.AXIS="axis",t.GRID="grid",t.LEGEND="legend",t.TOOLTIP="tooltip",t.ANNOTATION="annotation",t.SLIDER="slider",t.SCROLLBAR="scrollbar",t.OTHER="other"}(c||(c={}));var f,d,v,y,m=3,x=2,O=1;!function(t){t.BEFORE_RENDER="beforerender",t.AFTER_RENDER="afterrender",t.BEFORE_PAINT="beforepaint",t.AFTER_PAINT="afterpaint",t.BEFORE_CHANGE_DATA="beforechangedata",t.AFTER_CHANGE_DATA="afterchangedata",t.BEFORE_CLEAR="beforeclear",t.AFTER_CLEAR="afterclear",t.BEFORE_DESTROY="beforedestroy",t.BEFORE_CHANGE_SIZE="beforechangesize",t.AFTER_CHANGE_SIZE="afterchangesize"}(f||(f={})),function(t){t.BEFORE_DRAW_ANIMATE="beforeanimate",t.AFTER_DRAW_ANIMATE="afteranimate"}(d||(d={})),function(t){t.MOUSE_ENTER="plot:mouseenter",t.MOUSE_DOWN="plot:mousedown",t.MOUSE_MOVE="plot:mousemove",t.MOUSE_UP="plot:mouseup",t.MOUSE_LEAVE="plot:mouseleave",t.TOUCH_START="plot:touchstart",t.TOUCH_MOVE="plot:touchmove",t.TOUCH_END="plot:touchend",t.TOUCH_CANCEL="plot:touchcancel",t.CLICK="plot:click",t.DBLCLICK="plot:dblclick",t.CONTEXTMENU="plot:contextmenu",t.LEAVE="plot:leave",t.ENTER="plot:enter"}(v||(v={})),function(t){t.ACTIVE="active",t.INACTIVE="inactive",t.SELECTED="selected",t.DEFAULT="default"}(y||(y={}));var j=["color","shape","size"],w="_origin",C={};function M(t,e){C[t]=e}var S=n(434);function A(t){return"number"==typeof t&&!isNaN(t)}function T(t,e,n,r){var o=n,c=r;if(e){var l=function(t){var style=getComputedStyle(t);return{width:(t.clientWidth||parseInt(style.width,10))-parseInt(style.paddingLeft,10)-parseInt(style.paddingRight,10),height:(t.clientHeight||parseInt(style.height,10))-parseInt(style.paddingTop,10)-parseInt(style.paddingBottom,10)}}(t);o=l.width?l.width:o,c=l.height?l.height:c}return{width:Math.max(A(o)?o:1,1),height:Math.max(A(c)?c:1,1)}}var base=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=e.visible,o=void 0===r||r;return n.visible=o,n}return Object(l.b)(e,t),e.prototype.show=function(){this.visible||this.changeVisible(!0)},e.prototype.hide=function(){this.visible&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}(n(470).a),B=n(417),k=n(439),P=function(t,e){return Object(h.M)(e)?e:t.invert(t.scale(e))},E=function(){function t(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}return t.prototype.mapping=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.map((function(param,e){return t._toOriginParam(param,t.scales[e])}));return this.callback.apply(this,r)},t.prototype.getLinearValue=function(t){var e=this.values.length-1,n=Math.floor(e*t),r=e*t-n,o=this.values[n];return o+((n===e?o:this.values[n+1])-o)*r},t.prototype.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),r=[],i=0;i<n;i+=1)r.push(e[i]);return r},t.prototype.getFields=function(){return this.scales.map((function(t){return t.field}))},t.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},t.prototype.defaultCallback=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 0===e.length?this.values:e.map((function(param,e){var n=t.scales[e];return"identity"===n.type?n.values[0]:t._getAttributeValue(n,param)}))},t.prototype._parseCfg=function(t){var e=this,n=t.type,r=void 0===n?"base":n,o=t.names,c=void 0===o?[]:o,l=t.scales,f=void 0===l?[]:l,d=t.values,v=void 0===d?[]:d,y=t.callback;this.type=r,this.scales=f,this.values=v,this.names=c,this.callback=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(y){var r=y.apply(void 0,t);if(!Object(h.G)(r))return[r]}return e.defaultCallback.apply(e,t)}},t.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var n=t.translate(e);return this.values[n%this.values.length]}var r=t.scale(e);return this.getLinearValue(r)},t.prototype._toOriginParam=function(param,t){return t.isLinear?param:Object(h.z)(param)?param.map((function(p){return P(t,p)})):P(t,param)},t}(),L=E,I=function(t,b){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},I(t,b)};function F(t,b){function e(){this.constructor=t}I(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var D=n(459),R=function(t){function e(e){var n=t.call(this,e)||this;return n.type="color",n.names=["color"],Object(h.M)(n.values)&&(n.linear=!0),n.gradient=D.a.gradient(n.values),n}return F(e,t),e.prototype.getLinearValue=function(t){return this.gradient(t)},e}(L),_=function(t){function e(e){var n=t.call(this,e)||this;return n.type="opacity",n.names=["opacity"],n}return F(e,t),e}(L),Y=function(t){function e(e){var n=t.call(this,e)||this;return n.names=["x","y"],n.type="position",n}return F(e,t),e.prototype.mapping=function(t,e){var n=this.scales,r=n[0],o=n[1];return Object(h.G)(t)||Object(h.G)(e)?[]:[Object(h.z)(t)?t.map((function(t){return r.scale(t)})):r.scale(t),Object(h.z)(e)?e.map((function(t){return o.scale(t)})):o.scale(e)]},e}(L),G=function(t){function e(e){var n=t.call(this,e)||this;return n.type="shape",n.names=["shape"],n}return F(e,t),e.prototype.getLinearValue=function(t){var e=Math.round((this.values.length-1)*t);return this.values[e]},e}(L),z=function(t){function e(e){var n=t.call(this,e)||this;return n.type="size",n.names=["size"],n}return F(e,t),e}(L),X=n(435),N={},H=function(t){return N[t.toLowerCase()]},V=function(t,e){if(H(t))throw new Error("Attribute type '"+t+"' existed.");N[t.toLowerCase()]=e};V("Color",R),V("Opacity",_),V("Position",Y),V("Shape",G),V("Size",z);var W=n(418),U=function(){function t(t){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=t.start,n=t.end,r=t.matrix,o=void 0===r?[1,0,0,0,1,0,0,0,1]:r,c=t.isTransposed,h=void 0!==c&&c;this.start=e,this.end=n,this.matrix=o,this.originalMatrix=Object(l.d)([],o),this.isTransposed=h}return t.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},t.prototype.update=function(t){Object(h.b)(this,t),this.initial()},t.prototype.convertDim=function(t,e){var n,r=this[e],o=r.start,c=r.end;return this.isReflect(e)&&(o=(n=[c,o])[0],c=n[1]),o+t*(c-o)},t.prototype.invertDim=function(t,e){var n,r=this[e],o=r.start,c=r.end;return this.isReflect(e)&&(o=(n=[c,o])[0],c=n[1]),(t-o)/(c-o)},t.prototype.applyMatrix=function(t,e,n){void 0===n&&(n=0);var r=this.matrix,o=[t,e,n];return W.d.transformMat3(o,o,r),o},t.prototype.invertMatrix=function(t,e,n){void 0===n&&(n=0);var r=this.matrix,o=W.b.invert([0,0,0,0,0,0,0,0,0],r),c=[t,e,n];return o&&W.d.transformMat3(c,c,o),c},t.prototype.convert=function(t){var e=this.convertPoint(t),n=e.x,r=e.y,o=this.applyMatrix(n,r,1);return{x:o[0],y:o[1]}},t.prototype.invert=function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})},t.prototype.rotate=function(t){var e=this.matrix,n=this.center;return W.a.leftTranslate(e,e,[-n.x,-n.y]),W.a.leftRotate(e,e,t),W.a.leftTranslate(e,e,[n.x,n.y]),this},t.prototype.reflect=function(t){return"x"===t?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},t.prototype.scale=function(t,e){var n=this.matrix,r=this.center;return W.a.leftTranslate(n,n,[-r.x,-r.y]),W.a.leftScale(n,n,[t,e]),W.a.leftTranslate(n,n,[r.x,r.y]),this},t.prototype.translate=function(t,e){var n=this.matrix;return W.a.leftTranslate(n,n,[t,e]),this},t.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},t.prototype.getCenter=function(){return this.center},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRadius=function(){return this.radius},t.prototype.isReflect=function(t){return"x"===t?this.isReflectX:this.isReflectY},t.prototype.resetMatrix=function(t){this.matrix=t||Object(l.d)([],this.originalMatrix)},t}(),Z=U,K=function(t){function e(e){var n=t.call(this,e)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return Object(l.b)(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=this.start,n=this.end;this.x={start:e.x,end:n.x},this.y={start:e.y,end:n.y}},e.prototype.convertPoint=function(t){var e,n=t.x,r=t.y;return this.isTransposed&&(n=(e=[r,n])[0],r=e[1]),{x:this.convertDim(n,"x"),y:this.convertDim(r,"y")}},e.prototype.invertPoint=function(t){var e,n=this.invertDim(t.x,"x"),r=this.invertDim(t.y,"y");return this.isTransposed&&(n=(e=[r,n])[0],r=e[1]),{x:n,y:r}},e}(Z),Q=function(t){function e(e){var n=t.call(this,e)||this;n.isHelix=!0,n.type="helix";var r=e.startAngle,o=void 0===r?1.25*Math.PI:r,c=e.endAngle,l=void 0===c?7.25*Math.PI:c,h=e.innerRadius,f=void 0===h?0:h,d=e.radius;return n.startAngle=o,n.endAngle=l,n.innerRadius=f,n.radius=d,n.initial(),n}return Object(l.b)(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n*=this.radius),this.d=Math.floor(n*(1-this.innerRadius)/e),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+.99*this.d}},e.prototype.convertPoint=function(t){var e,n=t.x,r=t.y;this.isTransposed&&(n=(e=[r,n])[0],r=e[1]);var o=this.convertDim(n,"x"),c=this.a*o,l=this.convertDim(r,"y");return{x:this.center.x+Math.cos(o)*(c+l),y:this.center.y+Math.sin(o)*(c+l)}},e.prototype.invertPoint=function(t){var e,n=this.d+this.y.start,r=W.c.subtract([0,0],[t.x,t.y],[this.center.x,this.center.y]),o=W.a.angleTo(r,[1,0],!0),c=o*this.a;W.c.length(r)<c&&(c=W.c.length(r)),o=2*Math.floor((W.c.length(r)-c)/n)*Math.PI+o;var l=this.a*o,f=W.c.length(r)-l;f=Object(h.J)(f,0)?0:f;var d=this.invertDim(o,"x"),v=this.invertDim(f,"y");return d=Object(h.J)(d,0)?0:d,v=Object(h.J)(v,0)?0:v,this.isTransposed&&(d=(e=[v,d])[0],v=e[1]),{x:d,y:v}},e}(Z),J=function(t){function e(e){var n=t.call(this,e)||this;n.isPolar=!0,n.type="polar";var r=e.startAngle,o=void 0===r?-Math.PI/2:r,c=e.endAngle,l=void 0===c?3*Math.PI/2:c,h=e.innerRadius,f=void 0===h?0:h,d=e.radius;return n.startAngle=o,n.endAngle=l,n.innerRadius=f,n.radius=d,n.initial(),n}return Object(l.b)(e,t),e.prototype.initial=function(){for(t.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var e,n=this.getOneBox(),r=n.maxX-n.minX,o=n.maxY-n.minY,c=Math.abs(n.minX)/r,l=Math.abs(n.minY)/o;this.height/o>this.width/r?(e=this.width/r,this.circleCenter={x:this.center.x-(.5-c)*this.width,y:this.center.y-(.5-l)*e*o}):(e=this.height/o,this.circleCenter={x:this.center.x-(.5-c)*e*r,y:this.center.y-(.5-l)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=e*this.radius:(this.radius<=0||this.radius>e)&&(this.polarRadius=e):this.polarRadius=e,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},e.prototype.getRadius=function(){return this.polarRadius},e.prototype.convertPoint=function(t){var e,n=this.getCenter(),r=t.x,o=t.y;return this.isTransposed&&(r=(e=[o,r])[0],o=e[1]),r=this.convertDim(r,"x"),o=this.convertDim(o,"y"),{x:n.x+Math.cos(r)*o,y:n.y+Math.sin(r)*o}},e.prototype.invertPoint=function(t){var e,n=this.getCenter(),r=[t.x-n.x,t.y-n.y],o=this.startAngle,c=this.endAngle;this.isReflect("x")&&(o=(e=[c,o])[0],c=e[1]);var l=[1,0,0,0,1,0,0,0,1];W.a.leftRotate(l,l,o);var f=[1,0,0];W.d.transformMat3(f,f,l);var d=[f[0],f[1]],v=W.a.angleTo(d,r,c<o);Object(h.J)(v,2*Math.PI)&&(v=0);var y=W.c.length(r),m=v/(c-o);m=c-o>0?m:-m;var x=this.invertDim(y,"y"),O={x:0,y:0};return O.x=this.isTransposed?x:m,O.y=this.isTransposed?m:x,O},e.prototype.getCenter=function(){return this.circleCenter},e.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],r=[0,Math.sin(t),Math.sin(e)],i=Math.min(t,e);i<Math.max(t,e);i+=Math.PI/18)n.push(Math.cos(i)),r.push(Math.sin(i));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,r),maxY:Math.max.apply(Math,r)}},e}(Z),$={},tt=function(t,e){$[t.toLowerCase()]=e};tt("rect",K),tt("cartesian",K),tt("polar",J),tt("helix",Q);var et=n(425),nt=et.Axis.Line,it=et.Axis.Circle,ot=et.Grid.Line,at=et.Grid.Circle,st=et.Legend.Category,ct=et.Legend.Continuous,lt=et.Tooltip.Html;function ut(t,e,n,r){return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}}function ht(t,e,n,r,o,c){void 0===c&&(c=0);var l=ut(t,e,n,r),h=ut(t,e,n,o),f=ut(t,e,c,r),d=ut(t,e,c,o);if(o-r==2*Math.PI){var v=ut(t,e,n,r+Math.PI),y=ut(t,e,c,r+Math.PI),m=[["M",l.x,l.y],["A",n,n,0,1,1,v.x,v.y],["A",n,n,0,1,1,h.x,h.y],["M",f.x,f.y]];return c&&(m.push(["A",c,c,0,1,0,y.x,y.y]),m.push(["A",c,c,0,1,0,d.x,d.y])),m.push(["M",l.x,l.y]),m.push(["Z"]),m}var x=o-r<=Math.PI?0:1,O=[["M",l.x,l.y],["A",n,n,0,x,1,h.x,h.y],["L",d.x,d.y]];return c&&O.push(["A",c,c,0,x,0,f.x,f.y]),O.push(["L",l.x,l.y]),O.push(["Z"]),O}function pt(t,e,n,r,o){var c=ut(t,e,n,r),l=ut(t,e,n,o);if(Object(h.J)(o-r,2*Math.PI)){var f=ut(t,e,n,r+Math.PI);return[["M",c.x,c.y],["A",n,n,0,1,1,f.x,f.y],["A",n,n,0,1,1,c.x,c.y],["A",n,n,0,1,0,f.x,f.y],["A",n,n,0,1,0,c.x,c.y],["Z"]]}var d=o-r<=Math.PI?0:1;return[["M",c.x,c.y],["A",n,n,0,d,1,l.x,l.y]]}function ft(t,e){var n,r,o=function(t){if(Object(h.D)(t))return null;var e=t[0].x,n=t[0].x,r=t[0].y,o=t[0].y;return Object(h.j)(t,(function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,r=r>t.y?t.y:r,o=o<t.y?t.y:o})),{minX:e,maxX:n,minY:r,maxY:o,centerX:(e+n)/2,centerY:(r+o)/2}}(t.points),c=e.startAngle,l=e.endAngle-c;return e.isTransposed?(n=o.maxY*l,r=o.minY*l):(n=o.maxX*l,r=o.minX*l),{startAngle:r+=c,endAngle:n+=c}}function gt(t,e){var n=t.attr(),r=e.attr();return Object(h.j)(n,(function(t,e){void 0===r[e]&&(r[e]=void 0)})),r}function vt(t,e,n){var r=Math.min(e,n),o=Math.max(e,n);return t>=r&&t<=o}function yt(t,e){return"object"==typeof t&&e.forEach((function(e){delete t[e]})),t}function mt(t,e,map){void 0===e&&(e=[]),void 0===map&&(map=new Map);for(var n=0,r=t;n<r.length;n++){var source=r[n];map.has(source)||(e.push(source),map.set(source,!0))}return e}var bt=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=t,this.y=e,this.height=r,this.width=n}return t.fromRange=function(e,n,r,o){return new t(e,n,r-e,o-n)},t.fromObject=function(e){return new t(e.minX,e.minY,e.width,e.height)},Object.defineProperty(t.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.contains=function(t){return t.minX>=this.minX&&t.maxX<=this.maxX&&t.minY>=this.minY&&t.maxY<=this.maxY},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return Object(h.j)(t,(function(b){n.x=Math.min(b.x,n.x),n.y=Math.min(b.y,n.y),n.width=Math.max(b.maxX,n.maxX)-n.x,n.height=Math.max(b.maxY,n.maxY)-n.y})),n},t.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return Object(h.j)(t,(function(b){n.x=Math.max(b.x,n.x),n.y=Math.max(b.y,n.y),n.width=Math.min(b.maxX,n.maxX)-n.x,n.height=Math.min(b.maxY,n.maxY)-n.y})),n},t.prototype.cut=function(e,n){var r=e.width,c=e.height;switch(n){case o.TOP:case o.TOP_LEFT:case o.TOP_RIGHT:return t.fromRange(this.minX,this.minY+c,this.maxX,this.maxY);case o.RIGHT:case o.RIGHT_TOP:case o.RIGHT_BOTTOM:return t.fromRange(this.minX,this.minY,this.maxX-r,this.maxY);case o.BOTTOM:case o.BOTTOM_LEFT:case o.BOTTOM_RIGHT:return t.fromRange(this.minX,this.minY,this.maxX,this.maxY-c);case o.LEFT:case o.LEFT_TOP:case o.LEFT_BOTTOM:return t.fromRange(this.minX+r,this.minY,this.maxX,this.maxY);default:return this}},t.prototype.shrink=function(e){var n=e[0],r=e[1],o=e[2],c=e[3];return new t(this.x+c,this.y+n,this.width-c-r,this.height-n-o)},t.prototype.expand=function(e){var n=e[0],r=e[1],o=e[2],c=e[3];return new t(this.x-c,this.y-n,this.width+c+r,this.height+n+o)},t.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},t.prototype.collide=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.size=function(){return this.width*this.height},t.prototype.isPointIn=function(p){return p.x>=this.minX&&p.x<=this.maxX&&p.y>=this.minY&&p.y<=this.maxY},t}();function xt(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),n=t.convert({x:1,y:0});return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function Ot(t,e){var n=t.getCenter();return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function jt(t,e){var n=!1;if(t)if("theta"===t.type){var r=t.start,o=t.end;n=vt(e.x,r.x,o.x)&&vt(e.y,r.y,o.y)}else{var c=t.invert(e);n=vt(c.x,0,1)&&vt(c.y,0,1)}return n}function wt(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)}function Ct(t,e){void 0===e&&(e=0);var n,r=t.start,o=t.end,c=t.getWidth(),l=t.getHeight();if(t.isPolar){var h=t.startAngle,f=t.endAngle,d=t.getCenter(),v=t.getRadius();return{type:"path",startState:{path:ht(d.x,d.y,v+e,h,h)},endState:function(t){var n=(f-h)*t+h;return{path:ht(d.x,d.y,v+e,h,n)}},attrs:{path:ht(d.x,d.y,v+e,h,f)}}}return n=t.isTransposed?{height:l+2*e}:{width:c+2*e},{type:"rect",startState:{x:r.x-e,y:o.y-e,width:t.isTransposed?c+2*e:0,height:t.isTransposed?0:l+2*e},endState:n,attrs:{x:r.x-e,y:o.y-e,width:c+2*e,height:l+2*e}}}var Mt=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function St(t,data,e){var n=data||[];if(Object(h.I)(t)||Object(h.G)(Object(h.n)(n,t))&&Object(h.D)(e))return new(Object(X.c)("identity"))({field:t.toString(),values:[t]});var r=Object(h.pb)(n,t),o=Object(h.q)(e,"type",function(t){var e="linear";return Mt.test(t)?e="timeCat":Object(h.M)(t)&&(e="cat"),e}(r[0]));return new(Object(X.c)(o))(Object(l.a)({field:t,values:r},e))}function At(t){return t.alias||t.field}function Tt(t,e,n){var r,o=t.values.length;if(1===o)r=[.5,1];else{var c=0;r=function(t){if(t.isPolar){var e=t.startAngle;return t.endAngle-e==2*Math.PI}return!1}(e)?e.isTransposed?[(c=1/o*Object(h.q)(n,"widthRatio.multiplePie",1/1.3))/2,1-c/2]:[0,1-1/o]:[c=1/o/2,1-c]}return r}function Bt(t,e){var n={start:{x:0,y:0},end:{x:0,y:0}};t.isRect?n=function(t){var e,n;switch(t){case o.TOP:e={x:0,y:1},n={x:1,y:1};break;case o.RIGHT:e={x:1,y:0},n={x:1,y:1};break;case o.BOTTOM:e={x:0,y:0},n={x:1,y:0};break;case o.LEFT:e={x:0,y:0},n={x:0,y:1};break;default:e=n={x:0,y:0}}return{start:e,end:n}}(e):t.isPolar&&(n=function(t){var e,n;return t.isTransposed?(e={x:0,y:0},n={x:1,y:0}):(e={x:0,y:0},n={x:0,y:1}),{start:e,end:n}}(t));var r=n.start,c=n.end;return{start:t.convert(r),end:t.convert(c)}}function kt(t){var e=t.start,n=t.end;return e.x===n.x}function Pt(t,e){var n=t.start,r=t.end;return kt(t)?(n.y-r.y)*(e.x-n.x)>0?1:-1:(r.x-n.x)*(n.y-e.y)>0?-1:1}function Et(t,e){var n=Object(h.q)(t,["components","axis"],{});return Object(h.h)({},Object(h.q)(n,["common"],{}),Object(h.h)({},Object(h.q)(n,[e],{})))}function Lt(t,e,n){var r=Object(h.q)(t,["components","axis"],{});return Object(h.h)({},Object(h.q)(r,["common","title"],{}),Object(h.h)({},Object(h.q)(r,[e,"title"],{})),n)}function It(t){var e=t.x,n=t.y,r=t.circleCenter,o=n.start>n.end,c=t.isTransposed?t.convert({x:o?0:1,y:0}):t.convert({x:0,y:o?0:1}),l=[c.x-r.x,c.y-r.y],h=[1,0],f=c.y>r.y?W.c.angle(l,h):-1*W.c.angle(l,h),d=f+(e.end-e.start);return{center:r,radius:Math.sqrt(Math.pow(c.x-r.x,2)+Math.pow(c.y-r.y,2)),startAngle:f,endAngle:d}}function Ft(t,e){return Object(h.A)(t)?!1!==t&&{}:Object(h.q)(t,[e])}function Dt(t,e){return Object(h.q)(t,"position",e)}function Rt(t,e){return Object(h.q)(e,["title","text"],At(t))}var _t=function(){function t(view,t){this.destroyed=!1,this.facets=[],this.view=view,this.cfg=Object(h.h)({},this.getDefaultCfg(),t)}return t.prototype.init=function(){this.container||(this.container=this.createContainer());var data=this.view.getData();this.facets=this.generateFacets(data)},t.prototype.render=function(){this.renderViews()},t.prototype.update=function(){},t.prototype.clear=function(){this.clearFacetViews()},t.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},t.prototype.facetToView=function(t){var e=t.region,data=t.data,n=t.padding,r=void 0===n?this.cfg.padding:n,view=this.view.createView({region:e,padding:r});view.data(data||[]),t.view=view,this.beforeEachView(view,t);var o=this.cfg.eachView;return o&&o(view,t),this.afterEachView(view,t),view},t.prototype.createContainer=function(){return this.view.getLayer(r.FORE).addGroup()},t.prototype.renderViews=function(){this.createFacetViews()},t.prototype.createFacetViews=function(){var t=this;return this.facets.map((function(e){return t.facetToView(e)}))},t.prototype.clearFacetViews=function(){var t=this;Object(h.j)(this.facets,(function(e){e.view&&(t.view.removeView(e.view),e.view=void 0)}))},t.prototype.parseSpacing=function(){var t=this.view.viewBBox,e=t.width,n=t.height;return this.cfg.spacing.map((function(s,t){return Object(h.I)(s)?s/(0===t?e:n):parseFloat(s)/100}))},t.prototype.getFieldValues=function(data,t){var e=[],n={};return Object(h.j)(data,(function(r){var o=r[t];Object(h.G)(o)||n[o]||(e.push(o),n[o]=!0)})),e},t.prototype.getRegion=function(t,e,n,r){var o=this.parseSpacing(),c=o[0],l=o[1],h=(1+c)/(0===e?1:e)-c,f=(1+l)/(0===t?1:t)-l,d={x:(h+c)*n,y:(f+l)*r};return{start:d,end:{x:d.x+h,y:d.y+f}}},t.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},t.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},t.prototype.processAxis=function(view,t){var e=view.getOptions(),n=e.coordinate,r=view.geometries;if("rect"===Object(h.q)(n,"type","rect")&&r.length){Object(h.G)(e.axes)&&(e.axes={});var o=e.axes,c=r[0].getXYFields(),l=c[0],f=c[1],d=Ft(o,l),v=Ft(o,f);!1!==d&&(e.axes[l]=this.getXAxisOption(l,o,d,t)),!1!==v&&(e.axes[f]=this.getYAxisOption(f,o,v,t))}},t.prototype.getFacetDataFilter=function(t){return function(e){return Object(h.k)(t,(function(t){var n=t.field,r=t.value;return!(!Object(h.G)(r)&&n)||e[n]===r}))}},t}(),Yt={},Gt=function(t,e){Yt[Object(h.Q)(t)]=e},zt=function(){function t(t,e){this.context=t,this.cfg=e,t.addAction(this)}return t.prototype.applyCfg=function(t){Object(h.b)(this,t)},t.prototype.init=function(){this.applyCfg(this.cfg)},t.prototype.destroy=function(){this.context.removeAction(this),this.context=null},t}(),Xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.callback=null},e}(zt),Nt=Xt,Ht={};function Vt(t,e,n){Ht[t]={ActionClass:e,cfg:n}}function qt(t,e){var n=new Nt(e);return n.callback=t,n.name="callback",n}function Wt(t,e){for(var n=[t[0]],i=1,r=t.length;i<r;i+=2){var o=e.convert({x:t[i],y:t[i+1]});n.push(o.x,o.y)}return n}function Ut(path,t){var e=t.isTransposed,n=path[1],r=path[6],o=path[7],c=t.convert({x:r,y:o});return["A",n,n,0,0,e?0:1,c.x,c.y]}function Zt(t,e,n){for(var r=!!e,o=[],i=0,c=t.length;i<c;i+=2)o.push([t[i],t[i+1]]);var l,h,p,f=function(t,e,n,r){var o,c,l,h,f,d,v,y=[],m=!!r;if(m){l=r[0],h=r[1];for(var i=0,x=t.length;i<x;i++){var O=t[i];l=W.c.min([0,0],l,O),h=W.c.max([0,0],h,O)}}i=0;for(var j=t.length;i<j;i++)if(O=t[i],0!==i||n)if(i!==j-1||n){o=t[n?i?i-1:j-1:i-1],c=t[n?(i+1)%j:i+1];var w=[0,0];w=W.c.sub(w,c,o),w=W.c.scale(w,w,e);var C=W.c.distance(O,o),M=W.c.distance(O,c),S=C+M;0!==S&&(C/=S,M/=S);var A=W.c.scale([0,0],w,-C),T=W.c.scale([0,0],w,M);d=W.c.add([0,0],O,A),f=W.c.add([0,0],O,T),f=W.c.min([0,0],f,W.c.max([0,0],c,O)),f=W.c.max([0,0],f,W.c.min([0,0],c,O)),A=W.c.sub([0,0],f,O),A=W.c.scale([0,0],A,-C/M),d=W.c.add([0,0],O,A),d=W.c.min([0,0],d,W.c.max([0,0],o,O)),d=W.c.max([0,0],d,W.c.min([0,0],o,O)),T=W.c.sub([0,0],O,d),T=W.c.scale([0,0],T,M/C),f=W.c.add([0,0],O,T),m&&(d=W.c.max([0,0],d,l),d=W.c.min([0,0],d,h),f=W.c.max([0,0],f,l),f=W.c.min([0,0],f,h)),y.push(v),y.push(d),v=f}else d=O,y.push(v),y.push(d);else v=O;return n&&y.push(y.shift()),y}(o,.4,r,n),d=o.length,v=[];for(i=0;i<d-1;i++)l=f[2*i],h=f[2*i+1],p=o[i+1],v.push(["C",l[0],l[1],h[0],h[1],p[0],p[1]]);return r&&(l=f[d],h=f[d+1],p=o[0],v.push(["C",l[0],l[1],h[0],h[1],p[0],p[1]])),v}function Kt(t,e){return function(t,e){var path=[];if(t.length){path.push(["M",t[0].x,t[0].y]);for(var i=1,n=t.length;i<n;i+=1){var r=t[i];path.push(["L",r.x,r.y])}e&&path.push(["Z"])}return path}(t,e)}function Qt(t,e,n){var data=[],r=t[0],o=null;if(t.length<=2)return Kt(t,e);for(var i=0,c=t.length;i<c;i++){var l=t[i];o&&o.x===l.x&&o.y===l.y||(data.push(l.x),data.push(l.y),o=l)}var h=Zt(data,e,n||[[0,0],[1,1]]);return h.unshift(["M",r.x,r.y]),h}function Jt(t,path){var pre,e,n,r=[];return Object(h.j)(path,(function(o,c){switch(o[0].toLowerCase()){case"m":case"c":case"q":r.push(Wt(o,t));break;case"l":pre=path[c-1],e=o,n=t.isTransposed,(n?pre[pre.length-2]===e[1]:pre[pre.length-1]===e[2])?r=r.concat(function(pre,t,e){var n=e.isTransposed,r=e.startAngle,o=e.endAngle,c="a"===pre[0].toLowerCase()?{x:pre[6],y:pre[7]}:{x:pre[1],y:pre[2]},l={x:t[1],y:t[2]},h=[],f=n?"y":"x",d=Math.abs(l[f]-c[f])*(o-r),v=l[f]>=c[f]?1:0,y=d>Math.PI?1:0,m=e.convert(l),x=Ot(e,m);if(x>=.5)if(d===2*Math.PI){var O={x:(l.x+c.x)/2,y:(l.y+c.y)/2},j=e.convert(O);h.push(["A",x,x,0,y,v,j.x,j.y]),h.push(["A",x,x,0,y,v,m.x,m.y])}else h.push(["A",x,x,0,y,v,m.x,m.y]);return h}(pre,e,t)):r.push(Wt(o,t));break;case"a":r.push(Ut(o,t));break;default:r.push(o)}})),function(path){Object(h.j)(path,(function(t,e){if("a"===t[0].toLowerCase()){var pre=path[e-1],n=path[e+1];n&&"a"===n[0].toLowerCase()?pre&&"l"===pre[0].toLowerCase()&&(pre[0]="M"):pre&&"a"===pre[0].toLowerCase()&&n&&"l"===n[0].toLowerCase()&&(n[0]="M")}}))}(r),r}var $t=n(436);function te(t,e){var n=t.event.target.getCanvasBBox();return n.width>=e||n.height>=e?n:null}function ee(t){var element,e=t.event.target;return e&&(element=e.get("element")),element}function ne(t){var e,n=t.event.target;return n&&(e=n.get("delegateObject")),e}function ie(t){var e=t.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function re(t){return t&&t.component&&t.component.isList()}function oe(t){return t&&t.component&&t.component.isSlider()}function ae(t){var e=t.event.target;return e&&"mask"===e.get("name")}function se(t,e){var view,path,n,r;if("path"===t.event.target.get("type")){var o=function(t,e){var n=t.event.target,r=n.getCanvasBBox();return r.width>=e||r.height>=e?n.attr("path"):null}(t,e);if(!o)return;return view=t.view,path=o,n=le(view),r=fe(path),n.filter((function(t){var e,n,o=t.shape;if("path"===o.get("type"))e=fe(o.attr("path"));else{var c=o.getCanvasBBox();e=[[(n=c).minX,n.minY],[n.maxX,n.minY],[n.maxX,n.maxY],[n.minX,n.maxY]]}return Object($t.b)(r,e)}))}var c=te(t,e);return c?pe(t.view,c):null}function ce(t,e,n){var r=te(t,n);if(!r)return null;var view=t.view,o=me(view,e,{x:r.x,y:r.y}),c=me(view,e,{x:r.maxX,y:r.maxY});return pe(e,{minX:o.x,minY:o.y,maxX:c.x,maxY:c.y})}function le(view){var t=view.geometries,e=[];return Object(h.j)(t,(function(t){var n=t.elements;e=e.concat(n)})),view.views&&view.views.length&&Object(h.j)(view.views,(function(t){e=e.concat(le(t))})),e}function ue(view,t){var e=view.geometries,n=[];return Object(h.j)(e,(function(e){var r=e.getElementsBy((function(e){return e.hasState(t)}));n=n.concat(r)})),n}function he(element,t){var e=element.getModel().data;return Object(h.z)(e)?e[0][t]:e[t]}function pe(view,t){var e=le(view),n=[];return Object(h.j)(e,(function(e){var r,o,c=e.shape.getCanvasBBox();r=t,(o=c).minX>r.maxX||o.maxX<r.minX||o.minY>r.maxY||o.maxY<r.minY||n.push(e)})),n}function fe(path){var t=[];return Object(h.j)(path,(function(e){if("A"!==e[0])for(var i=1;i<e.length;i+=2)t.push([e[i],e[i+1]]);else{var n=e.length;t.push([e[n-2],e[n-1]])}})),t}function de(view){return view.getComponents().map((function(t){return t.component}))}function ge(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function ve(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y}function ye(view){var t=view.parent,e=null;return t&&(e=t.views.filter((function(sub){return sub!==view}))),e}function me(view,t,e){var n=function(view,t){return view.getCoordinate().invert(t)}(view,e);return t.getCoordinate().convert(n)}function be(t,e,n,r){var o=!1;return Object(h.j)(t,(function(t){if(t[n]===e[n]&&t[r]===e[r])return o=!0,!1})),o}function xe(view,t){var e=view.getScaleByField(t);return!e&&view.views&&Object(h.j)(view.views,(function(n){if(e=xe(n,t))return!1})),e}var Oe=function(){function t(view){this.actions=[],this.event=null,this.cacheMap={},this.view=view}return t.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return this.cacheMap[t[0]];2===t.length&&(this.cacheMap[t[0]]=t[1])},t.prototype.getAction=function(t){return this.actions.find((function(e){return e.name===t}))},t.prototype.addAction=function(t){this.actions.push(t)},t.prototype.removeAction=function(t){var e=this.actions,n=this.actions.indexOf(t);n>=0&&e.splice(n,1)},t.prototype.getCurrentPoint=function(){var t=this.event;return t?t.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(t.clientX,t.clientY):{x:t.x,y:t.y}:null},t.prototype.getCurrentShape=function(){return Object(h.q)(this.event,["gEvent","shape"])},t.prototype.isInPlot=function(){var t=this.getCurrentPoint();return!!t&&this.view.isPointInPlot(t)},t.prototype.isInShape=function(t){var e=this.getCurrentShape();return!!e&&e.get("name")===t},t.prototype.isInComponent=function(t){var e=de(this.view),n=this.getCurrentPoint();return!!n&&!!e.find((function(component){var e=component.getBBox();return t?component.get("name")===t&&ve(e,n):ve(e,n)}))},t.prototype.destroy=function(){this.view=null,this.event=null,Object(h.j)(this.actions.slice(),(function(t){t.destroy()})),this.actions=null,this.cacheMap=null},t}(),je=Oe,we=function(){function t(view,t){this.view=view,this.cfg=t}return t.prototype.init=function(){this.initEvents()},t.prototype.initEvents=function(){},t.prototype.clearEvents=function(){},t.prototype.destroy=function(){this.clearEvents()},t}();function Ce(t,e,n){var r=t.split(":"),o=r[0],c=e.getAction(o)||function(t,e){var n=Ht[t],r=null;return n&&((r=new(0,n.ActionClass)(e,n.cfg)).name=t,r.init()),r}(o,e);if(!c)throw new Error("There is no action named "+o);return{action:c,methodName:r[1],arg:n}}function Me(t){var e=t.action,n=t.methodName,r=t.arg;if(!e[n])throw new Error("Action("+e.name+") doesn't have a method called "+n);e[n](r)}var Se="start",Ae="showEnable",Te="end",Be="rollback",ke="processing",Pe=function(t){function e(view,e){var n=t.call(this,view,e)||this;return n.callbackCaches={},n.emitCaches={},n.steps=e,n}return Object(l.b)(e,t),e.prototype.init=function(){this.initContext(),t.prototype.init.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var t=this;Object(h.j)(this.steps,(function(e,n){Object(h.j)(e,(function(e){var r=t.getActionCallback(n,e);r&&t.bindEvent(e.trigger,r)}))}))},e.prototype.clearEvents=function(){var t=this;Object(h.j)(this.steps,(function(e,n){Object(h.j)(e,(function(e){var r=t.getActionCallback(n,e);r&&t.offEvent(e.trigger,r)}))}))},e.prototype.initContext=function(){var view=this.view,t=new je(view);this.context=t;var e=this.steps;Object(h.j)(e,(function(e){Object(h.j)(e,(function(e){if(Object(h.F)(e.action))e.actionObject={action:qt(e.action,t),methodName:"execute"};else if(Object(h.M)(e.action))e.actionObject=Ce(e.action,t,e.arg);else if(Object(h.z)(e.action)){var n=e.action,r=Object(h.z)(e.arg)?e.arg:[e.arg];e.actionObject=[],Object(h.j)(n,(function(n,o){e.actionObject.push(Ce(n,t,r[o]))}))}}))}))},e.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t)return!0;if(t===Ae)return!0;if(t===ke)return e===Se;if(t===Se)return e!==ke;if(t===Te)return e===ke||e===Se;if(t===Be){if(n[Te])return e===Te;if(e===Se)return!0}return!1},e.prototype.isAllowExecute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return(!e.once||!this.emitCaches[n])&&(!e.isEnable||e.isEnable(this.context))}return!1},e.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},e.prototype.afterExecute=function(t,e){t!==Ae&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},e.prototype.getKey=function(t,e){return t+e.trigger+e.action},e.prototype.getActionCallback=function(t,e){var n=this,r=this.context,o=this.callbackCaches,c=e.actionObject;if(e.action&&c){var l=this.getKey(t,e);if(!o[l]){var f=function(o){r.event=o,n.isAllowExecute(t,e)?(Object(h.z)(c)?Object(h.j)(c,(function(t){r.event=o,Me(t)})):(r.event=o,Me(c)),n.afterExecute(t,e),e.callback&&(r.event=o,e.callback(r))):r.event=null};e.debounce?o[l]=Object(h.g)(f,e.debounce.wait,e.debounce.immediate):e.throttle?o[l]=Object(h.hb)(f,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):o[l]=f}return o[l]}return null},e.prototype.bindEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.addEventListener(n[1],e):"document"===n[0]?document.addEventListener(n[1],e):this.view.on(t,e)},e.prototype.offEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.removeEventListener(n[1],e):"document"===n[0]?document.removeEventListener(n[1],e):this.view.off(t,e)},e}(we),Ee={};function Le(t,e){Ee[Object(h.Q)(t)]=e}function Ie(t,view,e){var n=function(t){return Ee[Object(h.Q)(t)]}(t);if(!n)return null;if(Object(h.L)(n)){var r=Object(h.W)(Object(h.e)(n),e);return new Pe(view,r)}return new n(view,e)}function Fe(t){var e,n={point:{default:{fill:t.pointFillColor,r:t.pointSize,stroke:t.pointBorderColor,lineWidth:t.pointBorder,fillOpacity:t.pointFillOpacity},active:{stroke:t.pointActiveBorderColor,lineWidth:t.pointActiveBorder},selected:{stroke:t.pointSelectedBorderColor,lineWidth:t.pointSelectedBorder},inactive:{fillOpacity:t.pointInactiveFillOpacity,strokeOpacity:t.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:t.hollowPointFillColor,lineWidth:t.hollowPointBorder,stroke:t.hollowPointBorderColor,strokeOpacity:t.hollowPointBorderOpacity,r:t.hollowPointSize},active:{stroke:t.hollowPointActiveBorderColor,strokeOpacity:t.hollowPointActiveBorderOpacity},selected:{lineWidth:t.hollowPointSelectedBorder,stroke:t.hollowPointSelectedBorderColor,strokeOpacity:t.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:t.hollowPointInactiveBorderOpacity}},area:{default:{fill:t.areaFillColor,fillOpacity:t.areaFillOpacity,stroke:null},active:{fillOpacity:t.areaActiveFillOpacity},selected:{fillOpacity:t.areaSelectedFillOpacity},inactive:{fillOpacity:t.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:t.hollowAreaBorderColor,lineWidth:t.hollowAreaBorder,strokeOpacity:t.hollowAreaBorderOpacity},active:{fill:null,lineWidth:t.hollowAreaActiveBorder},selected:{fill:null,lineWidth:t.hollowAreaSelectedBorder},inactive:{strokeOpacity:t.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:t.intervalFillColor,fillOpacity:t.intervalFillOpacity},active:{stroke:t.intervalActiveBorderColor,lineWidth:t.intervalActiveBorder},selected:{stroke:t.intervalSelectedBorderColor,lineWidth:t.intervalSelectedBorder},inactive:{fillOpacity:t.intervalInactiveFillOpacity,strokeOpacity:t.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:t.hollowIntervalFillColor,stroke:t.hollowIntervalBorderColor,lineWidth:t.hollowIntervalBorder,strokeOpacity:t.hollowIntervalBorderOpacity},active:{stroke:t.hollowIntervalActiveBorderColor,lineWidth:t.hollowIntervalActiveBorder,strokeOpacity:t.hollowIntervalActiveBorderOpacity},selected:{stroke:t.hollowIntervalSelectedBorderColor,lineWidth:t.hollowIntervalSelectedBorder,strokeOpacity:t.hollowIntervalSelectedBorderOpacity},inactive:{stroke:t.hollowIntervalInactiveBorderColor,lineWidth:t.hollowIntervalInactiveBorder,strokeOpacity:t.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:t.lineBorderColor,lineWidth:t.lineBorder,strokeOpacity:t.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:t.lineActiveBorder},selected:{lineWidth:t.lineSelectedBorder},inactive:{strokeOpacity:t.lineInactiveBorderOpacity}}},r=function(t){return{title:{autoRotate:!0,position:"center",spacing:t.axisTitleSpacing,style:{fill:t.axisTitleTextFillColor,fontSize:t.axisTitleTextFontSize,lineHeight:t.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:t.axisLabelOffset,style:{fill:t.axisLabelFillColor,fontSize:t.axisLabelFontSize,lineHeight:t.axisLabelLineHeight,fontFamily:t.fontFamily}},line:{style:{lineWidth:t.axisLineBorder,stroke:t.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:t.axisGridBorderColor,lineWidth:t.axisGridBorder,lineDash:t.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:t.axisTickLineBorder,stroke:t.axisTickLineBorderColor},alignTick:!0,length:t.axisTickLineLength},subTickLine:null,animate:!0}}(t),o=function(t){return{title:null,marker:{symbol:"circle",spacing:t.legendMarkerSpacing,style:{r:t.legendCircleMarkerSize,fill:t.legendMarkerColor}},itemName:{spacing:5,style:{fill:t.legendItemNameFillColor,fontFamily:t.fontFamily,fontSize:t.legendItemNameFontSize,lineHeight:t.legendItemNameLineHeight,fontWeight:t.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:t.legendPageNavigatorMarkerSize,inactiveFill:t.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:t.legendPageNavigatorMarkerInactiveFillOpacity,fill:t.legendPageNavigatorMarkerFillColor,opacity:t.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:t.legendPageNavigatorTextFillColor,fontSize:t.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:t.legendItemSpacing,itemMarginBottom:t.legendItemMarginBottom,padding:t.legendPadding}}(t);return{background:t.backgroundColor,defaultColor:t.brandColor,subColor:t.subColor,semanticRed:t.paletteSemanticRed,semanticGreen:t.paletteSemanticGreen,padding:"auto",fontFamily:t.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:t.paletteQualitative10,colors20:t.paletteQualitative20,sequenceColors:t.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:function(element){var t=element.geometry.coordinate;if(t.isPolar&&t.isTransposed){var e=ft(element.getModel(),t),r=(e.startAngle+e.endAngle)/2,o=7.5*Math.cos(r),c=7.5*Math.sin(r);return{matrix:W.a.transform(null,[["t",o,c]])}}return n.interval.selected}}},"hollow-rect":{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},line:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},tick:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},funnel:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}},pyramid:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},line:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},dot:{default:{style:Object(l.a)(Object(l.a)({},n.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:Object(l.a)(Object(l.a)({},n.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:Object(l.a)(Object(l.a)({},n.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:Object(l.a)(Object(l.a)({},n.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:Object(l.a)(Object(l.a)({},n.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:Object(l.a)(Object(l.a)({},n.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:Object(l.a)(Object(l.a)({},n.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:Object(l.a)(Object(l.a)({},n.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hvh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},polygon:{polygon:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},point:{circle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},square:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},bowtie:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},diamond:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},hexagon:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},triangle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"triangle-down":{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"hollow-circle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-square":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-bowtie":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-diamond":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-hexagon":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle-down":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},cross:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},tick:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},plus:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},hyphen:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},line:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}}},area:{area:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},smooth:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},line:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"smooth-line":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}},schema:{candle:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},box:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}}},edge:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},arc:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},violin:{violin:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hollow:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"hollow-smooth":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}}},components:{axis:{common:r,top:{position:"top",grid:null,title:null,verticalLimitLength:.5},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:.5},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:Object(h.h)({},r.grid,{line:{type:"line"}})},radius:{title:null,grid:Object(h.h)({},r.grid,{line:{type:"circle"}})}},legend:{common:o,right:{layout:"vertical",padding:t.legendVerticalPadding},left:{layout:"vertical",padding:t.legendVerticalPadding},top:{layout:"horizontal",padding:t.legendHorizontalPadding},bottom:{layout:"horizontal",padding:t.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:t.sliderRailHeight,defaultLength:t.sliderRailWidth,style:{fill:t.sliderRailFillColor,stroke:t.sliderRailBorderColor,lineWidth:t.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:t.sliderLabelTextFillColor,fontSize:t.sliderLabelTextFontSize,lineHeight:t.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},handler:{size:t.sliderHandlerWidth,style:{fill:t.sliderHandlerFillColor,stroke:t.sliderHandlerBorderColor}},slidable:!0,padding:o.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:t.tooltipCrosshairsBorderColor,lineWidth:t.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(e={},e[""+et.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:t.tooltipContainerFillColor,opacity:t.tooltipContainerFillOpacity,boxShadow:t.tooltipContainerShadow,borderRadius:t.tooltipContainerBorderRadius+"px",color:t.tooltipTextFillColor,fontSize:t.tooltipTextFontSize+"px",fontFamily:t.fontFamily,lineHeight:t.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},e[""+et.TOOLTIP_CSS_CONST.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},e[""+et.TOOLTIP_CSS_CONST.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},e[""+et.TOOLTIP_CSS_CONST.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e[""+et.TOOLTIP_CSS_CONST.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e[""+et.TOOLTIP_CSS_CONST.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:t.annotationArcBorderColor,lineWidth:t.annotationArcBorder},animate:!0},line:{style:{stroke:t.annotationLineBorderColor,lineDash:t.annotationLineDash,lineWidth:t.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textAlign:"start",fontFamily:t.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:t.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:t.annotationRegionBorder,stroke:t.annotationRegionBorderColor,fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:t.brandColor,lineWidth:2}},line:{style:{stroke:t.annotationLineBorderColor,lineWidth:t.annotationLineBorder},length:t.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:t.cSliderBackgroundFillColor,opacity:t.cSliderBackgroundFillOpacity},foregroundStyle:{fill:t.cSliderForegroundFillColor,opacity:t.cSliderForegroundFillOpacity},handlerStyle:{width:t.cSliderHandlerWidth,height:t.cSliderHandlerHeight,fill:t.cSliderHandlerFillColor,opacity:t.cSliderHandlerFillOpacity,stroke:t.cSliderHandlerBorderColor,lineWidth:t.cSliderHandlerBorder,radius:t.cSliderHandlerBorderRadius,highLightFill:t.cSliderHandlerHighlightFillColor},textStyle:{fill:t.cSliderTextFillColor,opacity:t.cSliderTextFillOpacity,fontSize:t.cSliderTextFontSize,lineHeight:t.cSliderTextLineHeight,fontWeight:t.cSliderTextFontWeight,stroke:t.cSliderTextBorderColor,lineWidth:t.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:t.scrollbarTrackFillColor,thumbColor:t.scrollbarThumbFillColor}},hover:{style:{thumbColor:t.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:t.labelFillColor,fontSize:t.labelFontSize,fontFamily:t.fontFamily,stroke:t.labelBorderColor,lineWidth:t.labelBorder},fillColorDark:t.labelFillColorDark,fillColorLight:t.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:t.innerLabelFillColor,fontSize:t.innerLabelFontSize,fontFamily:t.fontFamily,stroke:t.innerLabelBorderColor,lineWidth:t.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:t.overflowLabelFillColor,fontSize:t.overflowLabelFontSize,fontFamily:t.fontFamily,stroke:t.overflowLabelBorderColor,lineWidth:t.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:t.labelLineBorder}},autoRotate:!0}}}var De="#000",Re="#595959",_e="#8C8C8C",Ye="#BFBFBF",Ge="#D9D9D9",ze="#F0F0F0",Xe="#FFFFFF",Ne=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],He=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Ve=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],qe=function(t){void 0===t&&(t={});var e=t.backgroundColor,n=void 0===e?"transparent":e,r=t.subColor,o=void 0===r?"rgba(0,0,0,0.05)":r,c=t.paletteQualitative10,l=void 0===c?Ne:c,h=t.paletteQualitative20,f=void 0===h?He:h,d=t.paletteSemanticRed,v=void 0===d?"#F4664A":d,y=t.paletteSemanticGreen,m=void 0===y?"#30BF78":y,x=t.paletteSemanticYellow,O=void 0===x?"#FAAD14":x,j=t.paletteSequence,w=void 0===j?Ve:j,C=t.fontFamily,M=void 0===C?'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"':C,S=t.brandColor,A=void 0===S?l[0]:S;return{backgroundColor:n,brandColor:A,subColor:o,paletteQualitative10:l,paletteQualitative20:f,paletteSemanticRed:v,paletteSemanticGreen:m,paletteSemanticYellow:O,paletteSequence:w,fontFamily:M,axisLineBorderColor:Ye,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Re,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:Ye,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Ge,axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:_e,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Ge,axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:_e,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:A,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Re,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:De,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:De,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:_e,legendPageNavigatorTextFontSize:12,sliderRailFillColor:Ge,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:_e,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:ze,sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Ye,annotationArcBorderColor:Ge,annotationArcBorder:1,annotationLineBorderColor:Ye,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Re,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:De,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Ye,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Re,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Re,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Xe,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Re,overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Xe,overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Ye,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:A,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Xe,pointBorderOpacity:1,pointActiveBorderColor:De,pointSelectedBorder:2,pointSelectedBorderColor:De,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:A,hollowPointBorderOpacity:.95,hollowPointFillColor:Xe,hollowPointActiveBorder:1,hollowPointActiveBorderColor:De,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:De,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:A,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:A,areaFillOpacity:.25,areaActiveFillColor:A,areaActiveFillOpacity:.5,areaSelectedFillColor:A,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:A,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:De,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:De,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:A,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:De,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:De,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:A,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Xe,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:De,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:De,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}};qe();function We(t){var e=t.styleSheet,n=void 0===e?{}:e,r=Object(l.c)(t,["styleSheet"]),o=qe(n);return Object(h.h)({},Fe(o),r)}var Ue={default:We({})};function Ze(t){return Object(h.q)(Ue,Object(h.Q)(t),Ue.default)}function Ke(t,e,n){var r=n.translate(t),o=n.translate(e);return Object(h.J)(r,o)}function Qe(data,t,e){var n=e.coordinate,r=e.getYScale(),o=r.field,c=n.invert(t),l=r.invert(c.y);return Object(h.m)(data,(function(t){var e=t._origin;return e[o][0]<=l&&e[o][1]>=l}))||data[data.length-1]}var Je=Object(h.U)((function(t){if(t.isCategory)return 1;for(var e=t.values,n=e.length,r=t.translate(e[0]),o=r,c=0;c<n;c++){var l=e[c],h=t.translate(l);h<r&&(r=h),h>o&&(o=h)}return(o-r)/(n-1)}));function $e(t){for(var e,n=function(t){var e=Object(h.ob)(t.attributes);return Object(h.l)(e,(function(t){return Object(h.f)(j,t.type)}))}(t),r=0,o=n;r<o.length;r++){var c=o[r],l=c.getScale(c.type);if(l&&l.isLinear){e=l;break}}var f=t.getXScale(),d=t.getYScale();return e||d||f}function tn(t,data,e){if(0===data.length)return null;var n=e.type,r=e.getXScale(),o=e.getYScale(),c=r.field,l=o.field,f=null;if("heatmap"===n||"point"===n){for(var d=e.coordinate.invert(t),v=r.invert(d.x),y=o.invert(d.y),m=1/0,x=0;x<data.length;x++){var O=data[x],j=O._origin,w=Math.pow(j[c]-v,2)+Math.pow(j[l]-y,2);w<m&&(m=w,f=O)}return f}var C=data[0],M=data[data.length-1],S=function(t,e){var n=e.coordinate,r=e.getXScale(),o=r.range,c=o[o.length-1],l=o[0],h=n.invert(t).x;return n.isPolar&&h>(1+c)/2&&(h=l),r.translate(r.invert(h))}(t,e),A=C._origin[c],T=C._origin[l],B=M._origin[c],k=o.isLinear&&Object(h.z)(T);if(Object(h.z)(A)){for(x=0;x<data.length;x++){j=(D=data[x])._origin;if(r.translate(j[c][0])<=S&&r.translate(j[c][1])>=S){if(!k){f=D;break}Object(h.z)(f)||(f=[]),f.push(D)}}Object(h.z)(f)&&(f=Qe(f,t,e))}else{var P=void 0;if(r.isLinear||"timeCat"===r.type){if((S>r.translate(B)||S<r.translate(A))&&(S>r.max||S<r.min))return null;for(var E=0,L=data.length-1,I=void 0;E<=L;){var F=data[I=Math.floor((E+L)/2)]._origin[c];if(Ke(F,S,r))return data[I];r.translate(F)<=r.translate(S)?(E=I+1,M=data[I],P=data[I+1]):(0===L&&(M=data[0]),L=I-1)}}else{for(x=0;x<data.length;x++){var D;if(Ke((j=(D=data[x])._origin)[c],S,r)){if(!k){f=D;break}Object(h.z)(f)||(f=[]),f.push(D)}else r.translate(j[c])<=S&&(M=D,P=data[x+1])}Object(h.z)(f)&&(f=Qe(f,t,e))}M&&P&&Math.abs(r.translate(M._origin[c])-S)>Math.abs(r.translate(P._origin[c])-S)&&(M=P)}var R=Je(e.getXScale());return!f&&Math.abs(r.translate(M._origin[c])-S)<=R/2&&(f=M),f}function en(data,t,title,e){void 0===title&&(title=""),void 0===e&&(e=!1);var n,r,o=data._origin,c=function(t,e,title){var n=e.getAttribute("position").getFields(),r=e.scales,o=Object(h.F)(title)||!title?n[0]:title,c=r[o],l=c?c.getText(t[o]):t[o]||o;return Object(h.F)(title)?title(l,t):l}(o,t,title),f=t.tooltipOption,d=t.theme.defaultColor,v=[];function y(t,n){if(e||!Object(h.G)(n)&&""!==n){var r={title:c,data:o,mappingData:data,name:t,value:n,color:data.color||d,marker:!0};v.push(r)}}if(Object(h.K)(f)){var m=f.fields,x=f.callback;if(x){var O=m.map((function(t){return data._origin[t]})),j=x.apply(void 0,O),w=Object(l.a)({data:data._origin,mappingData:data,title:c,color:data.color||d,marker:!0},j);v.push(w)}else for(var C=t.scales,M=0,S=m;M<S.length;M++){var A=S[M];if(!Object(h.G)(o[A])){var T=C[A];y(n=At(T),r=T.getText(o[A]))}}}else{var B=$e(t);r=function(t,e){var n=t[e.field];return Object(h.z)(n)?n.map((function(t){return e.getText(t)})).join("-"):e.getText(n)}(o,B),n=function(t,e){var n,r=e.getGroupScales();if(r.length&&(n=r[0]),n){var o=n.field;return n.getText(t[o])}return At($e(e))}(o,t),y(n,r)}return v}function nn(t,e,title,n){var r=n.showNil,o=[],c=t.dataArray;if(!Object(h.D)(c)){t.sort(c);for(var l=0,f=c;l<f.length;l++){var d=tn(e,f[l],t);if(d){var v=t.getElementId(d),element=t.elementsMap[v];if("heatmap"===t.type||element.visible){var y=en(d,t,title,r);y.length&&o.push(y)}}}}return o}function rn(t,e,title,n){var r=n.showNil,o=[],c=t.container.getShape(e.x,e.y);if(c&&c.get("visible")&&c.get("origin")){var l=en(c.get("origin").mappingData,t,title,r);l.length&&o.push(l)}return o}function on(view,t,e){for(var n=[],r=view.geometries,o=e.shared,title=e.title,c=e.reversed,l=0,h=r;l<h.length;l++){var f=h[l];if(f.visible&&!1!==f.tooltipOption){var d=f.type,v=void 0;(v=["point","edge","polygon"].includes(d)?rn(f,t,title,e):["area","line","path","heatmap"].includes(d)||!1!==o?nn(f,t,title,e):rn(f,t,title,e)).length&&(c&&v.reverse(),n.push(v))}}return n}function an(t){void 0===t&&(t=0);var e=Object(h.z)(t)?t:[t];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=Object(l.d)(Object(l.d)([],e,!0),e,!0);break;case 3:e=Object(l.d)(Object(l.d)([],e,!0),[e[1]],!1);break;default:e=e.slice(0,4)}return e}var sn={};function cn(t,e){sn[t]=e}var ln=function(){function t(option){this.option=this.wrapperOption(option)}return t.prototype.update=function(option){return this.option=this.wrapperOption(option),this},t.prototype.hasAction=function(t){var e=this.option.actions;return Object(h.fb)(e,(function(e){return e[0]===t}))},t.prototype.create=function(t,e){var n=this.option,r=n.type,o=n.cfg,c="theta"===r,h=Object(l.a)({start:t,end:e},o),f=function(t){return $[t.toLowerCase()]}(c?"polar":r);return this.coordinate=new f(h),this.coordinate.type=r,c&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},t.prototype.adjust=function(t,e){return this.coordinate.update({start:t,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},t.prototype.rotate=function(t){return this.option.actions.push(["rotate",t]),this},t.prototype.reflect=function(t){return this.option.actions.push(["reflect",t]),this},t.prototype.scale=function(t,e){return this.option.actions.push(["scale",t,e]),this},t.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},t.prototype.getOption=function(){return this.option},t.prototype.getCoordinate=function(){return this.coordinate},t.prototype.wrapperOption=function(option){return Object(l.a)({type:"rect",actions:[],cfg:{}},option)},t.prototype.execActions=function(t){var e=this,n=this.option.actions;Object(h.j)(n,(function(n){var r,o=n[0],c=n.slice(1);(!!Object(h.G)(t)||t.includes(o))&&(r=e.coordinate)[o].apply(r,c)}))},t}(),un=function(){function t(view,t,data){this.view=view,this.gEvent=t,this.data=data,this.type=t.type}return t.fromData=function(view,e,data){return new t(view,new B.Event(e,{}),data)},Object.defineProperty(t.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.clone=function(){return new t(this.view,this.gEvent,this.data)},t}();function hn(view){var t=view.getController("axis"),legend=view.getController("legend"),e=view.getController("annotation");[t,view.getController("slider"),view.getController("scrollbar"),legend,e].forEach((function(t){t&&t.layout()}))}var pn=function(){function t(){this.scales=new Map,this.syncScales=new Map}return t.prototype.createScale=function(t,data,e,n){var r=e,o=this.getScaleMeta(n);if(0===data.length&&o){var c=o.scale,l={type:c.type};c.isCategory&&(l.values=c.values),r=Object(h.h)(l,o.scaleDef,e)}var f=St(t,data,r);return this.cacheScale(f,e,n),f},t.prototype.sync=function(t,e){var n=this;this.syncScales.forEach((function(r,o){var c=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER,f=[];Object(h.j)(r,(function(t){var e=n.getScale(t);l=Object(h.I)(e.max)?Math.max(l,e.max):l,c=Object(h.I)(e.min)?Math.min(c,e.min):c,Object(h.j)(e.values,(function(t){f.includes(t)||f.push(t)}))})),Object(h.j)(r,(function(r){var o=n.getScale(r);if(o.isContinuous)o.change({min:c,max:l,values:f});else if(o.isCategory){var d=o.range,v=n.getScaleMeta(r);f&&!Object(h.q)(v,["scaleDef","range"])&&(d=Tt(Object(h.h)({},o,{values:f}),t,e)),o.change({values:f,range:d})}}))}))},t.prototype.cacheScale=function(t,e,n){var r=this.getScaleMeta(n);r&&r.scale.type===t.type?(!function(t,e){if("identity"!==t.type&&"identity"!==e.type){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);t.change(n)}}(r.scale,t),r.scaleDef=e):(r={key:n,scale:t,scaleDef:e},this.scales.set(n,r));var o=this.getSyncKey(r);if(r.syncKey=o,this.removeFromSyncScales(n),o){var c=this.syncScales.get(o);c||(c=[],this.syncScales.set(o,c)),c.push(n)}},t.prototype.getScale=function(t){var e=this.getScaleMeta(t);if(!e){var n=Object(h.P)(t.split("-")),r=this.syncScales.get(n);r&&r.length&&(e=this.getScaleMeta(r[0]))}return e&&e.scale},t.prototype.deleteScale=function(t){var e=this.getScaleMeta(t);if(e){var n=e.syncKey,r=this.syncScales.get(n);if(r&&r.length){var o=r.indexOf(t);-1!==o&&r.splice(o,1)}}this.scales.delete(t)},t.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},t.prototype.removeFromSyncScales=function(t){var e=this;this.syncScales.forEach((function(n,r){var o=n.indexOf(t);if(-1!==o)return n.splice(o,1),0===n.length&&e.syncScales.delete(r),!1}))},t.prototype.getSyncKey=function(t){var e=t.scale,n=t.scaleDef,r=e.field,o=Object(h.q)(n,["sync"]);return!0===o?r:!1===o?void 0:o},t.prototype.getScaleMeta=function(t){return this.scales.get(t)},t}(),fn=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.top=t,this.right=e,this.bottom=n,this.left=r}return t.instance=function(e,n,r,o){return void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=0),new t(e,n,r,o)},t.prototype.max=function(t){var e=t[0],n=t[1],r=t[2],o=t[3];return this.top=Math.max(this.top,e),this.right=Math.max(this.right,n),this.bottom=Math.max(this.bottom,r),this.left=Math.max(this.left,o),this},t.prototype.shrink=function(t){var e=t[0],n=t[1],r=t[2],o=t[3];return this.top+=e,this.right+=n,this.bottom+=r,this.left+=o,this},t.prototype.inc=function(t,e){var n=t.width,r=t.height;switch(e){case o.TOP:case o.TOP_LEFT:case o.TOP_RIGHT:this.top+=r;break;case o.RIGHT:case o.RIGHT_TOP:case o.RIGHT_BOTTOM:this.right+=n;break;case o.BOTTOM:case o.BOTTOM_LEFT:case o.BOTTOM_RIGHT:this.bottom+=r;break;case o.LEFT:case o.LEFT_TOP:case o.LEFT_BOTTOM:this.left+=n}return this},t.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},t.prototype.clone=function(){return new(t.bind.apply(t,Object(l.d)([void 0],this.getPadding(),!1)))},t}();function dn(view){var t=view.padding;if(!function(t){return!Object(h.I)(t)&&!Object(h.z)(t)}(t))return new(fn.bind.apply(fn,Object(l.d)([void 0],an(t),!1)));var e=view.viewBBox,n=new fn,r=[],o=[],f=[];return Object(h.j)(view.getComponents(),(function(t){var e=t.type;e===c.AXIS?r.push(t):[c.LEGEND,c.SLIDER,c.SCROLLBAR].includes(e)?o.push(t):e!==c.GRID&&e!==c.TOOLTIP&&f.push(t)})),Object(h.j)(r,(function(t){var r=t.component.getLayoutBBox(),o=new bt(r.x,r.y,r.width,r.height).exceed(e);n.max(o)})),Object(h.j)(o,(function(t){var component=t.component,e=t.direction,r=component.getLayoutBBox(),o=component.get("padding"),c=new bt(r.x,r.y,r.width,r.height).expand(o);n.inc(c,e)})),Object(h.j)(f,(function(t){var component=t.component,e=t.direction,r=component.getLayoutBBox(),o=new bt(r.x,r.y,r.width,r.height);n.inc(o,e)})),n}function gn(t,e,n){var r=n.instance();e.forEach((function(t){t.autoPadding=r.max(t.autoPadding.getPadding())}))}var vn=function(t){function e(e){var n=t.call(this,{visible:e.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=Object.keys(sn),n.scalePool=new pn,n.layoutFunc=hn,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(t){var e=t.name;if(!e.includes(":")){var r=n.createViewEvent(t);n.doPlotEvent(r),n.emit(e,r)}},n.onDelegateEvents=function(t){var e=t.name;if(e.includes(":")){var r=n.createViewEvent(t);n.emit(e,r)}};var r=e.id,o=void 0===r?Object(h.mb)("view"):r,c=e.parent,canvas=e.canvas,f=e.backgroundGroup,d=e.middleGroup,v=e.foregroundGroup,y=e.region,m=void 0===y?{start:{x:0,y:0},end:{x:1,y:1}}:y,x=e.padding,O=e.appendPadding,j=e.theme,w=e.options,C=e.limitInPlot,M=e.syncViewPadding;return n.parent=c,n.canvas=canvas,n.backgroundGroup=f,n.middleGroup=d,n.foregroundGroup=v,n.region=m,n.padding=x,n.appendPadding=O,n.options=Object(l.a)(Object(l.a)({},n.options),w),n.limitInPlot=C,n.id=o,n.syncViewPadding=M,n.themeObject=Object(h.K)(j)?Object(h.h)({},Ze("default"),We(j)):Ze(j),n.init(),n}return Object(l.b)(e,t),e.prototype.setLayout=function(t){this.layoutFunc=t},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},e.prototype.render=function(t,e){void 0===t&&(t=!1),this.emit(f.BEFORE_RENDER,un.fromData(this,f.BEFORE_RENDER,e)),this.paint(t),this.emit(f.AFTER_RENDER,un.fromData(this,f.AFTER_RENDER,e)),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this;this.emit(f.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,i=0;i<e.length;i++)e[i].clear(),e[i].container.remove(!0),e[i].labelsContainer.remove(!0);this.geometries=[];var n=this.controllers;for(i=0;i<n.length;i++)"annotation"===n[i].name?n[i].clear(!0):n[i].clear();this.createdScaleKeys.forEach((function(e,n){t.getRootView().scalePool.deleteScale(n)})),this.createdScaleKeys.clear();var r=this.views;for(i=0;i<r.length;i++)r[i].clear();this.emit(f.AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(f.BEFORE_DESTROY);var e=this.interactions;Object(h.j)(e,(function(t){t&&t.destroy()})),this.clear();for(var n=this.controllers,i=0,r=n.length;i<r;i++){n[i].destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.geometries,i=0,r=n.length;i<r;i++){n[i].changeVisible(e)}var o=this.controllers;for(i=0,r=o.length;i<r;i++){o[i].changeVisible(e)}return this.foregroundGroup.set("visible",e),this.middleGroup.set("visible",e),this.backgroundGroup.set("visible",e),this.getCanvas().draw(),this},e.prototype.data=function(data){return Object(h.db)(this.options,"data",data),this.isDataChanged=!0,this},e.prototype.source=function(data){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(data)},e.prototype.filter=function(t,e){return Object(h.F)(e)?(Object(h.db)(this.options,["filters",t],e),this):(!e&&Object(h.q)(this.options,["filters",t])&&delete this.options.filters[t],this)},e.prototype.axis=function(t,e){return Object(h.A)(t)?Object(h.db)(this.options,["axes"],t):Object(h.db)(this.options,["axes",t],e),this},e.prototype.legend=function(t,e){return Object(h.A)(t)?Object(h.db)(this.options,["legends"],t):Object(h.M)(t)?(Object(h.db)(this.options,["legends",t],e),Object(h.L)(e)&&(null==e?void 0:e.selected)&&Object(h.db)(this.options,["filters",t],(function(t){var n;return null===(n=null==e?void 0:e.selected[t])||void 0===n||n}))):Object(h.db)(this.options,["legends"],t),this},e.prototype.scale=function(t,e){var n=this;return Object(h.M)(t)?Object(h.db)(this.options,["scales",t],e):Object(h.K)(t)&&Object(h.j)(t,(function(t,e){Object(h.db)(n.options,["scales",e],t)})),this},e.prototype.tooltip=function(t){return Object(h.db)(this.options,"tooltip",t),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},e.prototype.coordinate=function(t,e){return Object(h.M)(t)?Object(h.db)(this.options,"coordinate",{type:t,cfg:e}):Object(h.db)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},e.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=function(t){return Yt[Object(h.Q)(t)]}(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,Object(l.a)(Object(l.a)({},e),{type:t})),this},e.prototype.animate=function(t){return Object(h.db)(this.options,"animate",t),this},e.prototype.updateOptions=function(t){return this.clear(),Object(h.W)(this.options,t),this.views.forEach((function(view){return view.destroy()})),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},e.prototype.option=function(t,n){if(e.prototype[t])throw new Error("Can't use built in variable name \""+t+'", please change another one.');return Object(h.db)(this.options,t,n),this},e.prototype.theme=function(t){return this.themeObject=Object(h.K)(t)?Object(h.h)({},this.themeObject,We(t)):Ze(t),this},e.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var r=Ie(t,this,e);return r&&(r.init(),this.interactions[t]=r),this},e.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},e.prototype.changeData=function(data){this.isDataChanged=!0,this.emit(f.BEFORE_CHANGE_DATA,un.fromData(this,f.BEFORE_CHANGE_DATA,null)),this.data(data),this.paint(!0);for(var t=this.views,i=0,e=t.length;i<e;i++){t[i].changeData(data)}this.emit(f.AFTER_CHANGE_DATA,un.fromData(this,f.AFTER_CHANGE_DATA,null))},e.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:Object(h.e)(this.options.scales),axes:Object(h.e)(this.options.axes),coordinate:Object(h.e)(this.coordinateController.getOption()),tooltip:Object(h.e)(this.options.tooltip),legends:Object(h.e)(this.options.legends),animate:this.options.animate,visible:this.visible},r=new e(Object(l.a)(Object(l.a)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:O}),middleGroup:this.middleGroup.addGroup({zIndex:x}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:m}),theme:this.themeObject,padding:this.padding},t),{options:Object(l.a)(Object(l.a)({},n),Object(h.q)(t,"options",{}))}));return this.views.push(r),r},e.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},e.prototype.removeView=function(view){var t=Object(h.bb)(this.views,(function(t){return t===view}))[0];return t&&t.destroy(),t},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var g=this.geometries[0];return g?g.getXScale():null},e.prototype.getYScales=function(){var t={},e=[];return this.geometries.forEach((function(g){var n=g.getYScale(),r=n.field;t[r]||(t[r]=!0,e.push(n))})),e},e.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},i=0,r=e.length;i<r;i++){var o=e[i],c="x"===t?o.getXScale():o.getYScale();c&&!n[c.field]&&(n[c.field]=c)}return n},e.prototype.getScale=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},e.prototype.getScaleByField=function(t,e){return this.getScale(t,e)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getOriginalData=function(){return this.options.data},e.prototype.getPadding=function(){return this.autoPadding.getPadding()},e.prototype.getGeometries=function(){return this.geometries},e.prototype.getElements=function(){return Object(h.ab)(this.geometries,(function(t,e){return t.concat(e.getElements())}),[])},e.prototype.getElementsBy=function(t){return this.getElements().filter((function(e){return t(e)}))},e.prototype.getLayer=function(t){return t===r.BG?this.backgroundGroup:t===r.MID?this.middleGroup:(r.FORE,this.foregroundGroup)},e.prototype.isPointInPlot=function(t){return jt(this.getCoordinate(),t)},e.prototype.getLegendAttributes=function(){return Object(h.p)(this.geometries.map((function(g){return g.getGroupAttributes()})))},e.prototype.getGroupScales=function(){var t=this.geometries.map((function(g){return g.getGroupScales()}));return mt(Object(h.p)(t))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},e.prototype.getXY=function(data){var t,e,n=this.getCoordinate(),r=this.getScalesByDim("x"),o=this.getScalesByDim("y");if(Object(h.j)(data,(function(n,c){r[c]&&(t=r[c].scale(n)),o[c]&&(e=o[c].scale(n))})),!Object(h.G)(t)&&!Object(h.G)(e))return n.convert({x:t,y:e})},e.prototype.getController=function(t){return Object(h.m)(this.controllers,(function(e){return e.name===t}))},e.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},e.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},e.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},e.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},e.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},e.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],i=0,r=e.length;i<r;i++){var o=e[i],c=o.dataArray;o.sort(c);for(var l=void 0,h=0,f=c.length;h<f;h++){(l=tn(t,c[h],o))&&n.push(l)}}var d=this.views;for(i=0,r=d.length;i<r;i++){var v=d[i].getSnapRecords(t);n=n.concat(v)}return n},e.prototype.getComponents=function(){for(var t=[],e=this.controllers,i=0,n=e.length;i<n;i++){var r=e[i];t=t.concat(r.getComponents())}return t},e.prototype.filterData=function(data){var t=this.options.filters;return 0===Object(h.eb)(t)?data:Object(h.l)(data,(function(e,n){return Object.keys(t).every((function(r){return(0,t[r])(e[r],e,n)}))}))},e.prototype.filterFieldData=function(t,data){var e=this.options.filters,n=Object(h.q)(e,t);return Object(h.N)(n)?data:data.filter((function(e,r){return n(e[t],e,r)}))},e.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,r=this.coordinateBBox.bl,o=this.coordinateBBox.tr;Object(h.E)(e,r)&&Object(h.E)(n,o)?this.isCoordinateChanged=!1:(this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(r,o))},e.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(f.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(f.AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=Object(h.q)(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var e=this.viewBBox,n=e.x,r=e.y,o=e.width,c=e.height;this.backgroundStyleRectShape.attr({fill:t,x:n,y:r,width:o,height:c})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},e.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=dn(this).shrink(an(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var e=this.views,i=0,n=e.length;i<n;i++){e[i].renderPaddingRecursive(t)}},e.prototype.renderLayoutRecursive=function(t){var e=!0===this.syncViewPadding?gn:Object(h.F)(this.syncViewPadding)?this.syncViewPadding:void 0;e&&(e(this,this.views,fn),this.views.forEach((function(t){t.coordinateBBox=t.viewBBox.shrink(t.autoPadding.getPadding()),t.adjustCoordinate()}))),this.doLayout();for(var n=this.views,i=0,r=n.length;i<r;i++){n[i].renderLayoutRecursive(t)}},e.prototype.renderPaintRecursive=function(t){var e=this.middleGroup;if(this.limitInPlot){var n=Ct(this.coordinateInstance),r=n.type,o=n.attrs;e.setClip({type:r,attrs:o})}else e.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var c=this.views,i=0,l=c.length;i<l;i++){c[i].renderPaintRecursive(t)}},e.prototype.createScale=function(t,data,e,n){var r=Object(h.q)(this.options.scales,[t]),o=Object(l.a)(Object(l.a)({},r),e);return this.parent?this.parent.createScale(t,data,o,n):this.scalePool.createScale(t,data,o,n)},e.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,i=0,n=e.length;i<n;i++){e[i].renderDataRecursive(t)}},e.prototype.calculateViewBBox=function(){var t,e,n,r;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,n=o.width,r=o.height}else t=0,e=0,n=this.canvas.get("width"),r=this.canvas.get("height");var c=this.region,l=c.start,h=c.end,f=new bt(t+n*l.x,e+r*l.y,n*(h.x-l.x),r*(h.y-l.y));this.viewBBox&&this.viewBBox.isEqual(f)||(this.viewBBox=new bt(t+n*l.x,e+r*l.y,n*(h.x-l.x),r*(h.y-l.y))),this.coordinateBBox=this.viewBBox},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var t=this.usedControllers,i=0,e=t.length;i<e;i++){var n=t[i],r=sn[n];r&&this.controllers.push(new r(this))}},e.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,data=e?e.get("origin"):null,r=new un(this,t,data);return r.type=n,r},e.prototype.doPlotEvent=function(t){var e=t.type,n={x:t.x,y:t.y};if(["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(e)){var r=this.isPointInPlot(n),o=t.clone();if(r){var c="plot:"+e;o.type=c,this.emit(c,o),"mouseleave"!==e&&"touchend"!==e||(this.isPreMouseInPlot=!1)}"mousemove"===e||"touchmove"===e?(this.isPreMouseInPlot&&!r?("mousemove"===e&&(o.type=v.MOUSE_LEAVE,this.emit(v.MOUSE_LEAVE,o)),o.type=v.LEAVE,this.emit(v.LEAVE,o)):!this.isPreMouseInPlot&&r&&("mousemove"===e&&(o.type=v.MOUSE_ENTER,this.emit(v.MOUSE_ENTER,o)),o.type=v.ENTER,this.emit(v.ENTER,o)),this.isPreMouseInPlot=r):"mouseleave"!==e&&"touchend"!==e||this.isPreMouseInPlot&&("mouseleave"===e&&(o.type=v.MOUSE_LEAVE,this.emit(v.MOUSE_LEAVE,o)),o.type=v.LEAVE,this.emit(v.LEAVE,o),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var data=this.options.data;this.filteredData=this.filterData(data)},e.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=Object(h.q)(this.options,"scales",{}),r=this.geometries,i=0,o=r.length;i<o;i++){var c=r[i];c.scales=this.getGeometryScales();var l={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?c.update(l):c.init(l)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),data=n.data,r=n.scales,o=void 0===r?{}:r,c=this.filteredData,i=0,l=t.length;i<l;i++){var h=t[i],f=o[h],d=this.getScaleKey(h);this.createScale(h,e.includes(h)?data:c,f,d),this.createdScaleKeys.set(d,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},e.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},i=0;i<t.length;i++){var n=t[i];e[n]=this.getScaleByField(n)}return e},e.prototype.getScaleFields=function(){for(var t=[],e=new Map,n=this.geometries,i=0;i<n.length;i++){mt(n[i].getScaleFields(),t,e)}return t},e.prototype.getGroupedFields=function(){for(var t=[],e=new Map,n=this.geometries,i=0;i<n.length;i++){mt(n[i].getGroupFields(),t,e)}return t},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var t=this,e=Object(l.d)([this.getXScale()],this.getYScales(),!0).filter((function(t){return!!t})),n=this.getCoordinate(),r=this.options.scales;Object(h.j)(e,(function(e){var o=e.field,c=e.values,l=e.isCategory,f=e.isIdentity;(l||f)&&c&&!Object(h.q)(r,[o,"range"])&&(e.range=Tt(e,n,t.theme))}))},e.prototype.initComponents=function(t){for(var e=this.controllers,i=0;i<e.length;i++){var n=e[i];t?n.update():(n.clear(),n.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},e.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),r={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,i=0;i<o.length;i++){var c=o[i];c.coordinate=n,c.canvasRegion=r,e||c.animate(!1),c.paint(t)}},e.prototype.renderComponents=function(t){for(var i=0;i<this.getComponents().length;i++){this.getComponents()[i].component.render()}},e.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){var t=this,e=this.options,n=e.geometries,r=void 0===n?[]:n,o=e.interactions,c=void 0===o?[]:o,f=e.views,d=void 0===f?[]:f,v=e.annotations,y=void 0===v?[]:v,m=e.coordinate,x=e.events,O=e.facets;this.coordinateController?m&&this.coordinateController.update(m):this.coordinateController=new ln(m);for(var i=0;i<r.length;i++){var j=r[i];this.createGeometry(j)}for(var w=0;w<c.length;w++){var C=c[w],M=C.type,S=C.cfg;this.interaction(M,S)}for(var A=0;A<d.length;A++){var T=d[A];this.createView(T)}for(var B=this.getController("annotation"),k=0;k<y.length;k++){var P=y[k];B.annotation(P)}x&&Object(h.j)(x,(function(e,n){t.on(n,e)})),O&&Object(h.j)(O,(function(e){var n=e.type,r=Object(l.c)(e,["type"]);t.facet(n,r)}))},e.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,r=void 0===n?{}:n;if(this[e]){var o=this[e](r);Object(h.j)(t,(function(t,e){Object(h.F)(o[e])&&o[e](t)}))}},e.prototype.getScaleKey=function(t){return this.id+"-"+t},e}(base);function yn(t,e){vn.prototype[t.toLowerCase()]=function(t){void 0===t&&(t={});var n=Object(l.a)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),r=new e(n);return this.geometries.push(r),r}}var mn=function(t){function e(e){var n=this,r=e.container,o=e.width,c=e.height,f=e.autoFit,d=void 0!==f&&f,v=e.padding,y=e.appendPadding,j=e.renderer,w=void 0===j?"canvas":j,M=e.pixelRatio,A=e.localRefresh,B=void 0===A||A,k=e.visible,P=void 0===k||k,E=e.supportCSSTransform,L=void 0!==E&&E,I=e.defaultInteractions,F=void 0===I?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:I,D=e.options,R=e.limitInPlot,_=e.theme,Y=e.syncViewPadding,G=Object(h.M)(r)?document.getElementById(r):r,z=Object(S.b)('<div style="position:relative;"></div>');G.appendChild(z);var X=T(G,d,o,c),canvas=new(function(t){var e=C[t];if(!e)throw new Error("G engine '"+t+"' is not exist, please register it at first.");return e}(w).Canvas)(Object(l.a)({container:z,pixelRatio:M,localRefresh:B,supportCSSTransform:L},X));return(n=t.call(this,{parent:null,canvas:canvas,backgroundGroup:canvas.addGroup({zIndex:O}),middleGroup:canvas.addGroup({zIndex:x}),foregroundGroup:canvas.addGroup({zIndex:m}),padding:v,appendPadding:y,visible:P,options:D,limitInPlot:R,theme:_,syncViewPadding:Y})||this).onResize=Object(h.g)((function(){n.forceFit()}),300),n.ele=G,n.canvas=canvas,n.width=X.width,n.height=X.height,n.autoFit=d,n.localRefresh=B,n.renderer=w,n.wrapperElement=z,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(F),n}return Object(l.b)(e,t),e.prototype.initDefaultInteractions=function(t){var e=this;Object(h.j)(t,(function(t){e.interaction(t)}))},e.prototype.changeSize=function(t,e){return this.width===t&&this.height===e||(this.emit(f.BEFORE_CHANGE_SIZE),this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this.emit(f.AFTER_CHANGE_SIZE)),this},e.prototype.destroy=function(){var e,n;t.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),e=this.wrapperElement,(n=e.parentNode)&&n.removeChild(e),this.wrapperElement=null},e.prototype.changeVisible=function(e){return t.prototype.changeVisible.call(this,e),this.wrapperElement.style.display=e?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var t=T(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},e.prototype.updateCanvasStyle=function(){Object(S.e)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},e}(vn),bn=mn,xn=function(){function t(view){this.visible=!0,this.components=[],this.view=view}return t.prototype.clear=function(t){Object(h.j)(this.components,(function(t){t.component.destroy()})),this.components=[]},t.prototype.destroy=function(){this.clear()},t.prototype.getComponents=function(){return this.components},t.prototype.changeVisible=function(t){this.visible!==t&&(this.components.forEach((function(e){t?e.component.show():e.component.hide()})),this.visible=t)},t}();var On=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLocked=!1,e}return Object(l.b)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},e.prototype.render=function(){},e.prototype.showTooltip=function(t){if(this.point=t,this.isVisible()){var view=this.view,e=this.getTooltipItems(t);if(e.length){var title=this.getTitle(e),n={x:e[0].x,y:e[0].y};view.emit("tooltip:show",un.fromData(view,"tooltip:show",Object(l.a)({items:e,title:title},t)));var r=this.getTooltipCfg(),o=r.follow,c=r.showMarkers,f=r.showCrosshairs,d=r.showContent,marker=r.marker,v=this.items,y=this.title;if(Object(h.E)(y,title)&&Object(h.E)(v,e)?(this.tooltip&&o&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(view.emit("tooltip:change",un.fromData(view,"tooltip:change",Object(l.a)({items:e,title:title},t))),(Object(h.F)(d)?d(e):d)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Object(h.W)({},r,{items:this.getItemsAfterProcess(e),title:title},o?t:{})),this.tooltip.show()),c&&this.renderTooltipMarkers(e,marker)),this.items=e,this.title=title,f){var m=Object(h.q)(r,["crosshairs","follow"],!1);this.renderCrosshairs(m?t:n,r)}}else this.hideTooltip()}},e.prototype.hideTooltip=function(){if(this.getTooltipCfg().follow){var t=this.tooltipMarkersGroup;t&&t.hide();var e=this.xCrosshair,n=this.yCrosshair;e&&e.hide(),n&&n.hide();var r=this.tooltip;r&&r.hide(),this.view.emit("tooltip:hide",un.fromData(this.view,"tooltip:hide",{})),this.point=null}else this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,r=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),r&&r.clear(),o&&o.clear(),this.title=null,this.items=null},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},e.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,r=e.tooltipMarkersGroup,o=e.xCrosshair,c=e.yCrosshair;t?(n&&n.show(),r&&r.show(),o&&o.show(),c&&c.show()):(n&&n.hide(),r&&r.hide(),o&&o.hide(),c&&c.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){for(var n=0,r=e=Object(h.p)(e);n<r.length;n++)for(var o=0,c=r[n];o<c.length;o++){var l=c[o],f=l.mappingData,d=f.x,v=f.y;l.x=Object(h.z)(d)?d[d.length-1]:d,l.y=Object(h.z)(v)?v[v.length-1]:v}if(!1===this.getTooltipCfg().shared&&e.length>1){for(var y=e[0],m=Math.abs(t.y-y[0].y),x=0,O=e;x<O.length;x++){var j=O[x],w=Math.abs(t.y-j[0].y);w<=m&&(y=j,m=w)}e=[y]}return function(t){for(var e=[],n=function(n){var r=t[n];Object(h.m)(e,(function(t){return t.color===r.color&&t.name===r.name&&t.value===r.value&&t.title===r.title}))||e.push(r)},r=0;r<t.length;r++)n(r);return e}(Object(h.p)(e))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var canvas=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:canvas.get("width"),y:canvas.get("height")}})}},e.prototype.isCursorEntered=function(t){if(this.tooltip){var e=this.tooltip.getContainer(),n=this.tooltip.get("capture");if(e&&n){var r=e.getBoundingClientRect(),o=r.x,c=r.y,l=r.width,h=r.height;return new bt(o,c,l,h).isPointIn(t)}}return!1},e.prototype.getTooltipCfg=function(){var view=this.view,option=view.getOptions().tooltip,t=this.processCustomContent(option),e=view.getTheme(),n=Object(h.q)(e,["components","tooltip"],{}),r=Object(h.q)(t,"enterable",n.enterable);return Object(h.h)({},n,t,{capture:!(!r&&!this.isLocked)})},e.prototype.processCustomContent=function(option){if(Object(h.A)(option)||!Object(h.q)(option,"customContent"))return option;var t=option.customContent;return Object(l.a)(Object(l.a)({},option),{customContent:function(title,e){var content=t(title,e)||"";return Object(h.M)(content)?'<div class="g2-tooltip">'+content+"</div>":content}})},e.prototype.getTitle=function(t){var title=t[0].title||t[0].name;return this.title=title,title},e.prototype.renderTooltip=function(){var canvas=this.view.getCanvas(),t={start:{x:0,y:0},end:{x:canvas.get("width"),y:canvas.get("height")}},e=this.getTooltipCfg(),n=new lt(Object(l.a)(Object(l.a)({parent:canvas.get("el").parentNode,region:t},e),{visible:!1,crosshairs:null}));n.init(),this.tooltip=n},e.prototype.renderTooltipMarkers=function(t,marker){for(var e=this.getTooltipMarkersGroup(),n=0,r=t;n<r.length;n++){var o=r[n],c=o.x,h=o.y,f=Object(l.a)(Object(l.a)({fill:o.color,symbol:"circle",shadowColor:o.color},marker),{x:c,y:h});e.addShape("marker",{attrs:f})}},e.prototype.renderCrosshairs=function(t,e){var n=Object(h.q)(e,["crosshairs","type"],"x");"x"===n?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===n?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===n&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},e.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(jt(n,t)){var r,o;if(n.isRect)n.isTransposed?(r={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(r={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var c=wt(n,t),l=n.getCenter(),f=n.getRadius();o=ut(l.x,l.y,f,c),r=l}var d=Object(h.h)({start:r,end:o,container:this.getTooltipCrosshairsGroup()},Object(h.q)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete d.type;var v=this.xCrosshair;v?v.update(d):(v=new et.Crosshair.Line(d)).init(),v.render(),v.show(),this.xCrosshair=v}},e.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(jt(n,t)){var r,o;if(n.isRect){var c=void 0,l=void 0;n.isTransposed?(c={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(c={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),r={start:c,end:l},o="Line"}else r={center:n.getCenter(),radius:Ot(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";delete(r=Object(h.h)({container:this.getTooltipCrosshairsGroup()},r,Object(h.q)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type;var f=this.yCrosshair;f?n.isRect&&"circle"===f.get("type")||!n.isRect&&"line"===f.get("type")?(f=new et.Crosshair[o](r)).init():f.update(r):(f=new et.Crosshair[o](r)).init(),f.render(),f.show(),this.yCrosshair=f}},e.prototype.getCrosshairsText=function(t,e,n){var r=Object(h.q)(n,["crosshairs","text"]),o=Object(h.q)(n,["crosshairs","follow"]),c=this.items;if(r){var view=this.getViewWithGeometry(this.view),l=c[0],f=view.getXScale(),d=view.getYScales()[0],v=void 0,y=void 0;if(o){var m=this.view.getCoordinate().invert(e);v=f.invert(m.x),y=d.invert(m.y)}else v=l.data[f.field],y=l.data[d.field];var content="x"===t?v:y;return Object(h.F)(r)?r=r(t,content,c,e):r.content=content,{text:r}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.findItemsFromView=function(view,t){if(!1===view.getOptions().tooltip)return[];for(var e=on(view,t,this.getTooltipCfg()),n=0,r=view.views;n<r.length;n++){var o=r[n];e=e.concat(this.findItemsFromView(o,t))}return e},e.prototype.getViewWithGeometry=function(view){var t=this;return view.geometries.length?view:Object(h.m)(view.views,(function(e){return t.getViewWithGeometry(e)}))},e.prototype.getItemsAfterProcess=function(t){var e=this.getTooltipCfg().customItems;return(e||function(t){return t})(t)},e}(xn),jn=On,wn={};function Cn(t){return wn[t.toLowerCase()]}function Mn(t,e){wn[t.toLowerCase()]=e}var Sn={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},An={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},Tn={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Bn(t,e,n){var r=An[t];return r&&(Object(h.F)(r)&&(r=r(e)),r=Object(h.h)({},Sn,r),n)?r[n]:r}function kn(t,e,n){var data=Object(h.q)(t.get("origin"),"data",w),r=e.animation,o=function(t,data){return{delay:Object(h.F)(t.delay)?t.delay(data):t.delay,easing:Object(h.F)(t.easing)?t.easing(data):t.easing,duration:Object(h.F)(t.duration)?t.duration(data):t.duration,callback:t.callback,repeat:t.repeat}}(e,data);if(r){var c=Cn(r);c&&c(t,o,n)}else t.animate(n.toAttrs,o)}var Pn="element-background",En=function(t){function e(e){var n=t.call(this,e)||this;n.states=[];var r=e.shapeFactory,o=e.container,c=e.offscreenGroup,l=e.visible,h=void 0===l||l;return n.shapeFactory=r,n.container=o,n.offscreenGroup=c,n.visible=h,n}return Object(l.b)(e,t),e.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},e.prototype.update=function(t){var e=this.shapeFactory,n=this.shape;if(n){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(n,t);var r=this.getOffscreenGroup(),o=e.drawShape(this.shapeType,t,r);o.cfg.data=this.data,o.cfg.origin=t,o.cfg.element=this,this.syncShapeStyle(n,o,this.getStates(),this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var e=this.shapeFactory,n=this.shape;if(n){var r=this.getAnimateCfg("leave");r?kn(n,r,{coordinate:e.coordinate,toAttrs:Object(l.a)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e),e?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach((function(label){label.show()}))):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach((function(label){label.hide()})))},e.prototype.setState=function(t,e){var n=this,r=n.states,o=n.shapeFactory,c=n.model,l=n.shape,h=n.shapeType,f=r.indexOf(t);if(e){if(f>-1)return;r.push(t),"active"!==t&&"selected"!==t||null==l||l.toFront()}else{if(-1===f)return;r.splice(f,1),"active"!==t&&"selected"!==t||null==l||l.toBack()}var d=o.drawShape(h,c,this.getOffscreenGroup());r.length?this.syncShapeStyle(l,d,r,null):this.syncShapeStyle(l,d,["reset"],null),d.remove(!0);var v={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",v),Object(et.propagationDelegate)(this.shape,"statechange",v)},e.prototype.clearStates=function(){var t=this,e=this.states;Object(h.j)(e,(function(e){t.setState(e,!1)})),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,n={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(n=t.getCanvasBBox()),e&&e.forEach((function(label){var t=label.getCanvasBBox();n.x=Math.min(t.x,n.x),n.y=Math.min(t.y,n.y),n.minX=Math.min(t.minX,n.minX),n.minY=Math.min(t.minY,n.minY),n.maxX=Math.max(t.maxX,n.maxX),n.maxY=Math.max(t.maxY,n.maxY)})),n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,r=t.shapeFactory,o=n.stateOption,c=r.defaultShapeType,l=r.theme[e]||r.theme[c];this.statesStyle=Object(h.h)({},l,o)}return this.statesStyle},e.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),r=Object(h.q)(n,[t,"style"],{}),o=r[e]||r;return Object(h.F)(o)?o(this):o},e.prototype.getAnimateCfg=function(t){var e=this,animate=this.animate;if(animate){var n=animate[t];return n?Object(l.a)(Object(l.a)({},n),{callback:function(){var t;Object(h.F)(n.callback)&&n.callback(),null===(t=e.geometry)||void 0===t||t.emit(d.AFTER_DRAW_ANIMATE)}}):n}return null},e.prototype.drawShape=function(t,e){var n;void 0===e&&(e=!1);var r=this,o=r.shapeFactory,c=r.container,f=r.shapeType;if(this.shape=o.drawShape(f,t,c),this.shape){this.setShapeInfo(this.shape,t);var v=this.shape.cfg.name;v?Object(h.M)(v)&&(this.shape.cfg.name=["element",v]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var y=e?"enter":"appear",m=this.getAnimateCfg(y);m&&(null===(n=this.geometry)||void 0===n||n.emit(d.BEFORE_DRAW_ANIMATE),kn(this.shape,m,{coordinate:o.coordinate,toAttrs:Object(l.a)({},this.shape.attr())}))}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,data){var e=this;(t.cfg.origin=data,t.cfg.element=this,t.isGroup())&&t.get("children").forEach((function(t){e.setShapeInfo(t,data)}))},e.prototype.syncShapeStyle=function(t,e,n,r,o){var c,l=this;if(void 0===n&&(n=[]),void 0===o&&(o=0),t&&e){var f=t.get("clipShape"),v=e.get("clipShape");if(this.syncShapeStyle(f,v,n,r),t.isGroup())for(var y=t.get("children"),m=e.get("children"),i=0;i<y.length;i++)this.syncShapeStyle(y[i],m[i],n,r,o+i);else{if(!Object(h.D)(n)&&!Object(h.E)(n,["reset"])){var x=t.get("name");Object(h.z)(x)&&(x=x[1]),Object(h.j)(n,(function(t){if(e.get("name")!==Pn){var style=l.getStateStyle(t,x||o);e.attr(style)}}))}var O=gt(t,e);this.animate?r?(null===(c=this.geometry)||void 0===c||c.emit(d.BEFORE_DRAW_ANIMATE),kn(t,r,{coordinate:this.shapeFactory.coordinate,toAttrs:O,shapeModel:this.model})):Object(h.D)(n)?(t.stopAnimate(),t.animate(O,{duration:300})):t.attr(O):t.attr(O)}}},e.prototype.getShapeType=function(t){var e=Object(h.q)(t,"shape");return Object(h.z)(e)?e[0]:e},e}(base),Ln={},In={};function Fn(t,e){Ln[t.toLowerCase()]=e}function Dn(t,e){In[t.toLowerCase()]=e}var Rn={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(t,e){var n=this.getShape(t);return n.getPoints?n.getPoints(e):this.getDefaultPoints(e)},getShape:function(t){var e=this[t]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getDefaultStyle:function(t){return Object(h.q)(t,[this.defaultShapeType,"default","style"],{})},getMarker:function(t,e){var n=this.getShape(t);if(!n.getMarker){var r=this.defaultShapeType;n=this.getShape(r)}var o=this.theme,c=Object(h.q)(o,[t,"default"],{}),l=n.getMarker(e);return Object(h.h)({},c,l)},drawShape:function(t,e,n){return this.getShape(t).draw(e,n)}},_n={coordinate:null,parsePath:function(path){var t=this.coordinate,e=Object($t.c)(path);return e=t.isPolar?Jt(t,e):function(t,path){var e=[];return Object(h.j)(path,(function(n){switch(n[0].toLowerCase()){case"m":case"l":case"c":e.push(Wt(n,t));break;case"a":e.push(Ut(n,t));break;default:e.push(n)}})),e}(t,e),e},parsePoint:function(t){return this.coordinate.convert(t)},parsePoints:function(t){var e=this.coordinate;return t.map((function(t){return e.convert(t)}))},draw:function(t,e){}},Yn={};function Gn(t,e){var n=Object(h.nb)(t),r=Object(l.a)(Object(l.a)(Object(l.a)({},Rn),e),{geometryType:t});return Yn[n]=r,r}function zn(t,e,n){var r=Object(h.nb)(t),o=Yn[r],c=Object(l.a)(Object(l.a)({},_n),n);return o[e]=c,c}function Xn(t){var e=Object(h.nb)(t);return Yn[e]}function Nn(t,e){return Object(h.fb)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],(function(n){return!Object(h.E)(t[n],e[n])}))}function Hn(t){return Object(h.z)(t)?t:t.split("*")}function Vn(t,e){for(var n=[],r=[],o=[],c=new Map,i=0;i<e.length;i++){var l=e[i];t[l]?r.push(l):n.push(l),c.set(l,!0)}return Object.keys(t).forEach((function(t){c.has(t)||o.push(t)})),{added:n,updated:r,removed:o}}var qn=function(t){function e(e){var n=t.call(this,e)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var r=e.container,o=e.labelsContainer,c=e.coordinate,data=e.data,l=e.sortable,h=void 0!==l&&l,f=e.visible,d=void 0===f||f,v=e.theme,y=e.scales,m=void 0===y?{}:y,x=e.scaleDefs,O=void 0===x?{}:x,j=e.intervalPadding,w=e.dodgePadding,C=e.maxColumnWidth,M=e.minColumnWidth,S=e.columnWidthRatio,A=e.roseWidthRatio,T=e.multiplePieWidthRatio,B=e.zIndexReversed;return n.container=r,n.labelsContainer=o,n.coordinate=c,n.data=data,n.sortable=h,n.visible=d,n.userTheme=v,n.scales=m,n.scaleDefs=O,n.intervalPadding=j,n.dodgePadding=w,n.maxColumnWidth=C,n.minColumnWidth=M,n.columnWidthRatio=S,n.roseWidthRatio=A,n.multiplePieWidthRatio=T,n.zIndexReversed=B,n}return Object(l.b)(e,t),e.prototype.position=function(t){var e=t;Object(h.L)(t)||(e={fields:Hn(t)});var n=Object(h.q)(e,"fields");return 1===n.length&&(n.unshift("1"),Object(h.db)(e,"fields",n)),Object(h.db)(this.attributeOption,"position",e),this},e.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},e.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},e.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},e.prototype.adjust=function(t){var e=t;return(Object(h.M)(t)||Object(h.L)(t))&&(e=[t]),Object(h.j)(e,(function(t,n){Object(h.K)(t)||(e[n]={type:t})})),this.adjustOption=e,this},e.prototype.style=function(t,e){if(Object(h.M)(t)){var n=Hn(t);this.styleOption={fields:n,callback:e}}else{var r=t,o=(n=r.fields,r.callback),c=r.cfg;this.styleOption=n||o||c?t:{cfg:t}}return this},e.prototype.tooltip=function(t,e){if(Object(h.M)(t)){var n=Hn(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},e.prototype.animate=function(t){return this.animateOption=t,this},e.prototype.label=function(t,e,n){if(Object(h.M)(t)){var r={},o=Hn(t);r.fields=o,Object(h.F)(e)?r.callback=e:Object(h.L)(e)&&(r.cfg=e),n&&(r.cfg=n),this.labelOption=r}else this.labelOption=t;return this},e.prototype.state=function(t){return this.stateOption=t,this},e.prototype.customInfo=function(t){return this.customOption=t,this},e.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(t){void 0===t&&(t={});var data=t.data,e=t.isDataChanged,n=t.isCoordinateChanged,r=this.attributeOption,o=this.lastAttributeOption;Object(h.E)(r,o)?!data||!e&&Object(h.E)(data,this.data)?this.setCfg(t):(this.setCfg(t),this.initAttributes(),this.processData(data)):this.init(t),this.adjustScale(),this.isCoordinateChanged=n},e.prototype.paint=function(t){void 0===t&&(t=!1),this.animateOption&&(this.animateOption=Object(h.h)({},Bn(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[],this.getOffscreenGroup().clear();var e=this.beforeMappingData,n=this.beforeMapping(e);this.dataArray=new Array(n.length);for(var i=0;i<n.length;i++){var data=n[i];this.dataArray[i]=this.mapping(data)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var r=this.container,o=this.type,c=this.coordinate,f=Object(h.q)(this.animateOption,"appear"),d=this.getYScale(),v=c.convert({x:0,y:d.scale(this.getYMinValue())});!function(t,e,n,r,o){if(Tn[n]){var c=Tn[n](r),f=Cn(Object(h.q)(c,"animation",""));if(f){var d=Object(l.a)(Object(l.a)(Object(l.a)({},Sn.appear),c),e);t.stopAnimate(),f(t,d,{coordinate:r,minYPoint:o,toAttrs:null})}}}(r,f,o,c,v)}this.labelOption&&this.renderLabels(Object(h.p)(this.dataArray),t),this.lastAttributeOption=Object(l.a)({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,r=t.offscreenGroup;e&&e.clear(),n&&n.clear(),r&&r.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},e.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,t.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var t=[];return Object(h.j)(this.attributes,(function(e){j.includes(e.type)&&t.push(e)})),t},e.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&Object(h.D)(n.scales)&&(e=n.values[0]),e},e.prototype.getAttributeValues=function(t,e){for(var n=[],r=t.scales,o=0,c=r.length;o<c;o++){var l=r[o],h=l.field;l.isIdentity?n.push(l.values):n.push(e[h])}return t.mapping.apply(t,n)},e.prototype.getAdjust=function(t){return this.adjusts[t]},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.getData=function(){return this.data},e.prototype.getShapeMarker=function(t,e){return this.getShapeFactory().getMarker(t,e)},e.prototype.getElementsBy=function(t){return this.elements.filter((function(element){return t(element)}))},e.prototype.getElements=function(){return this.elements},e.prototype.getElementId=function(data){var t=(data=Object(h.z)(data)?data[0]:data)._origin;if(this.idFields.length){for(var e=t[this.idFields[0]],n=1;n<this.idFields.length;n++)e+="-"+t[this.idFields[n]];return e}var r,o,c=this.type,l=this.getXScale(),f=this.getYScale(),d=l.field||"x",v=t[f.field||"y"];r="identity"===l.type?l.values[0]:t[d],o="interval"===c||"schema"===c?""+r:"line"===c||"area"===c||"path"===c?c:r+"-"+v;var y=this.groupScales;Object(h.D)(y)&&(y=Object(h.q)(this.getAttribute("color"),"scales",[]));n=0;for(var m=y.length;n<m;n++){o=o+"-"+t[y[n].field]}var x=this.getAdjust("dodge");if(x){var O=x.dodgeBy;O&&(o=o+"-"+t[O])}return this.getAdjust("jitter")&&(o=o+"-"+data.x+"-"+data.y),o},e.prototype.getScaleFields=function(){var t=[],e=new Map,n=this,r=n.attributeOption,o=n.labelOption,c=n.tooltipOption;for(var l in r)if(r.hasOwnProperty(l)){var f=r[l];f.fields?mt(f.fields,t,e):f.values&&mt(f.values,t,e)}return o&&o.fields&&mt(o.fields,t,e),Object(h.K)(c)&&c.fields&&mt(c.fields,t,e),t},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.elements,r=0,o=n.length;r<o;r++){n[r].changeVisible(e)}e?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getFields=function(){var t=new Map,e=[];return Object.values(this.attributeOption).forEach((function(n){((null==n?void 0:n.fields)||[]).forEach((function(n){t.has(n)||e.push(n),t.set(n,!0)}))}),[]),e},e.prototype.getGroupFields=function(){for(var t=[],e=new Map,n=0,r=j.length;n<r;n++){var o=j[n],c=this.attributeOption[o];c&&c.fields&&mt(c.fields,t,e)}return t},e.prototype.getXYFields=function(){var t=this.attributeOption.position.fields;return[t[0],t[1]]},e.prototype.getXField=function(){return Object(h.q)(this.getXYFields(),[0])},e.prototype.getYField=function(){return Object(h.q)(this.getXYFields(),[1])},e.prototype.getShapes=function(){return this.elements.map((function(element){return element.shape}))},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,r=0;r<t.length;r++){t[r].sort((function(t,r){return e.translate(t._origin[n])-e.translate(r._origin[n])}))}this.hasSorted=!0},e.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var t=this.shapeType;if(Xn(t))return this.shapeFactory||(this.shapeFactory=Object(h.e)(Xn(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale();return{x:this.normalizeValues(t[e.field],e),y:n?this.normalizeValues(t[n.field],n):t.y?t.y:.1,y0:n?n.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(t,e){void 0===e&&(e=!1);var n=this.container,r=this.getDrawCfg(t),o=this.getShapeFactory(),element=new En({shapeFactory:o,container:n,offscreenGroup:this.getOffscreenGroup()});return element.animate=this.animateOption,element.geometry=this,element.draw(r,e),element},e.prototype.getDrawCfg=function(t){var e=t._origin,n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},r=t.shape;!r&&this.getShapeFactory()&&(r=this.getShapeFactory().defaultShapeType),n.shape=r;var o=this.theme.geometries[this.shapeType];n.defaultStyle=Object(h.q)(o,[r,"default"],{}).style,!n.defaultStyle&&this.getShapeFactory()&&(n.defaultStyle=this.getShapeFactory().getDefaultStyle(o));var c=this.styleOption;return c&&(n.style=this.getStyleCfg(c,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},e.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var n=new Map,r=[],o=new Map,c=0,i=0;i<t.length;i++)for(var l=t[i],h=0;h<l.length;h++){var f=l[h],d=this.getElementId(f),v=n.has(d)?d+"-"+i+"-"+h:d;r.push(v),n.set(v,f),o.set(v,c),c++}this.elements=new Array(c);for(var y=Vn(this.lastElementsMap,r),m=y.added,x=y.updated,O=y.removed,j=0,w=m;j<w.length;j++){d=w[j],f=n.get(d);var element=this.createElement(f,e);i=o.get(d);this.elements[i]=element,this.elementsMap[d]=element}for(var C=0,M=x;C<M.length;C++){d=M[C],element=this.lastElementsMap[d],f=n.get(d);var S=this.getDrawCfg(f),A=element.getModel();i=o.get(d);(this.isCoordinateChanged||Nn(S,A))&&(element.animate=this.animateOption,element.update(S)),this.elements[i]=element,this.elementsMap[d]=element}for(var T=0,B=O;T<B.length;T++){d=B[T];(element=this.lastElementsMap[d]).animate=this.animateOption,element.destroy()}if(this.zIndexReversed){var k=this.elements.length;for(i=0;i<k;i++)this.elements[i].shape.setZIndex(k-i)}},e.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,r=t.type,o=n.type,c=n.isTransposed,l=Object(h.q)(e,["cfg","type"]);return l||(l="polar"===o?c?"pie":"polar":"theta"===o?"pie":"interval"===r||"polygon"===r?"interval":"base"),l},e.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max;return e>=0?e:n<=0?n:0},e.prototype.createAttrOption=function(t,e,n){if(Object(h.G)(e)||Object(h.K)(e))Object(h.K)(e)&&Object(h.E)(Object.keys(e),["values"])?Object(h.db)(this.attributeOption,t,{fields:e.values}):Object(h.db)(this.attributeOption,t,e);else{var r={};Object(h.I)(e)?r.values=[e]:r.fields=Hn(e),n&&(Object(h.F)(n)?r.callback=n:r.values=n),Object(h.db)(this.attributeOption,t,r)}},e.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,r=e.attributeOption,o=e.theme,c=e.shapeType;this.groupScales=[];var h={},f=function(e){if(r.hasOwnProperty(e)){var option=r[e];if(!option)return{value:void 0};var f=Object(l.a)({},option),d=f.callback,v=f.values,y=f.fields,m=(void 0===y?[]:y).map((function(n){var r=t.scales[n];return r.isCategory&&!h[n]&&j.includes(e)&&(t.groupScales.push(r),h[n]=!0),r}));f.scales=m,"position"!==e&&1===m.length&&"identity"===m[0].type?f.values=m[0].values:d||v||("size"===e?f.values=o.sizes:"shape"===e?f.values=o.shapes[c]||[]:"color"===e&&(m.length?f.values=m[0].values.length<=10?o.colors10:o.colors20:f.values=o.colors10));var x=H(e);n[e]=new x(f)}};for(var d in r){var v=f(d);if("object"==typeof v)return v.value}},e.prototype.processData=function(data){this.hasSorted=!1;for(var t=this.getAttribute("position").scales.filter((function(t){return t.isCategory})),e=this.groupData(data),n=[],i=0,r=e.length;i<r;i++){for(var o=e[i],c=[],l=0,h=o.length;l<h;l++){var f=o[l],d={};for(var v in f)d[v]=f[v];d._origin=f;for(var y=0,m=t;y<m.length;y++){var x=m[y],O=x.field;d[O]=x.translate(d[O])}c.push(d)}n.push(c)}var j=this.adjustData(n);return this.beforeMappingData=j,j},e.prototype.adjustData=function(t){var e=this.adjustOption,n=this,r=n.intervalPadding,o=n.dodgePadding,c=n.theme,f=this.maxColumnWidth||c.maxColumnWidth,d=this.minColumnWidth||c.minColumnWidth,v=this.columnWidthRatio||c.columnWidthRatio,y=t;if(e){var m=this.getXScale(),x=this.getYScale(),O=m.field,j=x?x.field:null,w=xt(this.coordinate),C=m.values.length,M=this.getAttribute("size"),S=void 0;M&&(S=M.values[0]);for(var i=0,A=e.length;i<A;i++){var T=e[i],B=Object(l.a)({xField:O,yField:j,intervalPadding:r,dodgePadding:o,xDimensionLength:w,groupNum:C,defaultSize:S,maxColumnWidth:f,minColumnWidth:d,columnWidthRatio:v},T),P=T.type;if("dodge"===P){var E=[];if(m.isCategory||"identity"===m.type)E.push("x");else{if(x)throw new Error("dodge is not support linear attribute, please use category attribute!");E.push("y")}B.adjustNames=E,B.dodgeRatio=v}else if("stack"===P){var L=this.coordinate;if(!x){B.height=L.getHeight();var I=this.getDefaultValue("size")||3;B.size=I}!L.isTransposed&&Object(h.G)(B.reverseOrder)&&(B.reverseOrder=!0)}var F=new(Object(k.getAdjust)(P))(B);y=F.process(y),this.adjusts[P]=F}}return y},e.prototype.groupData=function(data){for(var t=this.getGroupScales(),e=this.scaleDefs,n={},r=[],o=0;o<t.length;o++){var c=t[o].field;r.push(c),Object(h.q)(e,[c,"values"])&&(n[c]=e[c].values)}return function(data,t,e){if(void 0===e&&(e={}),!t)return[data];var n=Object(h.u)(data,t),r=[];if(1===t.length&&e[t[0]])for(var o=0,c=e[t[0]];o<c.length;o++){var l=n["_"+c[o]];l&&r.push(l)}else for(var f in n)if(n.hasOwnProperty(f)){var d=n[f];r.push(d)}return r}(data,r,n)},e.prototype.updateStackRange=function(t,e){for(var n=Object(h.p)(e),r=t.field,o=t.min,c=t.max,l=0;l<n.length;l++){var f=n[l],d=Math.min.apply(null,f[r]),v=Math.max.apply(null,f[r]);d<o&&(o=d),v>c&&(c=v)}var y=this.scaleDefs,m={};o<t.min&&!Object(h.q)(y,[r,"min"])&&(m.min=o),c>t.max&&!Object(h.q)(y,[r,"max"])&&(m.max=c),t.change(m)},e.prototype.beforeMapping=function(t){var source=t;if(this.sortable&&this.sort(source),this.generatePoints)for(var e=0,n=source.length;e<n;e++){var r=source[e];this.generateShapePoints(r);var o=source[e+1];o&&(this.generateShapePoints(o),r[0].nextPoints=o[0].points)}return source},e.prototype.generateShapePoints=function(data){for(var t=this.getShapeFactory(),e=this.getAttribute("shape"),n=0;n<data.length;n++){var r=data[n],o=this.createShapePointsCfg(r),c=e?this.getAttributeValues(e,r):null,l=t.getShapePoints(c,o);r.points=l}},e.prototype.normalizeValues=function(t,e){var n=[];if(Object(h.z)(t))for(var r=0;r<t.length;r++){var o=t[r];n.push(e.scale(o))}else n=e.scale(t);return n},e.prototype.mapping=function(data){for(var t=this.attributes,e=[],n=0;n<data.length;n++){var r=data[n],o={_origin:r._origin,points:r.points,nextPoints:r.nextPoints};for(var c in t)if(t.hasOwnProperty(c)){var l=t[c],f=l.names,d=this.getAttributeValues(l,r);if(f.length>1)for(var v=0;v<d.length;v+=1){var y=d[v];o[f[v]]=Object(h.z)(y)&&1===y.length?y[0]:y}else o[f[0]]=1===d.length?d[0]:d}this.convertPoint(o),e.push(o)}return e},e.prototype.convertPoint=function(t){var e,n,r,o=t.x,c=t.y,l=this.coordinate;if(Object(h.z)(o)&&Object(h.z)(c)){e=[],n=[];for(var i=0,f=0,d=o.length,v=c.length;i<d&&f<v;i+=1,f+=1)r=l.convert({x:o[i],y:c[f]}),e.push(r.x),n.push(r.y)}else if(Object(h.z)(c)){n=[];for(var y=0;y<c.length;y++){var m=c[y];r=l.convert({x:o,y:m}),e&&e!==r.x?(Object(h.z)(e)||(e=[e]),e.push(r.x)):e=r.x,n.push(r.y)}}else if(Object(h.z)(o)){e=[];for(y=0;y<o.length;y++){var x=o[y];r=l.convert({x:x,y:c}),n&&n!==r.y?(Object(h.z)(n)||(n=[n]),n.push(r.y)):n=r.y,e.push(r.x)}}else{var O=l.convert({x:o,y:c});e=O.x,n=O.y}t.x=e,t.y=n},e.prototype.getStyleCfg=function(t,e){var n=t.fields,r=void 0===n?[]:n,o=t.callback,c=t.cfg;if(c)return c;var l=r.map((function(t){return e[t]}));return o.apply(void 0,l)},e.prototype.setCfg=function(t){var e=this,n=t.coordinate,data=t.data,r=t.theme,o=t.scaleDefs;n&&(this.coordinate=n),data&&(this.data=data),o&&(this.scaleDefs=o,this.idFields=[],Object(h.j)(o,(function(t,n){t&&t.key&&e.idFields.push(n)}))),r&&(this.theme=this.userTheme?Object(h.h)({},r,this.userTheme):r)},e.prototype.renderLabels=function(t,e){void 0===e&&(e=!1);var n=this.geometryLabel;if(!n){var r=this.getLabelType();n=new(0,Ln[r.toLowerCase()])(this),this.geometryLabel=n}n.render(t,e);var o=n.labelsRenderer.shapesMap;Object(h.j)(this.elementsMap,(function(element,t){var e=function(t,e){var n=[];return Object(h.j)(e,(function(label,e){e.split(" ")[0]===t&&n.push(label)})),n}(t,o);if(e.length){element.labelShape=e;for(var i=0;i<e.length;i++)for(var n=e[i].getChildren(),r=0;r<n.length;r++){var c=n[r];c.cfg.name=["element","label"],c.cfg.element=element}}}))},e.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===Object(h.q)(this.animateOption,"appear")||Object(h.q)(this.animateOption,"appear")&&void 0===Object(h.q)(this.animateOption,["appear","animation"]))},e}(base),Wn=qn,Un=W.a.transform;function Zn(element,t,e){var n=Un(element.getMatrix(),[["t",t,e]]);element.setMatrix(n)}function Kn(element,t){var e=function(element,t){var e=element.attr(),n=e.x,r=e.y;return Un(element.getMatrix(),[["t",-n,-r],["r",t],["t",n,r]])}(element,t);element.setMatrix(e)}function Qn(label){return label.find((function(t){return"text"===t.get("type")}))}function Jn(t,e,n){void 0===n&&(n=[0,0,0,0]);var content=t.getChildren()[0];if(content){var r=content.clone();(null==e?void 0:e.rotate)&&Kn(r,-e.rotate);var o=r.getCanvasBBox(),c=o.x,l=o.y,f=o.width,d=o.height;r.destroy();var v=n;return Object(h.G)(v)?v=[2,2,2,2]:Object(h.I)(v)&&(v=new Array(4).fill(v)),{x:c-v[3],y:l-v[0],width:f+v[1]+v[3],height:d+v[0]+v[2],rotation:(null==e?void 0:e.rotate)||0}}}function $n(t,e){var n=t.getBBox();return Object(h.fb)(e,(function(t){var a,b,e,r=t.getBBox();return a=n,b=r,void 0===(e=2)&&(e=0),Math.max(0,Math.min(a.x+a.width+e,b.x+b.width+e)-Math.max(a.x-e,b.x-e))*Math.max(0,Math.min(a.y+a.height+e,b.y+b.height+e)-Math.max(a.y-e,b.y-e))>0}))}function ti(t,e,n){var data=n.data,r=n.origin,o=n.animateCfg,c=n.coordinate,l=Object(h.q)(o,"update");t.set("data",data),t.set("origin",r),t.set("animateCfg",o),t.set("coordinate",c),t.set("visible",e.get("visible")),t.getChildren().forEach((function(h,f){var d=e.getChildByIndex(f);if(d){h.set("data",data),h.set("origin",r),h.set("animateCfg",o),h.set("coordinate",c);var v=gt(h,d);l?kn(h,l,{toAttrs:v,coordinate:c}):h.attr(v),d.isGroup()&&ti(h,d,n)}else t.removeChild(h),h.remove(!0)})),Object(h.j)(e.getChildren(),(function(e,n){n>=t.getCount()&&(e.destroyed||t.add(e))}))}var ei=function(){function t(t){this.shapesMap={},this.lastShapesMap={};var e=t.layout,n=t.container;this.layout=e,this.container=n}return t.prototype.render=function(t,e,n){var r=this;void 0===n&&(n=!1),this.shapesMap={};var o=this.container,c=this.createOffscreenGroup();if(t.length){for(var f=0,d=t;f<d.length;f++){var v=d[f];v&&this.renderLabel(v,c)}this.doLayout(t,e),this.renderLabelLine(t),this.renderLabelBackground(t),this.adjustLabel(t)}var y=this.lastShapesMap,m=this.shapesMap;Object(h.j)(m,(function(t,e){if(t.destroyed)delete m[e];else{if(y[e]){var data=t.get("data"),c=t.get("origin"),f=t.get("coordinate"),d=t.get("animateCfg"),v=y[e];ti(v,m[e],{data:data,origin:c,animateCfg:d,coordinate:f}),r.shapesMap[e]=v}else{o.add(t);var x=Object(h.q)(t.get("animateCfg"),n?"enter":"appear");x&&kn(t,x,{toAttrs:Object(l.a)({},t.attr()),coordinate:t.get("coordinate")})}delete y[e]}})),Object(h.j)(y,(function(t){var e=Object(h.q)(t.get("animateCfg"),"leave");e?kn(t,e,{toAttrs:null,coordinate:t.get("coordinate")}):t.remove(!0)})),this.lastShapesMap=m,c.destroy()},t.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},t.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},t.prototype.renderLabel=function(t,e){var n,r=t.id,o=t.elementId,data=t.data,c=t.mappingData,f=t.coordinate,animate=t.animate,content=t.content,d={id:r,elementId:o,data:data,origin:Object(l.a)(Object(l.a)({},c),{data:c._origin}),coordinate:f},v=e.addGroup(Object(l.a)({name:"label",animateCfg:!1!==this.animate&&null!==animate&&!1!==animate&&Object(h.h)({},this.animate,animate)},d));if(content.isGroup&&content.isGroup()||content.isShape&&content.isShape()){var y=content.getCanvasBBox(),m=y.width,x=y.height,O=Object(h.q)(t,"textAlign","left"),j=t.x;"center"===O?j-=m/2:"right"!==O&&"end"!==O||(j-=m),Zn(content,j,t.y-x/2),n=content,v.add(content)}else{var w=Object(h.q)(t,["style","fill"]);n=v.addShape("text",Object(l.a)({attrs:Object(l.a)(Object(l.a)({x:t.x,y:t.y,textAlign:t.textAlign,textBaseline:Object(h.q)(t,"textBaseline","middle"),text:t.content},t.style),{fill:Object(h.H)(w)?t.color:w})},d))}t.rotate&&Kn(n,t.rotate),this.shapesMap[r]=v},t.prototype.doLayout=function(t,e){var n=this;if(this.layout){var r=Object(h.z)(this.layout)?this.layout:[this.layout];Object(h.j)(r,(function(r){var o,c=(o=Object(h.q)(r,"type",""),In[o.toLowerCase()]);if(c){var l=[],f=[];Object(h.j)(n.shapesMap,(function(t,n){l.push(t),f.push(e[t.get("elementId")])})),c(t,l,f,n.region,r.cfg)}}))}},t.prototype.renderLabelLine=function(t){var e=this;Object(h.j)(t,(function(t){var n=Object(h.q)(t,"coordinate");if(t&&n){var r=n.getCenter(),o=n.getRadius();if(t.labelLine){var c=Object(h.q)(t,"labelLine",{}),f=t.id,path=c.path;if(!path){var d=ut(r.x,r.y,o,t.angle);path=[["M",d.x,d.y],["L",t.x,t.y]]}var v=e.shapesMap[f];v.destroyed||v.addShape("path",{capture:!1,attrs:Object(l.a)({path:path,stroke:t.color?t.color:Object(h.q)(t,["style","fill"],"#000"),fill:null},c.style),id:f,origin:t.mappingData,data:t.data,coordinate:t.coordinate})}}}))},t.prototype.renderLabelBackground=function(t){var e=this;Object(h.j)(t,(function(t){var n=Object(h.q)(t,"coordinate"),r=Object(h.q)(t,"background");if(r&&n){var o=t.id,c=e.shapesMap[o];if(!c.destroyed){var f=c.getChildren()[0];if(f){var d=Jn(c,t,r.padding),v=d.rotation,y=Object(l.c)(d,["rotation"]),m=c.addShape("rect",{attrs:Object(l.a)(Object(l.a)({},y),r.style||{}),id:o,origin:t.mappingData,data:t.data,coordinate:t.coordinate});if(m.setZIndex(-1),v){var x=f.getMatrix();m.setMatrix(x)}}}}}))},t.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},t.prototype.adjustLabel=function(t){var e=this;Object(h.j)(t,(function(t){if(t){var n=t.id,r=e.shapesMap[n];if(!r.destroyed){var o=r.findAll((function(t){return"path"!==t.get("type")}));Object(h.j)(o,(function(e){e&&(t.offsetX&&e.attr("x",e.attr("x")+t.offsetX),t.offsetY&&e.attr("y",e.attr("y")+t.offsetY))}))}}}))},t}();function ni(t){var e=0;return Object(h.j)(t,(function(t){e+=t})),e/t.length}var ii=function(){function t(t){this.geometry=t}return t.prototype.getLabelItems=function(t){var e=this,n=[],r=this.getLabelCfgs(t);return Object(h.j)(t,(function(t,o){var c=r[o];if(!c||Object(h.G)(t.x)||Object(h.G)(t.y))n.push(null);else{var f=Object(h.z)(c.content)?c.content:[c.content];c.content=f;var d=f.length;Object(h.j)(f,(function(content,r){if(Object(h.G)(content)||""===content)n.push(null);else{var o=Object(l.a)(Object(l.a)({},c),e.getLabelPoint(c,t,r));o.textAlign||(o.textAlign=e.getLabelAlign(o,r,d)),o.offset<=0&&(o.labelLine=null),n.push(o)}}))}})),n},t.prototype.render=function(t,e){void 0===e&&(e=!1);var n=this.getLabelItems(t),r=this.getLabelsRenderer(),o=this.getGeometryShapes();r.render(n,o,e)},t.prototype.clear=function(){var t=this.labelsRenderer;t&&t.clear()},t.prototype.destroy=function(){var t=this.labelsRenderer;t&&t.destroy(),this.labelsRenderer=null},t.prototype.getCoordinate=function(){return this.geometry.coordinate},t.prototype.getDefaultLabelCfg=function(t,e){var n=this.geometry,r=n.type,o=n.theme;return"polygon"===r||"interval"===r&&"middle"===e||t<0&&!["line","point","path"].includes(r)?Object(h.q)(o,"innerLabels",{}):Object(h.q)(o,"labels",{})},t.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg(),r=e.type,o=e.theme;return"polygon"===r||t.offset<0&&!["line","point","path"].includes(r)?Object(h.h)({},n,o.innerLabels,t):Object(h.h)({},n,o.labels,t)},t.prototype.setLabelPosition=function(t,e,n,r){},t.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),n=this.getOffsetVector(t);return e.isTransposed?n[0]:n[1]},t.prototype.getLabelOffsetPoint=function(t,e,n){var r=t.offset,o=this.getCoordinate().isTransposed,c=o?"x":"y",l=o?1:-1,h={x:0,y:0};return h[c]=e>0||1===n?r*l:r*l*-1,h},t.prototype.getLabelPoint=function(t,e,n){var r=this.getCoordinate(),o=t.content.length;function c(e,n,r){void 0===r&&(r=!1);var o=e;return Object(h.z)(o)&&(o=1===t.content.length?r?ni(o):o.length<=2?o[e.length-1]:ni(o):o[n]),o}var label={content:t.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},l=Object(h.z)(e.shape)?e.shape[0]:e.shape,f="funnel"===l||"pyramid"===l;if("polygon"===this.geometry.type){var d=function(t,e){if(Object(h.I)(t)&&Object(h.I)(e))return[t,e];for(var n,r,i=-1,o=0,c=0,l=t.length-1,f=0;++i<t.length;)n=l,l=i,f+=r=t[n]*e[l]-t[l]*e[n],o+=(t[n]+t[l])*r,c+=(e[n]+e[l])*r;return[o/(f*=3),c/f]}(e.x,e.y);label.x=d[0],label.y=d[1]}else"interval"!==this.geometry.type||f?(label.x=c(e.x,n),label.y=c(e.y,n)):(label.x=c(e.x,n,!0),label.y=c(e.y,n));if(f){var v=Object(h.q)(e,"nextPoints"),y=Object(h.q)(e,"points");if(v){var m=r.convert(y[1]),x=r.convert(v[1]);label.x=(m.x+x.x)/2,label.y=(m.y+x.y)/2}else if("pyramid"===l){m=r.convert(y[1]),x=r.convert(y[2]);label.x=(m.x+x.x)/2,label.y=(m.y+x.y)/2}}t.position&&this.setLabelPosition(label,e,n,t.position);var O=this.getLabelOffsetPoint(t,n,o);return label.start={x:label.x,y:label.y},label.x+=O.x,label.y+=O.y,label.color=e.color,label},t.prototype.getLabelAlign=function(t,e,n){var r="center";if(this.getCoordinate().isTransposed){var o=t.offset;r=o<0?"right":0===o?"center":"left",n>1&&0===e&&("right"===r?r="left":"left"===r&&(r="right"))}return r},t.prototype.getLabelId=function(t){var e=this.geometry,n=e.type,r=e.getXScale(),o=e.getYScale(),c=t._origin,l=e.getElementId(t);return"line"===n||"area"===n?l+=" "+c[r.field]:"path"===n&&(l+=" "+c[r.field]+"-"+c[o.field]),l},t.prototype.getLabelsRenderer=function(){var t=this.geometry,e=t.labelsContainer,n=t.labelOption,r=t.canvasRegion,o=t.animateOption,c=this.geometry.coordinate,l=this.labelsRenderer;return l||(l=new ei({container:e,layout:Object(h.q)(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=l),l.region=r,l.animate=!!o&&Bn("label",c),l},t.prototype.getLabelCfgs=function(t){var e=this,n=this.geometry,r=n.labelOption,o=n.scales,c=n.coordinate,f=r,d=f.fields,v=f.callback,y=f.cfg,m=d.map((function(t){return o[t]})),x=[];return Object(h.j)(t,(function(t,n){var r,o=t._origin,f=e.getLabelText(o,m);if(v){var O=d.map((function(t){return o[t]}));if(r=v.apply(void 0,O),Object(h.G)(r))return void x.push(null)}var j=Object(l.a)(Object(l.a)({id:e.getLabelId(t),elementId:e.geometry.getElementId(t),data:o,mappingData:t,coordinate:c},y),r);Object(h.F)(j.position)&&(j.position=j.position(o,t,n));var w=e.getLabelOffset(j.offset||0),C=e.getDefaultLabelCfg(w,j.position);(j=Object(h.h)({},C,j)).offset=e.getLabelOffset(j.offset||0);var content=j.content;Object(h.F)(content)?j.content=content(o,t,n):Object(h.N)(content)&&(j.content=f[0]),x.push(j)})),x},t.prototype.getLabelText=function(t,e){var n=[];return Object(h.j)(e,(function(e){var r=t[e.field];r=Object(h.z)(r)?r.map((function(t){return e.getText(t)})):e.getText(r),Object(h.G)(r)||""===r?n.push(null):n.push(r)})),n},t.prototype.getOffsetVector=function(t){void 0===t&&(t=0);var e=this.getCoordinate(),n=0;return Object(h.I)(t)&&(n=t),e.isTransposed?e.applyMatrix(n,0):e.applyMatrix(0,n)},t.prototype.getGeometryShapes=function(){var t=this.geometry,e={};return Object(h.j)(t.elementsMap,(function(element,t){e[t]=element.shape})),Object(h.j)(t.getOffscreenGroup().getChildren(),(function(n){var r=t.getElementId(n.get("origin").mappingData);e[r]=n})),e},t}(),ri=ii;function oi(t,e,n){if(!t)return n;var r;if(t.callback&&t.callback.length>1){var o=Array(t.callback.length-1).fill("");r=t.mapping.apply(t,Object(l.d)([e],o,!1)).join("")}else r=t.mapping(e).join("");return r||n}var ai={hexagon:function(t,e,n){var r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]},bowtie:function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}},si=["line","cross","tick","plus","hyphen"];function ci(marker){var symbol=marker.symbol;Object(h.M)(symbol)&&ai[symbol]&&(marker.symbol=ai[symbol])}function ui(t){return t.startsWith(o.LEFT)||t.startsWith(o.RIGHT)?"vertical":"horizontal"}function hi(view,t,e,n,r){var o=e.getScale(e.type);if(o.isCategory){var c=o.field,f=t.getAttribute("color"),d=t.getAttribute("shape"),v=view.getTheme().defaultColor,y=t.coordinate.isPolar;return o.getTicks().map((function(e,m){var x,text=e.text,O=e.value,j=text,w=o.invert(O),C=0===view.filterFieldData(c,[(x={},x[c]=w,x)]).length;Object(h.j)(view.views,(function(t){var e;t.filterFieldData(c,[(e={},e[c]=w,e)]).length||(C=!0)}));var M,style,S=oi(f,w,v),A=oi(d,w,"point"),marker=t.getShapeMarker(A,{color:S,isInPolar:y}),T=r;return Object(h.F)(T)&&(T=T(j,m,Object(l.a)({name:j,value:w},Object(h.h)({},n,marker)))),function(marker,t){var symbol=marker.symbol;if(Object(h.M)(symbol)&&-1!==si.indexOf(symbol)){var e=Object(h.q)(marker,"style",{}),n=Object(h.q)(e,"lineWidth",1),r=e.stroke||e.fill||t;marker.style=Object(h.h)({},marker.style,{lineWidth:n,stroke:r,fill:null})}}(marker=Object(h.h)({},n,marker,yt(Object(l.a)({},T),["style"])),S),T&&T.style&&(marker.style=(M=marker.style,style=T.style,Object(h.F)(style)?style(M):Object(h.h)({},M,style))),ci(marker),{id:w,name:j,value:w,marker:marker,unchecked:C}}))}return[]}function pi(t,e){var n=Object(h.q)(t,["components","legend"],{});return Object(h.h)({},Object(h.q)(n,["common"],{}),Object(h.h)({},Object(h.q)(n,[e],{})))}var fi="#000",di="#BFBFBF",gi="#F0F0F0",vi="#FFFFFF",yi="#A6A6A6",mi="#737373",bi="#404040",xi="#262626",Oi=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],ji=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],wi=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],Ci=function(t){void 0===t&&(t={});var e=t.backgroundColor,n=void 0===e?"#141414":e,r=t.subColor,o=void 0===r?"rgba(255,255,255,0.05)":r,c=t.paletteQualitative10,l=void 0===c?Oi:c,h=t.paletteQualitative20,f=void 0===h?ji:h,d=t.paletteSemanticRed,v=void 0===d?"#F4664A":d,y=t.paletteSemanticGreen,m=void 0===y?"#30BF78":y,x=t.paletteSemanticYellow,O=void 0===x?"#FAAD14":x,j=t.paletteSequence,w=void 0===j?wi:j,C=t.fontFamily,M=void 0===C?'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"':C,S=t.brandColor;return{backgroundColor:n,brandColor:void 0===S?l[0]:S,subColor:o,paletteQualitative10:l,paletteQualitative20:f,paletteSemanticRed:v,paletteSemanticGreen:m,paletteSemanticYellow:O,paletteSequence:w,fontFamily:M,axisLineBorderColor:bi,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:yi,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:bi,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:xi,axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:mi,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:xi,axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:mi,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Oi[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:yi,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:mi,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:mi,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:yi,legendPageNavigatorTextFontSize:12,sliderRailFillColor:xi,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:mi,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:gi,sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:di,annotationArcBorderColor:xi,annotationArcBorder:1,annotationLineBorderColor:bi,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:yi,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:vi,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:bi,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:yi,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:yi,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:fi,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:yi,overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:fi,overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:bi,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:Oi[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:fi,pointBorderOpacity:1,pointActiveBorderColor:vi,pointSelectedBorder:2,pointSelectedBorderColor:vi,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Oi[0],hollowPointBorderOpacity:.95,hollowPointFillColor:fi,hollowPointActiveBorder:1,hollowPointActiveBorderColor:vi,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:vi,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Oi[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Oi[0],areaFillOpacity:.25,areaActiveFillColor:Oi[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Oi[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Oi[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:vi,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:vi,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Oi[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:vi,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:vi,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Oi[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:fi,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:vi,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:vi,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}}(),Mi=n(512),Si=n(556);function Ai(t){return!t&&(null==t||isNaN(t))}function Ti(t){if(Object(h.z)(t))return Ai(t[1].y);var e=t.y;return Object(h.z)(e)?Ai(e[0]):Ai(e)}function Bi(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!0),!t.length||1===t.length&&!n)return[];if(e){for(var r=[],i=0,o=t.length;i<o;i++){Ti(h=t[i])||r.push(h)}return[r]}var c=[],l=[];for(i=0,o=t.length;i<o;i++){var h;Ti(h=t[i])?l.length&&((1!==l.length||n)&&c.push(l),l=[]):l.push(h)}return l.length&&c.push(l),c}function ki(t){for(var path=[],i=0;i<t.length;i++){var e=t[i];if(e){var n=0===i?"M":"L";path.push([n,e.x,e.y])}}var r=t[0];return r&&(path.push(["L",r.x,r.y]),path.push(["z"])),path}function Pi(t){for(var e=t.length/2,n=[],r=[],i=0;i<t.length;i++)i<e?n.push(t[i]):r.push(t[i]);var o=Qt(n,!1),c=Qt(r,!1);r.length&&o.push(["L",r[0].x,r[0].y]),c.shift();var path=o.concat(c);return n.length&&path.push(["L",n[0].x,n[0].y]),path.push(["z"]),path}function Ei(t,e,n,r){void 0===r&&(r="");var o=t.style,style=void 0===o?{}:o,c=t.defaultStyle,f=t.color,d=t.size,v=Object(l.a)(Object(l.a)({},c),style);return f&&(e&&(style.stroke||(v.stroke=f)),n&&(style.fill||(v.fill=f))),r&&Object(h.G)(style[r])&&!Object(h.G)(d)&&(v[r]=d),v}function Li(t){return Object(h.h)({},{fill:"#CCD6EC",fillOpacity:.3},Object(h.q)(t,["background","style"]))}function Ii(t){var e=t.x;return(Object(h.z)(t.y)?t.y:[t.y]).map((function(t,n){return{x:Object(h.z)(e)?e[n]:e,y:t}}))}var Fi={line:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dot:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dash:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},smooth:function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]},hv:function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]},vh:function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]},hvh:function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]},vhv:function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}};function Di(t,e){var n=t.color;return{symbol:Fi[e],style:{lineWidth:2,r:6,stroke:n}}}function Ri(t,e,n,r,style){return 1===t.length?[["M",t[0].x,t[0].y-style.lineWidth/2],["L",t[0].x,t[0].y],["L",t[0].x,t[0].y+style.lineWidth/2]]:(n?(e&&t.length&&t.push({x:t[0].x,y:t[0].y}),path=Qt(t,!1,r)):(path=Kt(t,!1),e&&path.push(["Z"])),path);var path}function _i(t,e,n,r,o,style){if(t.length){var c=t[0];return Object(h.z)(c.y)?function(t,e,n,r,o,style){var c=[],l=[];Object(h.j)(t,(function(t){var e=Ii(t);c.push(e[1]),l.push(e[0])}));var f=Ri(c,e,r,o,style),d=Ri(l,e,r,o,style);return n?f:f.concat(d)}(t,e,n,r,o,style):Ri(t,e,r,o,style)}return[]}Gn("line",{defaultShapeType:"line"});Object(h.j)(["line","dot","dash","smooth"],(function(t){zn("line",t,{draw:function(e,n){var r,o="smooth"===t;if(o){var c=this.coordinate,l=c.start,h=c.end;r=[[l.x,h.y],[h.x,l.y]]}var f=function(t,e,n){for(var r=t.isStack,o=t.connectNulls,c=t.isInCircle,l=t.showSinglePoint,h=Ei(t,!0,!1,"lineWidth"),f=Bi(t.points,o,l),path=[],i=0,d=f.length;i<d;i++){var v=f[i];path=path.concat(_i(v,c,r,e,n,h))}return h.path=path,h}(e,o,r);return n.addShape({type:"path",attrs:f,name:"line",capture:!o})},getMarker:function(e){return Di(e,t)}})}));var Yi=function(t){function e(e){var n=t.call(this,e)||this;n.type="path",n.shapeType="line";var r=e.connectNulls,o=void 0!==r&&r,c=e.showSinglePoint,l=void 0===c||c;return n.connectNulls=o,n.showSinglePoint=l,n}return Object(l.b)(e,t),e.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var n=new Map,r=new Map,o=[],c=0,i=0;i<t.length;i++){var l=t[i],h=this.getElementId(l);o.push(h),n.set(h,l),r.set(h,c),c++}this.elements=new Array(c);for(var f=Vn(this.lastElementsMap,o),d=f.added,v=f.updated,y=f.removed,m=0,x=d;m<x.length;m++){h=x[m],l=n.get(h);var O=this.getShapeFactory(),j=this.getShapeInfo(l);i=r.get(h);(element=new En({shapeFactory:O,container:this.container,offscreenGroup:this.getOffscreenGroup()})).geometry=this,element.animate=this.animateOption,element.draw(j,e),this.elementsMap[h]=element,this.elements[i]=element}for(var w=0,C=v;w<C.length;w++){h=C[w],l=n.get(h);var element=this.lastElementsMap[h],M=(i=r.get(h),j=this.getShapeInfo(l),element.getModel());(this.isCoordinateChanged||Nn(M,j))&&(element.animate=this.animateOption,element.update(j)),this.elementsMap[h]=element,this.elements[i]=element}for(var S=0,A=y;S<A.length;S++){h=A[S];(element=this.lastElementsMap[h]).animate=this.animateOption,element.destroy()}},e.prototype.getPointsAndData=function(t){for(var e=[],data=[],i=0,n=t.length;i<n;i++){var r=t[i];e.push({x:r.x,y:r.y}),data.push(r._origin)}return{points:e,data:data}},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),r=n.points,data=n.data;return e.mappingData=t,e.data=data,e.isStack=!!this.getAdjust("stack"),e.points=r,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},e}(Wn);function Gi(t,e,n,r,o){var path=[];if(t.length){for(var c=[],l=[],i=0,f=t.length;i<f;i++){var d=t[i];c.push(d[1]),l.push(d[0])}l=l.reverse(),Object(h.j)([c,l],(function(t,h){var f=[],d=r.parsePoints(t),v=d[0];1===c.length&&1===l.length?f=0===h?[["M",v.x-.5,v.y],["L",v.x+.5,v.y]]:[["L",v.x+.5,v.y],["L",v.x-.5,v.y]]:(e&&d.push({x:v.x,y:v.y}),f=n?Qt(d,!1,o):Kt(d,!1),h>0&&(f[0][0]="L")),path=path.concat(f)})),path.push(["Z"])}return path}function zi(t,e,n,r,o){for(var c=Ei(t,e,!e,"lineWidth"),l=t.connectNulls,h=t.isInCircle,f=Bi(t.points,l,t.showSinglePoint),path=[],i=0,d=f.length;i<d;i++){var v=f[i];path=path.concat(Gi(v,h,n,r,o))}return c.path=path,c}function Xi(t){var e=t.start,n=t.end;return[[e.x,n.y],[n.x,e.y]]}Gn("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,n=t.y0;return(Object(h.z)(t.y)?t.y:[n,t.y]).map((function(t){return{x:e,y:t}}))}});zn("area","area",{draw:function(t,e){var n=zi(t,!1,!1,this);return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color}}}});var Ni=function(t){function e(e){var n=t.call(this,e)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var r=e.startOnZero,o=void 0===r||r,c=e.sortable,l=void 0!==c&&c,h=e.showSinglePoint,f=void 0!==h&&h;return n.startOnZero=o,n.sortable=l,n.showSinglePoint=f,n}return Object(l.b)(e,t),e.prototype.getPointsAndData=function(t){for(var e=[],data=[],i=0,n=t.length;i<n;i++){var r=t[i];e.push(r.points),data.push(r._origin)}return{points:e,data:data}},e.prototype.getYMinValue=function(){return this.startOnZero?t.prototype.getYMinValue.call(this):this.getYScale().min},e}(Yi);Gn("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return Ii(t)}});zn("edge","line",{draw:function(t,e){var style=Ei(t,!0,!1,"lineWidth"),path=Kt(this.parsePoints(t.points),this.coordinate.isPolar);return e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},style),{path:path})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var Hi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="edge",e.shapeType="edge",e.generatePoints=!0,e}return Object(l.b)(e,t),e}(Wn),Vi=Hi,qi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e.paletteCache={},e}return Object(l.b)(e,t),e.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var i=0;i<t.length;i++){var n=t[i],r=this.prepareRange(n),o=this.prepareSize(),c=Object(h.q)(this.styleOption,["cfg","shadowBlur"]);Object(h.I)(c)||(c=o/2),this.prepareGreyScaleBlurredCircle(o,c),this.drawWithRange(n,r,o,c)}},e.prototype.color=function(t,e){return this.createAttrOption("color",t,"function"!=typeof e?e:""),this},e.prototype.clear=function(){t.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(data){var t=this.getAttribute("color").getFields()[0],e=1/0,n=-1/0;return data.forEach((function(r){var o=r._origin[t];o>n&&(n=o),o<e&&(e=o)})),e===n&&(e=n-1),[e,n]},e.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return Object(h.I)(t)||(t=this.getDefaultSize()),t},e.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),r=t+e,o=n.getContext("2d");n.width=n.height=2*r,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=2*r,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-r,-r,t,0,2*Math.PI,!0),o.closePath(),o.fill()},e.prototype.drawWithRange=function(data,t,e,n){var r=this.coordinate,o=r.start,c=r.end,l=this.coordinate.getWidth(),h=this.coordinate.getHeight(),f=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var d=this.getShadowCanvasCtx();t&&(data=data.filter((function(e){return e._origin[f]<=t[1]&&e._origin[f]>=t[0]})));for(var v=this.scales[f],y=0,m=data;y<m.length;y++){var x=m[y],O=this.getDrawCfg(x),j=O.x,w=O.y,C=v.scale(x._origin[f]);this.drawGrayScaleBlurredCircle(j-o.x,w-c.y,e+n,C,d)}var M=d.getImageData(0,0,l,h);this.clearShadowCanvasCtx(),this.colorize(M),d.putImageData(M,0,0);var S=this.getImageShape();S.attr("x",o.x),S.attr("y",c.y),S.attr("width",l),S.attr("height",h),S.attr("img",d.canvas),S.set("origin",this.getShapeInfo(data))},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var canvas=this.shadowCanvas;return canvas||(canvas=document.createElement("canvas"),this.shadowCanvas=canvas),canvas.width=this.coordinate.getWidth(),canvas.height=this.coordinate.getHeight(),canvas.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(t,e,n,r,o){var c=this.getGrayScaleBlurredCanvas();o.globalAlpha=r,o.drawImage(c,t-n,e-n)},e.prototype.colorize=function(img){for(var t=this.getAttribute("color"),e=img.data,n=this.paletteCache,i=3;i<e.length;i+=4){var r=e[i];if(Object(h.I)(r)){var o=n[r]?n[r]:D.a.rgb2arr(t.gradient(r/256));e[i-3]=o[0],e[i-2]=o[1],e[i-1]=o[2],e[i]=r}}},e.prototype.getImageShape=function(){var t=this.imageShape;return t||(t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t,t)},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),data=t.map((function(t){return t._origin}));return Object(l.a)(Object(l.a)({},e),{mappingData:t,data:data})},e}(Wn),Wi=qi;function Ui(t){var e,n,r,o,c=t.x,l=t.y,f=t.y0,d=t.size;Object(h.z)(l)?(e=l[0],n=l[1]):(e=f,n=l),Object(h.z)(c)?(r=c[0],o=c[1]):(r=c-d/2,o=c+d/2);var v=[{x:r,y:e},{x:r,y:n}];return v.push({x:o,y:n},{x:o,y:e}),v}function Zi(t,e){void 0===e&&(e=!0);var path=[],n=t[0];path.push(["M",n.x,n.y]);for(var i=1,r=t.length;i<r;i++)path.push(["L",t[i].x,t[i].y]);return e&&(path.push(["L",n.x,n.y]),path.push(["z"])),path}function Ki(t,e){var n=0,r=0,o=0,c=0;return Object(h.z)(t)?1===t.length?n=r=o=c=t[0]:2===t.length?(n=o=t[0],r=c=t[1]):3===t.length?(n=t[0],r=c=t[1],o=t[2]):(n=t[0],r=t[1],o=t[2],c=t[3]):n=r=o=c=t,n+r>e&&(r=e-(n=n?e/(1+r/n):0)),o+c>e&&(c=e-(o=o?e/(1+c/o):0)),[n||0,r||0,o||0,c||0]}function Qi(t,e,n){var path=[];if(n.isRect){var r=n.isTransposed?{x:n.start.x,y:e[0].y}:{x:e[0].x,y:n.start.y},o=n.isTransposed?{x:n.end.x,y:e[2].y}:{x:e[3].x,y:n.end.y},c=Object(h.q)(t,["background","style","radius"]);if(c){var l=n.isTransposed?Math.abs(e[0].y-e[2].y):e[2].x-e[1].x,f=n.isTransposed?n.getWidth():n.getHeight(),d=Ki(c,Math.min(l,f)),v=d[0],y=d[1],m=d[2],x=d[3];path.push(["M",r.x,o.y+v]),0!==v&&path.push(["A",v,v,0,0,1,r.x+v,o.y]),path.push(["L",o.x-y,o.y]),0!==y&&path.push(["A",y,y,0,0,1,o.x,o.y+y]),path.push(["L",o.x,r.y-m]),0!==m&&path.push(["A",m,m,0,0,1,o.x-m,r.y]),path.push(["L",r.x+x,r.y]),0!==x&&path.push(["A",x,x,0,0,1,r.x,r.y-x])}else path.push(["M",r.x,r.y]),path.push(["L",o.x,r.y]),path.push(["L",o.x,o.y]),path.push(["L",r.x,o.y]),path.push(["L",r.x,r.y]);path.push(["z"])}if(n.isPolar){var O=n.getCenter(),j=ft(t,n),w=j.startAngle,C=j.endAngle;if("theta"===n.type||n.isTransposed){var M=function(t){return Math.pow(t,2)};v=Math.sqrt(M(O.x-e[0].x)+M(O.y-e[0].y)),y=Math.sqrt(M(O.x-e[2].x)+M(O.y-e[2].y));path=ht(O.x,O.y,v,n.startAngle,n.endAngle,y)}else path=ht(O.x,O.y,n.getRadius(),w,C)}return path}function Ji(t,e,n){var path=[];return Object(h.G)(e)?n?path.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",(t[2].x+t[3].x)/2,(t[2].y+t[3].y)/2],["Z"]):path.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]):path.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),path}Gn("interval",{defaultShapeType:"rect",getDefaultPoints:function(t){return Ui(t)}});zn("interval","rect",{draw:function(t,e){var path,style=Ei(t,!1,!0),n=e,r=null==t?void 0:t.background;if(r){n=e.addGroup();var o=Li(t),c=Qi(t,this.parsePoints(t.points),this.coordinate);n.addShape("path",{attrs:Object(l.a)(Object(l.a)({},o),{path:c}),zIndex:-1,name:Pn})}path=style.radius&&this.coordinate.isRect?function(t,e,n){var r,o,c,l,h=t[0],f=t[1],d=t[2],v=t[3],y=[0,0,0,0],m=y[0],x=y[1],O=y[2],j=y[3];h.y<f.y?(f=t[0],h=t[1],v=t[2],d=t[3],j=(r=Ki(n,Math.min(v.x-h.x,h.y-f.y)))[0],O=r[1],x=r[2],m=r[3]):(m=(o=Ki(n,Math.min(v.x-h.x,h.y-f.y)))[0],x=o[1],O=o[2],j=o[3]),e.isTransposed&&(h=t[0],v=t[1],d=t[2],f=t[3],t[0].x>t[1].x?(v=t[0],h=t[1],f=t[2],d=t[3],m=(c=Ki(n,Math.min(v.x-h.x,h.y-f.y)))[0],j=c[1],O=c[2],x=c[3]):(x=(l=Ki(n,Math.min(v.x-h.x,h.y-f.y)))[0],O=l[1],j=l[2],m=l[3]));var path=[];return path.push(["M",f.x,f.y+m]),0!==m&&path.push(["A",m,m,0,0,1,f.x+m,f.y]),path.push(["L",d.x-x,d.y]),0!==x&&path.push(["A",x,x,0,0,1,d.x,d.y+x]),path.push(["L",v.x,v.y-O]),0!==O&&path.push(["A",O,O,0,0,1,v.x-O,v.y]),path.push(["L",h.x+j,h.y]),0!==j&&path.push(["A",j,j,0,0,1,h.x,h.y-j]),path.push(["L",f.x,f.y+m]),path.push(["z"]),path}(this.parsePoints(t.points),this.coordinate,style.radius):this.parsePath(function(t,e,n){var r=n.getWidth(),o=n.getHeight(),c="rect"===n.type,path=[],l=(t[2].x-t[1].x)/2,h=n.isTransposed?l*o/r:l*r/o;return"round"===e?(c?(path.push(["M",t[0].x,t[0].y+h]),path.push(["L",t[1].x,t[1].y-h]),path.push(["A",l,l,0,0,1,t[2].x,t[2].y-h]),path.push(["L",t[3].x,t[3].y+h]),path.push(["A",l,l,0,0,1,t[0].x,t[0].y+h])):(path.push(["M",t[0].x,t[0].y]),path.push(["L",t[1].x,t[1].y]),path.push(["A",l,l,0,0,1,t[2].x,t[2].y]),path.push(["L",t[3].x,t[3].y]),path.push(["A",l,l,0,0,1,t[0].x,t[0].y])),path.push(["z"])):path=Zi(t),path}(t.points,style.lineCap,this.coordinate));var h=n.addShape("path",{attrs:Object(l.a)(Object(l.a)({},style),{path:path}),name:"interval"});return r?n:h},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});function $i(t){var e=t.theme,n=t.coordinate,r=t.getXScale(),o=r.values,c=t.beforeMappingData,l=o.length,f=xt(t.coordinate),d=t.intervalPadding,v=t.dodgePadding,y=t.maxColumnWidth||e.maxColumnWidth,m=t.minColumnWidth||e.minColumnWidth,x=t.columnWidthRatio||e.columnWidthRatio,O=t.multiplePieWidthRatio||e.multiplePieWidthRatio,j=t.roseWidthRatio||e.roseWidthRatio;if(r.isLinear&&o.length>1){o.sort();var w=function(t,e){var n=t.length,r=t;Object(h.M)(r[0])&&(r=t.map((function(t){return e.translate(t)})));for(var o=r[1]-r[0],i=2;i<n;i++){var c=r[i]-r[i-1];o>c&&(o=c)}return o}(o,r);l=(r.max-r.min)/w,o.length>l&&(l=o.length)}var C=r.range,M=1/l,S=1;(n.isPolar?S=n.isTransposed&&l>1?O:j:(r.isLinear&&(M*=C[1]-C[0]),S=x),!Object(h.G)(d)&&d>=0)?M=(1-(l-1)*(d/f))/l:M*=S;if(t.getAdjust("dodge")){var A=function(t,e){if(e){var n=Object(h.p)(t);return Object(h.pb)(n,e).length}return t.length}(c,t.getAdjust("dodge").dodgeBy);if(!Object(h.G)(v)&&v>=0)M=(M-v/f*(A-1))/A;else!Object(h.G)(d)&&d>=0?(M*=S,M/=A):M/=A;M=M>=0?M:0}if(!Object(h.G)(y)&&y>=0){var T=y/f;M>T&&(M=T)}if(!Object(h.G)(m)&&m>=0){var B=m/f;M<B&&(M=B)}return M}var er=function(t){function e(e){var n=t.call(this,e)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var r=e.background;return n.background=r,n}return Object(l.b)(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),o=this.getAttribute("size");o?(n=this.getAttributeValues(o,e)[0],n/=xt(this.coordinate)):(this.defaultSize||(this.defaultSize=$i(this)),n=this.defaultSize);return r.size=n,r},e.prototype.adjustScale=function(){t.prototype.adjustScale.call(this);var e,n,r=this.getYScale();if("theta"===this.coordinate.type)r.change({nice:!1,min:0,max:(e=r,n=e.values.filter((function(t){return!Object(h.G)(t)&&!isNaN(t)})),Math.max.apply(Math,Object(l.d)(Object(l.d)([],n,!1),[Object(h.G)(e.max)?-1/0:e.max],!1)))});else{var o=this.scaleDefs,c=r.field,f=r.min,d=r.max;"time"!==r.type&&(f>0&&!Object(h.q)(o,[c,"min"])&&r.change({min:0}),d<=0&&!Object(h.q)(o,[c,"max"])&&r.change({max:0}))}},e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return n.background=this.background,n},e}(Wn),nr=function(t){function e(e){var n=t.call(this,e)||this;n.type="line";var r=e.sortable,o=void 0!==r&&r;return n.sortable=o,n}return Object(l.b)(e,t),e}(Yi),ir=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function rr(t,e,n,r,o){var style=Ei(e,o,!o,"r"),c=t.parsePoints(e.points),h=c[0];if(e.isStack)h=c[1];else if(c.length>1){for(var f=n.addGroup(),d=0,v=c;d<v.length;d++){var y=v[d];f.addShape({type:"marker",attrs:Object(l.a)(Object(l.a)(Object(l.a)({},style),{symbol:ai[r]||r}),y)})}return f}return n.addShape({type:"marker",attrs:Object(l.a)(Object(l.a)(Object(l.a)({},style),{symbol:ai[r]||r}),h)})}Gn("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(t){return Ii(t)}});Object(h.j)(ir,(function(t){zn("point","hollow-"+t,{draw:function(e,n){return rr(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:ai[t]||t,style:{r:4.5,stroke:n,fill:null}}}})}));var or=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="point",e.shapeType="point",e.generatePoints=!0,e}return Object(l.b)(e,t),e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return Object(l.a)(Object(l.a)({},n),{isStack:!!this.getAdjust("stack")})},e}(Wn),ar=or;Gn("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(t){var e=[];return Object(h.j)(t.x,(function(n,r){var o=t.y[r];e.push({x:n,y:o})})),e}});zn("polygon","polygon",{draw:function(t,e){if(!Object(h.D)(t.points)){var n=Ei(t,!0,!0),path=this.parsePath(function(t){for(var e=t[0],i=1,path=[["M",e.x,e.y]];i<t.length;){var n=t[i];n.x===t[i-1].x&&n.y===t[i-1].y||(path.push(["L",n.x,n.y]),n.x===e.x&&n.y===e.y&&i<t.length-1&&(e=t[i+1],path.push(["Z"]),path.push(["M",e.x,e.y]),i++)),i++}return Object(h.E)(Object(h.P)(path),e)||path.push(["L",e.x,e.y]),path.push(["Z"]),path}(t.points));return e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},n),{path:path}),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}});var sr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e}return Object(l.b)(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),o=r.x,c=r.y;if(!Object(h.z)(o)||!Object(h.z)(c)){var l=this.getXScale(),f=this.getYScale(),d=.5/l.values.length,v=.5/f.values.length;l.isCategory&&f.isCategory?(o=[o-d,o-d,o+d,o+d],c=[c-v,c+v,c+v,c-v]):Object(h.z)(o)?(o=[(n=o)[0],n[0],n[1],n[1]],c=[c-v/2,c+v/2,c+v/2,c-v/2]):Object(h.z)(c)&&(c=[(n=c)[0],n[1],n[1],n[0]],o=[o-d/2,o-d/2,o+d/2,o+d/2]),r.x=o,r.y=c}return r},e}(Wn),cr=sr,lr=(Gn("schema",{defaultShapeType:""}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e}return Object(l.b)(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),o=this.getAttribute("size");o?(n=this.getAttributeValues(o,e)[0],n/=xt(this.coordinate)):(this.defaultSize||(this.defaultSize=$i(this)),n=this.defaultSize);return r.size=n,r},e}(Wn)),ur=lr;Gn("violin",{defaultShapeType:"violin",getDefaultPoints:function(t){var e=t.size/2,n=[],r=function(t){if(!Object(h.z)(t))return[];var e=Object(h.T)(t);return Object(h.R)(t,(function(t){return t/e}))}(t._size);return Object(h.j)(t.y,(function(o,c){var l=r[c]*e,h=0===c,f=c===t.y.length-1;n.push({isMin:h,isMax:f,x:t.x-l,y:o}),n.unshift({isMin:h,isMax:f,x:t.x+l,y:o})})),n}});zn("violin","violin",{draw:function(t,e){var n=Ei(t,!0,!0),path=this.parsePath(ki(t.points));return e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},n),{path:path}),name:"violin"})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:t.color}}}});var pr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="violin",e.shapeType="violin",e.generatePoints=!0,e}return Object(l.b)(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),o=this.getAttribute("size");o?(n=this.getAttributeValues(o,e)[0],n/=xt(this.coordinate)):(this.defaultSize||(this.defaultSize=$i(this)),n=this.defaultSize);return r.size=n,r._size=Object(h.q)(e._origin,[this._sizeField]),r},e.prototype.initAttributes=function(){var e=this.attributeOption,n=e.size?e.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete e.size,t.prototype.initAttributes.call(this)},e}(Wn),fr=pr;function dr(t,e){return["C",1*t.x/2+1*e.x/2,t.y,1*t.x/2+1*e.x/2,e.y,e.x,e.y]}function gr(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var sub=["Q"];return Object(h.j)(n,(function(t){sub.push(t.x,t.y)})),sub}zn("area","line",{draw:function(t,e){var n=zi(t,!0,!1,this);return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),zn("area","smooth",{draw:function(t,e){var n=zi(t,!1,!0,this,Xi(this.coordinate));return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color}}}}),zn("area","smooth-line",{draw:function(t,e){var n=zi(t,!0,!0,this,Xi(this.coordinate));return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),zn("edge","arc",{draw:function(t,e){var path,style=Ei(t,!0,!1,"lineWidth"),n=t.points,r=n.length>2?"weight":"normal";if(t.isInCircle){var o={x:0,y:1};return"normal"===r?path=function(t,e,n){var sub=gr(e,n),path=[["M",t.x,t.y]];return path.push(sub),path}(n[0],n[1],o):(style.fill=style.stroke,path=function(t,e){var n=gr(t[1],e),r=gr(t[3],e),path=[["M",t[0].x,t[0].y]];return path.push(r),path.push(["L",t[3].x,t[3].y]),path.push(["L",t[2].x,t[2].y]),path.push(n),path.push(["L",t[1].x,t[1].y]),path.push(["L",t[0].x,t[0].y]),path.push(["Z"]),path}(n,o)),path=this.parsePath(path),e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},style),{path:path})})}if("normal"===r)return path=pt(((n=this.parsePoints(n))[1].x+n[0].x)/2,n[0].y,Math.abs(n[1].x-n[0].x)/2,Math.PI,2*Math.PI),e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},style),{path:path})});var c=dr(n[1],n[3]),h=dr(n[2],n[0]);return path=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],c,["L",n[3].x,n[3].y],["L",n[2].x,n[2].y],h,["Z"]],path=this.parsePath(path),style.fill=style.stroke,e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},style),{path:path})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),zn("edge","smooth",{draw:function(t,e){var style=Ei(t,!0,!1,"lineWidth"),n=t.points,path=this.parsePath(function(t,e){var sub=dr(t,e),path=[["M",t.x,t.y]];return path.push(sub),path}(n[0],n[1]));return e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},style),{path:path})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var vr=1/3;zn("edge","vhv",{draw:function(t,e){var style=Ei(t,!0,!1,"lineWidth"),n=t.points,path=this.parsePath(function(t,e){var n=[];n.push({x:t.x,y:t.y*(1-vr)+e.y*vr}),n.push({x:e.x,y:t.y*(1-vr)+e.y*vr}),n.push(e);var path=[["M",t.x,t.y]];return Object(h.j)(n,(function(t){path.push(["L",t.x,t.y])})),path}(n[0],n[1]));return e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},style),{path:path})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),zn("interval","funnel",{getPoints:function(t){return t.size=2*t.size,Ui(t)},draw:function(t,e){var style=Ei(t,!1,!0),path=this.parsePath(Ji(t.points,t.nextPoints,!1));return e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},style),{path:path}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),zn("interval","hollow-rect",{draw:function(t,e){var style=Ei(t,!0,!1),n=e,r=null==t?void 0:t.background;if(r){n=e.addGroup();var o=Li(t),c=Qi(t,this.parsePoints(t.points),this.coordinate);n.addShape("path",{attrs:Object(l.a)(Object(l.a)({},o),{path:c}),zIndex:-1,name:Pn})}var path=this.parsePath(Zi(t.points)),h=n.addShape("path",{attrs:Object(l.a)(Object(l.a)({},style),{path:path}),name:"interval"});return r?n:h},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}}),zn("interval","line",{getPoints:function(t){return n=(e=t).x,r=e.y,o=e.y0,Object(h.z)(r)?r.map((function(t,e){return{x:Object(h.z)(n)?n[e]:n,y:t}})):[{x:n,y:o},{x:n,y:r}];var e,n,r,o},draw:function(t,e){var style=Ei(t,!0,!1,"lineWidth"),n=yt(Object(l.a)({},style),["fill"]),path=this.parsePath(Zi(t.points,!1));return e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},n),{path:path}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:t.color}}}}),zn("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,Ui(t)},draw:function(t,e){var style=Ei(t,!1,!0),path=this.parsePath(Ji(t.points,t.nextPoints,!0));return e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},style),{path:path}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),zn("interval","tick",{getPoints:function(t){return function(t){var e,n,r=t.x,o=t.y,c=t.y0,l=t.size;Object(h.z)(o)?(e=o[0],n=o[1]):(e=c,n=o);var f=r+l/2,d=r-l/2;return[{x:r,y:e},{x:r,y:n},{x:d,y:e},{x:f,y:e},{x:d,y:n},{x:f,y:n}]}(t)},draw:function(t,e){var n,style=Ei(t,!0,!1),path=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y]]);return e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},style),{path:path}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:t.color}}}});function yr(t,e){var n=Bi(t.points,t.connectNulls,t.showSinglePoint),path=[];return Object(h.j)(n,(function(t){var n=function(t,e){var n=[];return Object(h.j)(t,(function(r,o){var c=t[o+1];if(n.push(r),c){var l=function(t,e,n){var r,o=t.x,c=t.y,l=e.x,h=e.y;switch(n){case"hv":r=[{x:l,y:c}];break;case"vh":r=[{x:o,y:h}];break;case"hvh":var f=(l+o)/2;r=[{x:f,y:c},{x:f,y:h}];break;case"vhv":var d=(c+h)/2;r=[{x:o,y:d},{x:l,y:d}]}return r}(r,c,e);n=n.concat(l)}})),n}(t,e);path=path.concat(function(t){return t.map((function(t,e){return 0===e?["M",t.x,t.y]:["L",t.x,t.y]}))}(n))})),Object(l.a)(Object(l.a)({},Ei(t,!0,!1,"lineWidth")),{path:path})}function mr(t){var e=Object(h.z)(t)?t:[t],n=e[0],r=e[e.length-1],o=e.length>1?e[1]:n;return{min:n,max:r,min1:o,max1:e.length>3?e[3]:r,median:e.length>2?e[2]:o}}function xr(t,e,n){var r,o=n/2;if(Object(h.z)(e)){var c=mr(e),l=c.min,f=c.max,d=c.median,v=c.min1,y=t-o,m=t+o;r=[[y,f],[m,f],[t,f],[t,x=c.max1],[y,v],[y,x],[m,x],[m,v],[t,v],[t,l],[y,l],[m,l],[y,d],[m,d]]}else{e=Object(h.G)(e)?.5:e;var x,O=mr(t),j=(l=O.min,f=O.max,d=O.median,e-o),w=e+o;r=[[l,j],[l,w],[l,e],[v=O.min1,e],[v,j],[v,w],[x=O.max1,w],[x,j],[x,e],[f,e],[f,j],[f,w],[d,j],[d,w]]}return r.map((function(t){return{x:t[0],y:t[1]}}))}function Or(t){var e=(Object(h.z)(t)?t:[t]).sort((function(a,b){return b-a}));return function(source,t,e){if(Object(h.M)(source))return source.padEnd(t,e);if(Object(h.z)(source)){var n=source.length;if(n<t)for(var r=t-n,i=0;i<r;i++)source.push(e)}return source}(e,4,e[e.length-1])}function jr(t,e,n){var r=Or(e);return[{x:t,y:r[0]},{x:t,y:r[1]},{x:t-n/2,y:r[2]},{x:t-n/2,y:r[1]},{x:t+n/2,y:r[1]},{x:t+n/2,y:r[2]},{x:t,y:r[2]},{x:t,y:r[3]}]}function wr(t,e){var n=Math.abs(t[0].x-t[2].x),r=Math.abs(t[0].y-t[2].y),o=Math.min(n,r);return e&&(o=Object(h.c)(e,0,Math.min(n,r))),o/=2,{x:(t[0].x+t[2].x)/2-o,y:(t[0].y+t[2].y)/2-o,width:2*o,height:2*o}}Object(h.j)(["hv","vh","hvh","vhv"],(function(t){zn("line",t,{draw:function(e,n){var r=yr(e,t);return n.addShape({type:"path",attrs:r,name:"line"})},getMarker:function(e){return Di(e,t)}})})),Object(h.j)(["cross","tick","plus","hyphen","line"],(function(t){zn("point",t,{draw:function(e,n){return rr(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:ai[t],style:{r:4.5,stroke:n,fill:null}}}})})),zn("point","image",{draw:function(t,e){var n=Ei(t,!1,!1,"r").r,r=this.parsePoints(t.points),o=r[0];if(t.isStack)o=r[1];else if(r.length>1){for(var c=e.addGroup(),l=0,h=r;l<h.length;l++){var f=h[l];c.addShape("image",{attrs:{x:f.x-n/2,y:f.y-n,width:n,height:n,img:t.shape[1]}})}return c}return e.addShape("image",{attrs:{x:o.x-n/2,y:o.y-n,width:n,height:n,img:t.shape[1]}})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),Object(h.j)(ir,(function(t){zn("point",t,{draw:function(e,n){return rr(this,e,n,t,!1)},getMarker:function(e){var n=e.color;return{symbol:ai[t]||t,style:{r:4.5,fill:n}}}})})),zn("schema","box",{getPoints:function(t){return xr(t.x,t.y,t.size)},draw:function(t,e){var n,style=Ei(t,!0,!1),path=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y],["L",n[6].x,n[6].y],["L",n[7].x,n[7].y],["L",n[4].x,n[4].y],["Z"],["M",n[8].x,n[8].y],["L",n[9].x,n[9].y],["M",n[10].x,n[10].y],["L",n[11].x,n[11].y],["M",n[12].x,n[12].y],["L",n[13].x,n[13].y]]);return e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},style),{path:path,name:"schema"})})},getMarker:function(t){return{symbol:function(t,e,n){var r=xr(t,[e-6,e-3,e,e+3,e+6],n);return[["M",r[0].x+1,r[0].y],["L",r[1].x-1,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x+1,r[10].y],["L",r[11].x-1,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]},style:{r:6,lineWidth:1,stroke:t.color}}}}),zn("schema","candle",{getPoints:function(t){return jr(t.x,t.y,t.size)},draw:function(t,e){var n,style=Ei(t,!0,!0),path=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["L",n[4].x,n[4].y],["L",n[5].x,n[5].y],["Z"],["M",n[6].x,n[6].y],["L",n[7].x,n[7].y]]);return e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},style),{path:path,name:"schema"})})},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){var r=jr(t,[e+7.5,e+3,e-3,e-7.5],n);return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}}),zn("polygon","square",{draw:function(t,e){if(!Object(h.D)(t.points)){var n=Ei(t,!0,!0),r=this.parsePoints(t.points);return e.addShape("rect",{attrs:Object(l.a)(Object(l.a)({},n),wr(r,t.size)),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),zn("violin","smooth",{draw:function(t,e){var n=Ei(t,!0,!0),path=this.parsePath(Pi(t.points));return e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},n),{path:path})})},getMarker:function(t){return{symbol:"circle",style:{stroke:null,r:4,fill:t.color}}}}),zn("violin","hollow",{draw:function(t,e){var n=Ei(t,!0,!1),path=this.parsePath(ki(t.points));return e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},n),{path:path})})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:null,stroke:t.color}}}}),zn("violin","hollow-smooth",{draw:function(t,e){var n=Ei(t,!0,!1),path=this.parsePath(Pi(t.points));return e.addShape("path",{attrs:Object(l.a)(Object(l.a)({},n),{path:path})})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:null,stroke:t.color}}}});var Cr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.getLabelValueDir=function(t){var e=t.points;return e[0].y<=e[2].y?1:-1},e.prototype.getLabelOffsetPoint=function(e,n,r){var o,c=t.prototype.getLabelOffsetPoint.call(this,e,n,r),h=this.getCoordinate().isTransposed?"x":"y",f=this.getLabelValueDir(e.mappingData);return Object(l.a)(Object(l.a)({},c),((o={})[h]=c[h]*f,o))},e.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg(),r=e.theme;return Object(h.h)({},n,r.labels,"middle"===t.position?{offset:0}:{},t)},e.prototype.setLabelPosition=function(t,e,n,r){var o,c,l,f,d=this.getCoordinate(),v=d.isTransposed,y=e.points,m=d.convert(y[0]),x=d.convert(y[2]),O=this.getLabelValueDir(e),j=Object(h.z)(e.shape)?e.shape[0]:e.shape;if("funnel"===j||"pyramid"===j){var w=Object(h.q)(e,"nextPoints"),C=Object(h.q)(e,"points");if(w){var M=d.convert(C[0]),S=d.convert(C[1]),A=d.convert(w[0]),T=d.convert(w[1]);v?(o=Math.min(A.y,M.y),l=Math.max(A.y,M.y),c=(S.x+T.x)/2,f=(M.x+A.x)/2):(o=Math.min((S.y+T.y)/2,(M.y+A.y)/2),l=Math.max((S.y+T.y)/2,(M.y+A.y)/2),c=T.x,f=M.x)}else o=Math.min(x.y,m.y),l=Math.max(x.y,m.y),c=x.x,f=m.x}else o=Math.min(x.y,m.y),l=Math.max(x.y,m.y),c=x.x,f=m.x;switch(r){case"right":t.x=c,t.y=(o+l)/2,t.textAlign=Object(h.q)(t,"textAlign",O>0?"left":"right");break;case"left":t.x=f,t.y=(o+l)/2,t.textAlign=Object(h.q)(t,"textAlign",O>0?"left":"right");break;case"bottom":v&&(t.x=(c+f)/2),t.y=l,t.textAlign=Object(h.q)(t,"textAlign","center"),t.textBaseline=Object(h.q)(t,"textBaseline",O>0?"bottom":"top");break;case"middle":v&&(t.x=(c+f)/2),t.y=(o+l)/2,t.textAlign=Object(h.q)(t,"textAlign","center"),t.textBaseline=Object(h.q)(t,"textBaseline","middle");break;case"top":v&&(t.x=(c+f)/2),t.y=o,t.textAlign=Object(h.q)(t,"textAlign","center"),t.textBaseline=Object(h.q)(t,"textBaseline",O>0?"bottom":"top")}},e}(ri),Mr=Cr,Sr=Math.PI/2,Ar=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),n=0;if(Object(h.I)(t))n=t;else if(Object(h.M)(t)&&-1!==t.indexOf("%")){var r=e.getRadius();e.innerRadius>0&&(r*=1-e.innerRadius),n=.01*parseFloat(t)*r}return n},e.prototype.getLabelItems=function(e){var n=t.prototype.getLabelItems.call(this,e),r=this.geometry.getYScale();return Object(h.R)(n,(function(t){if(t&&r){var e=r.scale(Object(h.q)(t.data,r.field));return Object(l.a)(Object(l.a)({},t),{percent:e})}return t}))},e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate();if(t.labelEmit)e=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(n.isTransposed){var r=n.getCenter(),o=t.offset;e=Math.abs(t.x-r.x)<1?"center":t.angle>Math.PI||t.angle<=0?o>0?"left":"right":o>0?"right":"left"}else e="center";return e},e.prototype.getLabelPoint=function(t,e,n){var r,o=1,content=t.content[n];this.isToMiddle(e)?r=this.getMiddlePoint(e.points):(1===t.content.length&&0===n?n=1:0===n&&(o=-1),r=this.getArcPoint(e,n));var c=t.offset*o,l=this.getPointAngle(r),h=t.labelEmit,f=this.getCirclePoint(l,c,r,h);return 0===f.r?f.content="":(f.content=content,f.angle=l,f.color=e.color),f.rotate=t.autoRotate?this.getLabelRotate(l,c,h):t.rotate,f.start={x:r.x,y:r.y},f},e.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),Object(h.z)(t.x)||Object(h.z)(t.y)?{x:Object(h.z)(t.x)?t.x[e]:t.x,y:Object(h.z)(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},e.prototype.getPointAngle=function(t){return wt(this.getCoordinate(),t)},e.prototype.getCirclePoint=function(t,e,n,r){var o=this.getCoordinate(),c=o.getCenter(),h=Ot(o,n);if(0===h)return Object(l.a)(Object(l.a)({},c),{r:h});var f=t;o.isTransposed&&h>e&&!r?f=t+2*Math.asin(e/(2*h)):h+=e;return{x:c.x+h*Math.cos(f),y:c.y+h*Math.sin(f),r:h}},e.prototype.getLabelRotate=function(t,e,n){var r=t+Sr;return n&&(r-=Sr),r&&(r>Sr?r-=Math.PI:r<-Sr&&(r+=Math.PI)),r},e.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,r={x:0,y:0};return Object(h.j)(t,(function(t){r.x+=t.x,r.y+=t.y})),r.x/=n,r.y/=n,r=e.convert(r)},e.prototype.isToMiddle=function(t){return t.x.length>2},e}(ri),Tr=Ar,Br=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultLayout="distribute",e}return Object(l.b)(e,t),e.prototype.getDefaultLabelCfg=function(e,n){var r=t.prototype.getDefaultLabelCfg.call(this,e,n);return Object(h.h)({},r,Object(h.q)(this.geometry.theme,"pieLabels",{}))},e.prototype.getLabelOffset=function(e){return t.prototype.getLabelOffset.call(this,e)||0},e.prototype.getLabelRotate=function(t,e,n){var r;return e<0&&((r=t)>Math.PI/2&&(r-=Math.PI),r<-Math.PI/2&&(r+=Math.PI)),r},e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate().getCenter();return e=t.angle<=Math.PI/2&&t.x>=n.x?"left":"right",t.offset<=0&&(e="right"===e?"left":"right"),e},e.prototype.getArcPoint=function(t){return t},e.prototype.getPointAngle=function(t){var e,n=this.getCoordinate(),r={x:Object(h.z)(t.x)?t.x[0]:t.x,y:t.y[0]},o={x:Object(h.z)(t.x)?t.x[1]:t.x,y:t.y[1]},c=wt(n,r);if(t.points&&t.points[0].y===t.points[1].y)e=c;else{var l=wt(n,o);c>=l&&(l+=2*Math.PI),e=c+(l-c)/2}return e},e.prototype.getCirclePoint=function(t,e){var n=this.getCoordinate(),r=n.getCenter(),o=n.getRadius()+e;return Object(l.a)(Object(l.a)({},ut(r.x,r.y,o,t)),{angle:t,r:o})},e}(Tr),kr=Br;function Pr(t,e,n){var r=t.filter((function(t){return!t.invisible}));r.sort((function(a,b){return a.y-b.y}));var i,o=!0,c=n.minY,l=n.maxY,h=Math.abs(c-l),f=0,d=Number.MIN_VALUE,v=r.map((function(label){return label.y>f&&(f=label.y),label.y<d&&(d=label.y),{content:label.content,size:e,targets:[label.y-c],pos:null}}));for(d-=c,f-c>h&&(h=f-c);o;)for(v.forEach((function(t){var e=(Math.min.apply(d,t.targets)+Math.max.apply(d,t.targets))/2;t.pos=Math.min(Math.max(d,e-t.size/2),h-t.size),t.pos=Math.max(0,t.pos)})),o=!1,i=v.length;i--;)if(i>0){var y=v[i-1],m=v[i];y.pos+y.size>m.pos&&(y.size+=m.size,y.targets=y.targets.concat(m.targets),y.pos+y.size>h&&(y.pos=h-y.size),v.splice(i,1),o=!0)}i=0,v.forEach((function(b){var t=c+e/2;b.targets.forEach((function(){r[i].y=b.pos+t,t+=e,i++}))}))}var Er=function(){function t(t){void 0===t&&(t={}),this.bitmap={};var e=t.xGap,n=void 0===e?1:e,r=t.yGap,o=void 0===r?8:r;this.xGap=n,this.yGap=o}return t.prototype.hasGap=function(t){for(var e=!0,n=this.bitmap,r=Math.round(t.minX),o=Math.round(t.maxX),c=Math.round(t.minY),l=Math.round(t.maxY),i=r;i<=o;i+=1)if(n[i]){if(i===r||i===o){for(var h=c;h<=l;h++)if(n[i][h]){e=!1;break}}else if(n[i][c]||n[i][l]){e=!1;break}}else n[i]={};return e},t.prototype.fillGap=function(t){for(var e=this.bitmap,n=Math.round(t.minX),r=Math.round(t.maxX),o=Math.round(t.minY),c=Math.round(t.maxY),i=n;i<=r;i+=1)e[i]||(e[i]={});for(i=n;i<=r;i+=this.xGap){for(var l=o;l<=c;l+=this.yGap)e[i][l]=!0;e[i][c]=!0}if(1!==this.yGap)for(i=o;i<=c;i+=1)e[n][i]=!0,e[r][i]=!0;if(1!==this.xGap)for(i=n;i<=r;i+=1)e[i][o]=!0,e[i][c]=!0},t.prototype.destroy=function(){this.bitmap={}},t}();function Lr(label,t,e,n){var r=label.getCanvasBBox(),o=r.width,c=r.height,l={x:t,y:e,textAlign:"center"};switch(n){case 0:l.y-=c+1,l.x+=1,l.textAlign="left";break;case 1:l.y-=c+1,l.x-=1,l.textAlign="right";break;case 2:l.y+=c+1,l.x-=1,l.textAlign="right";break;case 3:l.y+=c+1,l.x+=1,l.textAlign="left";break;case 5:l.y-=2*c+2;break;case 6:l.y+=2*c+2;break;case 7:l.x+=o+1,l.textAlign="left";break;case 8:l.x-=o+1,l.textAlign="right"}return label.attr(l),label.getCanvasBBox()}var Ir=W.c.dot;function Fr(t){if(t.length>4)return[];var e=function(t,e){return[e.x-t.x,e.y-t.y]};return[e(t[0],t[1]),e(t[1],t[2])]}function Dr(t,e,n){void 0===e&&(e=0),void 0===n&&(n={x:0,y:0});var r=t.x,o=t.y;return{x:(r-n.x)*Math.cos(-e)+(o-n.y)*Math.sin(-e)+n.x,y:(n.x-r)*Math.sin(-e)+(o-n.y)*Math.cos(-e)+n.y}}function Rr(t){var e=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=t.rotation;return n?[Dr(e[0],n,e[0]),Dr(e[1],n,e[0]),Dr(e[2],n,e[0]),Dr(e[3],n,e[0])]:e}function _r(t,e){if(t.length>4)return{min:0,max:0};var n=[];return t.forEach((function(t){n.push(Ir([t.x,t.y],e))})),{min:Math.min.apply(Math,n),max:Math.max.apply(Math,n)}}function Yr(t,e){return t.max>e.min&&t.min<e.max}function Gr(t,e){if(!t.rotation&&!e.rotation)return function(t,e,n){return void 0===n&&(n=0),!(e.x>t.x+t.width+n||e.x+e.width<t.x-n||e.y>t.y+t.height+n||e.y+e.height<t.y-n)}(t,e);for(var n=Rr(t),r=Rr(e),o=Object(l.d)(Object(l.d)([],Fr(n),!0),Fr(r),!0),i=0;i<o.length;i++){var c=o[i];if(!Yr(_r(n,c),_r(r,c)))return!1}return!0}var zr,Xr={"#5B8FF9":!0};function Nr(t,e,n){return!!t.getAdjust("stack")||e.every((function(label,e){var r=n[e];return function(t,label,e){var n=t.coordinate,r=Qn(label),o=bt.fromObject(r.getCanvasBBox()),c=bt.fromObject(e.getBBox());return n.isTransposed?c.height>=o.height:c.width>=o.width}(t,label,r)}))}function Hr(t,e,n){return t.some((function(t){return n(t,e)}))}function Vr(t,e){return Hr(t,e,(function(t,e){var a,b,n,r=Qn(t),o=Qn(e);return a=r.getCanvasBBox(),b=o.getCanvasBBox(),void 0===(n=2)&&(n=0),Math.max(0,Math.min(a.x+a.width+n,b.x+b.width+n)-Math.max(a.x-n,b.x-n))*Math.max(0,Math.min(a.y+a.height+n,b.y+b.height+n)-Math.max(a.y-n,b.y-n))>0}))}function qr(t,e,n){return t.some((function(t){return n(t,e)}))}function Wr(t,e){return qr(t,e,(function(t,e){var a,b,n,r=Qn(t),o=Qn(e);return a=r.getCanvasBBox(),b=o.getCanvasBBox(),void 0===(n=2)&&(n=0),Math.max(0,Math.min(a.x+a.width+n,b.x+b.width+n)-Math.max(a.x-n,b.x-n))*Math.max(0,Math.min(a.y+a.height+n,b.y+b.height+n)-Math.max(a.y-n,b.y-n))>0}))}var Ur=Object(h.U)((function(text,t){void 0===t&&(t={});var e=t.fontSize,n=t.fontFamily,r=t.fontWeight,o=t.fontStyle,c=t.fontVariant,l=(zr||(zr=document.createElement("canvas").getContext("2d")),zr);return l.font=[o,c,r,e+"px",n].join(" "),l.measureText(Object(h.M)(text)?text:"").width}),(function(text,t){return void 0===t&&(t={}),Object(l.d)([text],Object(h.ob)(t),!0).join("")}));function Zr(element,t,e,n,r){var o,c,l=e.start,h=e.end,f=e.getWidth(),d=e.getHeight();"y"===r?(o=l.x+f/2,c=n.y<l.y?n.y:l.y):"x"===r?(o=n.x>l.x?n.x:l.x,c=l.y+d/2):"xy"===r&&(e.isPolar?(o=e.getCenter().x,c=e.getCenter().y):(o=(l.x+h.x)/2,c=(l.y+h.y)/2));var v=function(t,e,n){var r,o=e[0],c=e[1];return t.applyToMatrix([o,c,1]),"x"===n?(t.setMatrix(W.a.transform(t.getMatrix(),[["t",-o,-c],["s",.01,1],["t",o,c]])),r=W.a.transform(t.getMatrix(),[["t",-o,-c],["s",100,1],["t",o,c]])):"y"===n?(t.setMatrix(W.a.transform(t.getMatrix(),[["t",-o,-c],["s",1,.01],["t",o,c]])),r=W.a.transform(t.getMatrix(),[["t",-o,-c],["s",1,100],["t",o,c]])):"xy"===n&&(t.setMatrix(W.a.transform(t.getMatrix(),[["t",-o,-c],["s",.01,.01],["t",o,c]])),r=W.a.transform(t.getMatrix(),[["t",-o,-c],["s",100,100],["t",o,c]])),r}(element,[o,c],r);element.animate({matrix:v},t)}function Kr(t,e){var n,r=Object(Mi.getArcParams)(t,e),o=r.startAngle,c=r.endAngle;return!Object(h.J)(o,.5*-Math.PI)&&o<.5*-Math.PI&&(o+=2*Math.PI),!Object(h.J)(c,.5*-Math.PI)&&c<.5*-Math.PI&&(c+=2*Math.PI),0===e[5]&&(o=(n=[c,o])[0],c=n[1]),Object(h.J)(o,1.5*Math.PI)&&(o=-.5*Math.PI),Object(h.J)(c,-.5*Math.PI)&&(c=1.5*Math.PI),{startAngle:o,endAngle:c}}function Qr(path){var t;return"M"===path[0]||"L"===path[0]?t=[path[1],path[2]]:"a"!==path[0]&&"A"!==path[0]&&"C"!==path[0]||(t=[path[path.length-2],path[path.length-1]]),t}function Jr(path){var t,e,n,r=path.filter((function(t){return"A"===t[0]||"a"===t[0]}));if(0===r.length)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var o=r[0],c=r.length>1?r[1]:r[0],l=path.indexOf(o),f=path.indexOf(c),d=Qr(path[l-1]),v=Qr(path[f-1]),y=Kr(d,o),m=y.startAngle,x=y.endAngle,O=Kr(v,c),j=O.startAngle,w=O.endAngle;Object(h.J)(m,j)&&Object(h.J)(x,w)?(e=m,n=x):(e=Math.min(m,j),n=Math.max(x,w));var C=o[1],M=r[r.length-1][1];return C<M?(C=(t=[M,C])[0],M=t[1]):C===M&&(M=0),{startAngle:e,endAngle:n,radius:C,innerRadius:M}}function $r(t,e,n){if(t.isGroup())Object(h.j)(t.getChildren(),(function(t){$r(t,e,n)}));else{var r=t.getBBox(),o=(r.minX+r.maxX)/2,c=(r.minY+r.maxY)/2;if(t.applyToMatrix([o,c,1]),"zoomIn"===n){var f=W.a.transform(t.getMatrix(),[["t",-o,-c],["s",.01,.01],["t",o,c]]);t.setMatrix(f),t.animate({matrix:W.a.transform(t.getMatrix(),[["t",-o,-c],["s",100,100],["t",o,c]])},e)}else t.animate({matrix:W.a.transform(t.getMatrix(),[["t",-o,-c],["s",.01,.01],["t",o,c]])},Object(l.a)(Object(l.a)({},e),{callback:function(){t.remove(!0)}}))}}function to(t){return[o.TOP,o.BOTTOM].includes(t)?{offsetX:0,offsetY:t===o.TOP?-8:8,style:{textAlign:"center",textBaseline:t===o.TOP?"bottom":"top"}}:[o.LEFT,o.RIGHT].includes(t)?{offsetX:t===o.LEFT?-8:8,offsetY:0,style:{textAlign:t===o.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function eo(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}var no=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.getDefaultCfg=function(){return Object(h.h)({},t.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(t,e){var n=2*Math.PI/t,r=-1*Math.PI/2+n*e,o=.5/(1+1/Math.sin(n/2)),c=eo({x:.5,y:.5},.5-o,r),l=5*Math.PI/4,h=1*Math.PI/4;return{start:eo(c,o,l),end:eo(c,o,h)}},e.prototype.afterEachView=function(view,t){this.processAxis(view,t)},e.prototype.beforeEachView=function(view,t){},e.prototype.generateFacets=function(data){var t=this,e=this.cfg,n=e.fields,r=e.type,o=n[0];if(!o)throw new Error("No `fields` specified!");var c=this.getFieldValues(data,o),l=c.length,f=[];return c.forEach((function(e,n){var d=[{field:o,value:e,values:c}],v=Object(h.l)(data,t.getFacetDataFilter(d)),y={type:r,data:v,region:t.getRegion(l,n),columnValue:e,columnField:o,columnIndex:n,columnValuesLength:l,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};f.push(y)})),f},e.prototype.getXAxisOption=function(t,e,option,n){return option},e.prototype.getYAxisOption=function(t,e,option,n){return option},e.prototype.renderTitle=function(){var t=this;Object(h.j)(this.facets,(function(e){var n=e.columnValue,view=e.view,r=Object(h.q)(t.cfg.title,"formatter"),c=Object(h.h)({position:["50%","0%"],content:r?r(n):n},to(o.TOP),t.cfg.title);view.annotation().text(c)}))},e}(_t),circle=no,io=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.getDefaultCfg=function(){return Object(h.h)({},t.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(view,t){this.processAxis(view,t)},e.prototype.beforeEachView=function(view,t){},e.prototype.generateFacets=function(data){var t=this,e=this.cfg.fields,n=this.cfg.cols,r=e[0];if(!r)throw new Error("No `fields` specified!");var o=this.getFieldValues(data,r),c=o.length;n=n||c;var l=this.getPageCount(c,n),f=[];return o.forEach((function(e,d){var v=t.getRowCol(d,n),y=v.row,col=v.col,m=[{field:r,value:e,values:o}],x=Object(h.l)(data,t.getFacetDataFilter(m)),O={type:t.cfg.type,data:x,region:t.getRegion(l,n,col,y),columnValue:e,rowValue:e,columnField:r,rowField:null,columnIndex:col,rowIndex:y,columnValuesLength:n,rowValuesLength:l,total:c};f.push(O)})),f},e.prototype.getXAxisOption=function(t,e,option,n){return n.rowIndex!==n.rowValuesLength-1&&n.columnValuesLength*n.rowIndex+n.columnIndex+1+n.columnValuesLength<=n.total?Object(l.a)(Object(l.a)({},option),{label:null,title:null}):option},e.prototype.getYAxisOption=function(t,e,option,n){return 0!==n.columnIndex?Object(l.a)(Object(l.a)({},option),{title:null,label:null}):option},e.prototype.renderTitle=function(){var t=this;Object(h.j)(this.facets,(function(e){var n=e.columnValue,view=e.view,r=Object(h.q)(t.cfg.title,"formatter"),c=Object(h.h)({position:["50%","0%"],content:r?r(n):n},to(o.TOP),t.cfg.title);view.annotation().text(c)}))},e.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},e.prototype.getRowCol=function(t,e){return{row:Math.floor(t/e),col:t%e}},e}(_t),ro=io,oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.getDefaultCfg=function(){return Object(h.h)({},t.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:Object(l.a)({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(l.a)({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(view,t){this.processAxis(view,t)},e.prototype.beforeEachView=function(view,t){},e.prototype.generateFacets=function(data){for(var t=this.cfg,e=t.fields,n=t.type,r=e.length,o=r,c=[],i=0;i<o;i++)for(var l=e[i],h=0;h<r;h++){var f=e[h],d={type:n,data:data,region:this.getRegion(r,o,i,h),columnValue:l,rowValue:f,columnField:l,rowField:f,columnIndex:i,rowIndex:h,columnValuesLength:o,rowValuesLength:r};c.push(d)}return c},e.prototype.getXAxisOption=function(t,e,option,n){return n.rowIndex!==n.rowValuesLength-1?Object(l.a)(Object(l.a)({},option),{label:null,title:null}):option},e.prototype.getYAxisOption=function(t,e,option,n){return 0!==n.columnIndex?Object(l.a)(Object(l.a)({},option),{title:null,label:null}):option},e.prototype.renderTitle=function(){var t=this;Object(h.j)(this.facets,(function(e,n){var r=e.columnIndex,c=e.rowIndex,l=e.columnValuesLength,f=(e.rowValuesLength,e.columnValue),d=e.rowValue,view=e.view;if(0===c){var v=Object(h.q)(t.cfg.columnTitle,"formatter"),y=Object(h.h)({position:["50%","0%"],content:v?v(f):f},to(o.TOP),t.cfg.columnTitle);view.annotation().text(y)}if(r===l-1){v=Object(h.q)(t.cfg.rowTitle,"formatter"),y=Object(h.h)({position:["100%","50%"],content:v?v(d):d},to(o.RIGHT),t.cfg.rowTitle);view.annotation().text(y)}}))},e}(_t),ao=oo,so=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.getDefaultCfg=function(){return Object(h.h)({},t.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(view,t){this.cfg.transpose?t.columnIndex%2==0?view.coordinate().transpose().reflect("x"):view.coordinate().transpose():t.rowIndex%2!=0&&view.coordinate().reflect("y")},e.prototype.afterEachView=function(view,t){this.processAxis(view,t)},e.prototype.generateFacets=function(data){var t,e,n=this,r=this.cfg.fields[0],o=[],c=1,l=1,f=[""],d=[""];return this.cfg.transpose?(t=r,f=this.getFieldValues(data,t).slice(0,2),c=f.length):(e=r,d=this.getFieldValues(data,e).slice(0,2),l=d.length),f.forEach((function(r,v){d.forEach((function(y,m){var x=[{field:t,value:r,values:f},{field:e,value:y,values:d}],O=Object(h.l)(data,n.getFacetDataFilter(x)),j={type:n.cfg.type,data:O,region:n.getRegion(l,c,v,m),columnValue:r,rowValue:y,columnField:t,rowField:e,columnIndex:v,rowIndex:m,columnValuesLength:c,rowValuesLength:l};o.push(j)}))})),o},e.prototype.getXAxisOption=function(t,e,option,n){return 1===n.columnIndex||1===n.rowIndex?Object(l.a)(Object(l.a)({},option),{label:null,title:null}):option},e.prototype.getYAxisOption=function(t,e,option,n){return option},e.prototype.renderTitle=function(){var t=this;Object(h.j)(this.facets,(function(e,n){var r=e.columnValue,c=e.rowValue,view=e.view,l=Object(h.q)(t.cfg.title,"formatter");if(t.cfg.transpose){var f=Object(h.h)({position:["50%","0%"],content:l?l(r):r},to(o.TOP),t.cfg.title);view.annotation().text(f)}else{f=Object(h.h)({position:["100%","50%"],content:l?l(c):c},to(o.RIGHT),t.cfg.title);view.annotation().text(f)}}))},e}(_t),co=so,lo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.afterEachView=function(view,t){this.processAxis(view,t)},e.prototype.beforeEachView=function(view,t){},e.prototype.getDefaultCfg=function(){return Object(h.h)({},t.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:Object(l.a)({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(l.a)({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(data){var t=this,e=this.cfg.fields,n=e[0],r=e[1],o=[],c=1,l=1,f=[""],d=[""];return n&&(f=this.getFieldValues(data,n),c=f.length),r&&(d=this.getFieldValues(data,r),l=d.length),f.forEach((function(e,v){d.forEach((function(y,m){var x=[{field:n,value:e,values:f},{field:r,value:y,values:d}],O=Object(h.l)(data,t.getFacetDataFilter(x)),j={type:t.cfg.type,data:O,region:t.getRegion(l,c,v,m),columnValue:e,rowValue:y,columnField:n,rowField:r,columnIndex:v,rowIndex:m,columnValuesLength:c,rowValuesLength:l};o.push(j)}))})),o},e.prototype.renderTitle=function(){var t=this;Object(h.j)(this.facets,(function(e,n){var r=e.columnIndex,c=e.rowIndex,l=e.columnValuesLength,f=e.columnValue,d=e.rowValue,view=e.view;if(0===c){var v=Object(h.q)(t.cfg.columnTitle,"formatter"),y=Object(h.h)({position:["50%","0%"],content:v?v(f):f},to(o.TOP),t.cfg.columnTitle);view.annotation().text(y)}if(r===l-1){v=Object(h.q)(t.cfg.rowTitle,"formatter"),y=Object(h.h)({position:["100%","50%"],content:v?v(d):d},to(o.RIGHT),t.cfg.rowTitle);view.annotation().text(y)}}))},e.prototype.getXAxisOption=function(t,e,option,n){return n.rowIndex!==n.rowValuesLength-1?Object(l.a)(Object(l.a)({},option),{title:null,label:null}):n.columnIndex!==Math.floor((n.columnValuesLength-1)/2)?Object(l.a)(Object(l.a)({},option),{title:null}):option},e.prototype.getYAxisOption=function(t,e,option,n){return 0!==n.columnIndex?Object(l.a)(Object(l.a)({},option),{title:null,label:null}):n.rowIndex!==Math.floor((n.rowValuesLength-1)/2)?Object(l.a)(Object(l.a)({},option),{title:null}):option},e}(_t),rect=lo,uo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.afterChartRender=function(){e.facets&&e.cfg.line&&(e.container.clear(),e.drawLines(e.facets))},e}return Object(l.b)(e,t),e.prototype.afterEachView=function(view,t){this.processAxis(view,t)},e.prototype.beforeEachView=function(view,t){},e.prototype.init=function(){t.prototype.init.call(this),this.view.on(f.AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return Object(h.h)({},t.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(data){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var t=[],e={type:this.cfg.type,data:data,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return t.push(e),e.children=this.getChildFacets(data,1,t),this.setRegion(t),t},e.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach((function(t){t.region=e.getRegion(t.rowValuesLength,t.columnValuesLength,t.columnIndex,t.rowIndex)}))},e.prototype.getRegion=function(t,e,n,r){var o=1/e,c=1/t,l={x:o*n,y:c*r};return{start:l,end:{x:l.x+o,y:l.y+2*c/3}}},e.prototype.forceColIndex=function(t){var e=this,n=[],r=0;t.forEach((function(t){e.isLeaf(t)&&(n.push(t),t.columnIndex=r,r++)})),n.forEach((function(t){t.columnValuesLength=n.length}));for(var i=this.cfg.fields.length-1;i>=0;i--)for(var o=0,c=this.getFacetsByLevel(t,i);o<c.length;o++){var l=c[o];this.isLeaf(l)||(l.originColIndex=l.columnIndex,l.columnIndex=this.getRegionIndex(l.children),l.columnValuesLength=n.length)}},e.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach((function(t){t.rowIndex===e&&n.push(t)})),n},e.prototype.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].columnIndex-e.columnIndex)/2+e.columnIndex},e.prototype.isLeaf=function(t){return!t.children||!t.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(data,t,e){var n=this,r=this.cfg.fields;if(!(r.length<t)){var o=[],c=r[t-1],l=this.getFieldValues(data,c);return l.forEach((function(r,h){var f=[{field:c,value:r,values:l}],d=data.filter(n.getFacetDataFilter(f));if(d.length){var v={type:n.cfg.type,data:d,region:null,columnValue:r,rowValue:"",columnField:c,rowField:"",columnIndex:h,rowValuesLength:n.getRows(),columnValuesLength:1,rowIndex:t,children:n.getChildFacets(d,t+1,e)};o.push(v),e.push(v)}})),o}},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var t=this;Object(h.j)(this.facets,(function(e){var n=e.columnValue,view=e.view,r=Object(h.q)(t.cfg.title,"formatter"),c=Object(h.h)({position:["50%","0%"],content:r?r(n):n},to(o.TOP),t.cfg.title);view.annotation().text(c)}))},e.prototype.drawLines=function(t){var e=this;t.forEach((function(t){if(!e.isLeaf(t)){var n=t.children;e.addFacetLines(t,n)}}))},e.prototype.addFacetLines=function(t,e){var n=this,r=t.view.coordinateBBox,o={x:r.x+r.width/2,y:r.y+r.height};e.forEach((function(t){var e=t.view.coordinateBBox,r={x:e.bl.x+(e.tr.x-e.bl.x)/2,y:e.tr.y},c={x:o.x,y:o.y+(r.y-o.y)/2},l={x:r.x,y:c.y};n.drawLine([o,c,l,r])}))},e.prototype.getPath=function(t){var path=[];return this.cfg.line.smooth?(path.push(["M",t[0].x,t[0].y]),path.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach((function(t,e){0===e?path.push(["M",t.x,t.y]):path.push(["L",t.x,t.y])})),path},e.prototype.drawLine=function(t){var path=this.getPath(t),line=this.cfg.line.style;this.container.addShape("path",{attrs:Object(h.b)({path:path},line)})},e.prototype.getXAxisOption=function(t,e,option,n){return n.rowIndex!==n.rowValuesLength-1?Object(l.a)(Object(l.a)({},option),{title:null,label:null}):option},e.prototype.getYAxisOption=function(t,e,option,n){return 0!==n.originColIndex&&0!==n.columnIndex?Object(l.a)(Object(l.a)({},option),{title:null,label:null}):option},e}(_t),ho=uo;function po(t){var e=Object(l.d)([],t,!0);e.sort((function(a,b){return a-b}));var n=e.length;return 0===n?0:n%2==1?e[(n-1)/2]:(e[n/2]+e[n/2-1])/2}function fo(t,e){if(!e)return null;var n,r,o;switch(t){case"start":return 0;case"center":return.5;case"end":return 1;case"median":n=e.isCategory?po(e.values.map((function(t,e){return e}))):po(e.values);break;case"mean":n=e.isCategory?(e.values.length-1)/2:(r=e.values,o=Object(h.ab)(r,(function(t,e){return t+(isNaN(e)||!Object(h.I)(e)?0:e)}),0),0===r.length?0:o/r.length);break;case"min":n=e.isCategory?0:e[t];break;case"max":n=e.isCategory?e.values.length-1:e[t];break;default:n=t}return e.scale(n)}var go=["regionFilter","shape"],vo=function(t){function e(view){var e=t.call(this,view)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(r.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(r.BG).addGroup(),e.option=[],e}return Object(l.b)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){this.update()},e.prototype.render=function(){},e.prototype.update=function(){var t=this;this.onAfterRender((function(){var e=new Map;Object(h.j)(t.option,(function(option){if(Object(h.x)(go,option.type)){var n=t.updateOrCreate(option);n&&e.set(t.getCacheKey(option),n)}})),t.cache=t.syncCache(e)}));var e=new Map;Object(h.j)(this.option,(function(option){if(!Object(h.x)(go,option.type)){var n=t.updateOrCreate(option);n&&e.set(t.getCacheKey(option),n)}})),this.cache=this.syncCache(e)},e.prototype.clear=function(e){void 0===e&&(e=!1),t.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),e&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.clearComponents=function(){this.getComponents().forEach((function(t){t.component.destroy()})),this.cache.clear()},e.prototype.onAfterRender=function(t){this.view.getOptions().animate?this.view.geometries.forEach((function(g){g.animateOption&&g.once(d.AFTER_DRAW_ANIMATE,(function(){t()}))})):this.view.getRootView().once(f.AFTER_RENDER,(function(){t()}))},e.prototype.createAnnotation=function(option){var t=option.type,e=et.Annotation[Object(h.nb)(t)];if(e){var n=this.getAnnotationTheme(t),l=this.getAnnotationCfg(t,option,n);return{component:new e(l),layer:this.isTop(l)?r.FORE:r.BG,direction:o.NONE,type:c.ANNOTATION,extra:option}}},e.prototype.annotation=function(option){this.option.push(option)},e.prototype.arc=function(option){return this.annotation(Object(l.a)({type:"arc"},option)),this},e.prototype.image=function(option){return this.annotation(Object(l.a)({type:"image"},option)),this},e.prototype.line=function(option){return this.annotation(Object(l.a)({type:"line"},option)),this},e.prototype.region=function(option){return this.annotation(Object(l.a)({type:"region"},option)),this},e.prototype.text=function(option){return this.annotation(Object(l.a)({type:"text"},option)),this},e.prototype.dataMarker=function(option){return this.annotation(Object(l.a)({type:"dataMarker"},option)),this},e.prototype.dataRegion=function(option){this.annotation(Object(l.a)({type:"dataRegion"},option))},e.prototype.regionFilter=function(option){this.annotation(Object(l.a)({type:"regionFilter"},option))},e.prototype.shape=function(option){this.annotation(Object(l.a)({type:"shape"},option))},e.prototype.html=function(option){this.annotation(Object(l.a)({type:"html"},option))},e.prototype.parsePosition=function(p){var t=this.view.getXScale(),e=this.view.getScalesByDim("y"),n=Object(h.F)(p)?p.call(null,t,e):p,r=0,o=0;if(Object(h.z)(n)){var c=n[0],l=n[1];if(Object(h.M)(c)&&-1!==c.indexOf("%")&&!isNaN(c.slice(0,-1)))return this.parsePercentPosition(n);r=fo(c,t),o=fo(l,Object.values(e)[0])}else if(!Object(h.G)(n))for(var f=0,d=Object(h.O)(n);f<d.length;f++){var v=d[f],y=n[v];v===t.field&&(r=fo(y,t)),e[v]&&(o=fo(y,e[v]))}return this.view.getCoordinate().convert({x:r,y:o})},e.prototype.getRegionPoints=function(t,e){var n,r=this,o=this.view.getXScale(),c=this.view.getScalesByDim("y"),l=Object.values(c)[0],f=o.field,d=this.view.getData(),v=Object(h.z)(t)?t[0]:t[f],y=Object(h.z)(e)?e[0]:e[f],m=[];return Object(h.j)(d,(function(t,e){if(t[f]===v&&(n=e),e>=n){var o=r.parsePosition([t[f],t[l.field]]);o&&m.push(o)}if(t[f]===y)return!1})),m},e.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,r=this.view.getCoordinate(),o=r.start,c=r.end,l=Math.min(o.x,c.x),h=Math.min(o.y,c.y);return{x:r.getWidth()*e+l,y:r.getHeight()*n+h}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,r=t.getWidth(),o=t.getHeight(),c={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:c.x,y:c.y,minX:c.x,minY:c.y,maxX:c.x+r,maxY:c.y+o,width:r,height:o}},e.prototype.getAnnotationCfg=function(t,option,e){var n=this,r=this.view.getCoordinate(),canvas=this.view.getCanvas(),o={};if(Object(h.G)(option))return null;if("arc"===t){var c=option,f=c.start,d=c.end,v=Object(l.c)(c,["start","end"]),y=this.parsePosition(f),m=this.parsePosition(d),x=wt(r,y),O=wt(r,m);x>O&&(O=2*Math.PI+O),o=Object(l.a)(Object(l.a)({},v),{center:r.getCenter(),radius:Ot(r,y),startAngle:x,endAngle:O})}else if("image"===t){var j=option;f=j.start,d=j.end,v=Object(l.c)(j,["start","end"]);o=Object(l.a)(Object(l.a)({},v),{start:this.parsePosition(f),end:this.parsePosition(d),src:option.src})}else if("line"===t){var w=option;f=w.start,d=w.end,v=Object(l.c)(w,["start","end"]);o=Object(l.a)(Object(l.a)({},v),{start:this.parsePosition(f),end:this.parsePosition(d),text:Object(h.q)(option,"text",null)})}else if("region"===t){var C=option;f=C.start,d=C.end,v=Object(l.c)(C,["start","end"]);o=Object(l.a)(Object(l.a)({},v),{start:this.parsePosition(f),end:this.parsePosition(d)})}else if("text"===t){var M=this.view.getData(),S=option,A=S.position,content=S.content,T=(v=Object(l.c)(S,["position","content"]),content);Object(h.F)(content)&&(T=content(M)),o=Object(l.a)(Object(l.a)(Object(l.a)({},this.parsePosition(A)),v),{content:T})}else if("dataMarker"===t){var B=option,k=(A=B.position,B.point),line=B.line,text=B.text,P=B.autoAdjust,E=B.direction;v=Object(l.c)(B,["position","point","line","text","autoAdjust","direction"]);o=Object(l.a)(Object(l.a)(Object(l.a)({},v),this.parsePosition(A)),{coordinateBBox:this.getCoordinateBBox(),point:k,line:line,text:text,autoAdjust:P,direction:E})}else if("dataRegion"===t){var L=option,I=(f=L.start,d=L.end,L.region),F=(text=L.text,L.lineLength);v=Object(l.c)(L,["start","end","region","text","lineLength"]);o=Object(l.a)(Object(l.a)({},v),{points:this.getRegionPoints(f,d),region:I,text:text,lineLength:F})}else if("regionFilter"===t){var D=option,R=(f=D.start,d=D.end,D.apply),_=D.color,Y=(v=Object(l.c)(D,["start","end","apply","color"]),this.view.geometries),G=[],z=function(t){t&&(t.isGroup()?t.getChildren().forEach((function(t){return z(t)})):G.push(t))};Object(h.j)(Y,(function(t){R?Object(h.f)(R,t.type)&&Object(h.j)(t.elements,(function(t){z(t.shape)})):Object(h.j)(t.elements,(function(t){z(t.shape)}))})),o=Object(l.a)(Object(l.a)({},v),{color:_,shapes:G,start:this.parsePosition(f),end:this.parsePosition(d)})}else if("shape"===t){var X=option,N=X.render,H=Object(l.c)(X,["render"]);o=Object(l.a)(Object(l.a)({},H),{render:function(t){if(Object(h.F)(option.render))return N(t,n.view,{parsePosition:n.parsePosition.bind(n)})}})}else if("html"===t){var V=option,W=V.html;A=V.position,H=Object(l.c)(V,["html","position"]);o=Object(l.a)(Object(l.a)(Object(l.a)({},H),this.parsePosition(A)),{parent:canvas.get("el").parentNode,html:function(t){return Object(h.F)(W)?W(t,n.view):W}})}var U=Object(h.h)({},e,Object(l.a)(Object(l.a)({},o),{top:option.top,style:option.style,offsetX:option.offsetX,offsetY:option.offsetY}));return"html"!==t&&(U.container=this.getComponentContainer(U)),U.animate=this.view.getOptions().animate&&U.animate&&Object(h.q)(option,"animate",U.animate),U.animateOption=Object(h.h)({},Sn,U.animateOption,option.animateOption),U},e.prototype.isTop=function(option){return Object(h.q)(option,"top",!0)},e.prototype.getComponentContainer=function(option){return this.isTop(option)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return Object(h.q)(this.view.getTheme(),["components","annotation",t],{})},e.prototype.updateOrCreate=function(option){var t=this.cache.get(this.getCacheKey(option));if(t){var e=option.type,n=this.getAnnotationTheme(e),r=this.getAnnotationCfg(e,option,n);yt(r,["container"]),t.component.update(r),Object(h.x)(go,option.type)&&t.component.render()}else(t=this.createAnnotation(option))&&(t.component.init(),Object(h.x)(go,option.type)&&t.component.render());return t},e.prototype.syncCache=function(t){var e=this,n=new Map(this.cache);return t.forEach((function(t,e){n.set(e,t)})),n.forEach((function(t,r){Object(h.m)(e.option,(function(option){return r===e.getCacheKey(option)}))||(t.component.destroy(),n.delete(r))})),n},e.prototype.getCacheKey=function(option){return option},e}(xn),yo=vo;function mo(t,e){var n=Object(h.h)({},Object(h.q)(t,["components","axis","common"]),Object(h.q)(t,["components","axis",e]));return Object(h.q)(n,["grid"],{})}function bo(t,e,n,r){var o=[],c=e.getTicks();return t.isPolar&&c.push({value:1,text:"",tickValue:""}),c.reduce((function(e,c,l){var h=c.value;if(r)o.push({points:[t.convert("y"===n?{x:0,y:h}:{x:h,y:0}),t.convert("y"===n?{x:1,y:h}:{x:h,y:1})]});else if(l){var f=(e.value+h)/2;o.push({points:[t.convert("y"===n?{x:0,y:f}:{x:f,y:0}),t.convert("y"===n?{x:1,y:f}:{x:f,y:1})]})}return c}),c[0]),o}function xo(t,e,n,r,o){var c=e.values.length,l=[],f=n.getTicks();return f.reduce((function(e,n){var f=e?e.value:n.value,d=n.value,v=(f+d)/2;return"x"===o?l.push({points:[t.convert({x:r?d:v,y:0}),t.convert({x:r?d:v,y:1})]}):l.push({points:Object(h.R)(Array(c+1),(function(e,n){return t.convert({x:n/c,y:r?d:v})}))}),n}),f[0]),l}function Oo(t,e){var n=Object(h.q)(e,"grid");if(null===n)return!1;var r=Object(h.q)(t,"grid");return!(void 0===n&&null===r)}var jo=["container"],wo=Object(l.a)(Object(l.a)({},Sn),{appear:null}),Co=function(t){function e(view){var e=t.call(this,view)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(r.BG).addGroup(),e.gridForeContainer=e.view.getLayer(r.FORE).addGroup(),e.axisContainer=e.view.getLayer(r.BG).addGroup(),e.axisForeContainer=e.view.getLayer(r.FORE).addGroup(),e}return Object(l.b)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this,e=this.view.getCoordinate();Object(h.j)(this.getComponents(),(function(n){var r,component=n.component,o=n.direction,l=n.type,h=n.extra,f=h.dim,d=h.scale,v=h.alignTick;if(l===c.AXIS)e.isPolar?"x"===f?r=e.isTransposed?Bt(e,o):It(e):"y"===f&&(r=e.isTransposed?It(e):Bt(e,o)):r=Bt(e,o);else if(l===c.GRID)if(e.isPolar){r={items:e.isTransposed?"x"===f?xo(e,t.view.getYScales()[0],d,v,f):bo(e,d,f,v):"x"===f?bo(e,d,f,v):xo(e,t.view.getXScale(),d,v,f),center:t.view.getCoordinate().getCenter()}}else r={items:bo(e,d,f,v)};component.update(r)}))},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach((function(n,r){t.has(r)?e.set(r,n):n.component.destroy()})),this.cache=e},e.prototype.clear=function(){t.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var n=Ft(this.option,e.field);if(!1!==n){var c=Dt(n,o.BOTTOM),l=r.BG,f="x",d=this.view.getCoordinate(),v=this.getId("axis",e.field),y=this.getId("grid",e.field);if(d.isRect){if(m=this.cache.get(v))yt(O=this.getLineAxisCfg(e,n,c),jo),m.component.update(O),t.set(v,m);else m=this.createLineAxis(e,n,l,c,f),this.cache.set(v,m),t.set(v,m);if(x=this.cache.get(y))yt(O=this.getLineGridCfg(e,n,c,f),jo),x.component.update(O),t.set(y,x);else(x=this.createLineGrid(e,n,l,c,f))&&(this.cache.set(y,x),t.set(y,x))}else if(d.isPolar){var m,x;if(m=this.cache.get(v)){yt(O=d.isTransposed?this.getLineAxisCfg(e,n,o.RADIUS):this.getCircleAxisCfg(e,n,c),jo),m.component.update(O),t.set(v,m)}else{if(d.isTransposed){if(Object(h.N)(n))return;m=this.createLineAxis(e,n,l,o.RADIUS,f)}else m=this.createCircleAxis(e,n,l,c,f);this.cache.set(v,m),t.set(v,m)}if(x=this.cache.get(y)){var O;yt(O=d.isTransposed?this.getCircleGridCfg(e,n,o.RADIUS,f):this.getLineGridCfg(e,n,o.CIRCLE,f),jo),x.component.update(O),t.set(y,x)}else{if(d.isTransposed){if(Object(h.N)(n))return;x=this.createCircleGrid(e,n,l,o.RADIUS,f)}else x=this.createLineGrid(e,n,l,o.CIRCLE,f);x&&(this.cache.set(y,x),t.set(y,x))}}}}},e.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();Object(h.j)(n,(function(n,c){if(n&&!n.isIdentity){var l=n.field,f=Ft(e.option,l);if(!1!==f){var d=r.BG,v="y",y=e.getId("axis",l),m=e.getId("grid",l),x=e.view.getCoordinate();if(x.isRect){var O=Dt(f,0===c?o.LEFT:o.RIGHT);if(j=e.cache.get(y))yt(C=e.getLineAxisCfg(n,f,O),jo),j.component.update(C),t.set(y,j);else j=e.createLineAxis(n,f,d,O,v),e.cache.set(y,j),t.set(y,j);if(w=e.cache.get(m))yt(C=e.getLineGridCfg(n,f,O,v),jo),w.component.update(C),t.set(m,w);else(w=e.createLineGrid(n,f,d,O,v))&&(e.cache.set(m,w),t.set(m,w))}else if(x.isPolar){var j,w;if(j=e.cache.get(y)){yt(C=x.isTransposed?e.getCircleAxisCfg(n,f,o.CIRCLE):e.getLineAxisCfg(n,f,o.RADIUS),jo),j.component.update(C),t.set(y,j)}else{if(x.isTransposed){if(Object(h.N)(f))return;j=e.createCircleAxis(n,f,d,o.CIRCLE,v)}else j=e.createLineAxis(n,f,d,o.RADIUS,v);e.cache.set(y,j),t.set(y,j)}if(w=e.cache.get(m)){var C;yt(C=x.isTransposed?e.getLineGridCfg(n,f,o.CIRCLE,v):e.getCircleGridCfg(n,f,o.RADIUS,v),jo),w.component.update(C),t.set(m,w)}else{if(x.isTransposed){if(Object(h.N)(f))return;w=e.createLineGrid(n,f,d,o.CIRCLE,v)}else w=e.createCircleGrid(n,f,d,o.RADIUS,v);w&&(e.cache.set(m,w),t.set(m,w))}}}}}))},e.prototype.createLineAxis=function(t,option,e,n,r){var l={component:new nt(this.getLineAxisCfg(t,option,n)),layer:e,direction:n===o.RADIUS?o.NONE:n,type:c.AXIS,extra:{dim:r,scale:t}};return l.component.set("field",t.field),l.component.init(),l},e.prototype.createLineGrid=function(t,option,e,n,r){var l=this.getLineGridCfg(t,option,n,r);if(l){var f={component:new ot(l),layer:e,direction:o.NONE,type:c.GRID,extra:{dim:r,scale:t,alignTick:Object(h.q)(l,"alignTick",!0)}};return f.component.init(),f}},e.prototype.createCircleAxis=function(t,option,e,n,r){var o={component:new it(this.getCircleAxisCfg(t,option,n)),layer:e,direction:n,type:c.AXIS,extra:{dim:r,scale:t}};return o.component.set("field",t.field),o.component.init(),o},e.prototype.createCircleGrid=function(t,option,e,n,r){var l=this.getCircleGridCfg(t,option,n,r);if(l){var f={component:new at(l),layer:e,direction:o.NONE,type:c.GRID,extra:{dim:r,scale:t,alignTick:Object(h.q)(l,"alignTick",!0)}};return f.component.init(),f}},e.prototype.getLineAxisCfg=function(t,e,n){var r=Object(h.q)(e,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),c=Bt(o,n),f=Rt(t,e),d=Et(this.view.getTheme(),n),v=Object(h.q)(e,["title"])?Object(h.h)({title:{style:{text:f}}},{title:Lt(this.view.getTheme(),n,e.title)},e):e,y=Object(h.h)(Object(l.a)(Object(l.a)({container:r},c),{ticks:t.getTicks().map((function(t){return{id:""+t.tickValue,name:t.text,value:t.value}})),verticalFactor:o.isPolar?-1*Pt(c,o.getCenter()):Pt(c,o.getCenter()),theme:d}),d,v),m=this.getAnimateCfg(y),animate=m.animate,x=m.animateOption;y.animateOption=x,y.animate=animate;var O=kt(c),j=Object(h.q)(y,"verticalLimitLength",O?1/3:.5);if(j<=1){var w=this.view.getCanvas().get("width"),C=this.view.getCanvas().get("height");y.verticalLimitLength=j*(O?w:C)}return y},e.prototype.getLineGridCfg=function(t,e,n,r){if(Oo(Et(this.view.getTheme(),n),e)){var o=mo(this.view.getTheme(),n),c=Object(h.h)({container:Object(h.q)(e,["top"])?this.gridForeContainer:this.gridContainer},o,Object(h.q)(e,"grid"),this.getAnimateCfg(e));return c.items=bo(this.view.getCoordinate(),t,r,Object(h.q)(c,"alignTick",!0)),c}},e.prototype.getCircleAxisCfg=function(t,e,n){var r=Object(h.q)(e,["top"])?this.axisForeContainer:this.axisContainer,c=this.view.getCoordinate(),f=t.getTicks().map((function(t){return{id:""+t.tickValue,name:t.text,value:t.value}}));t.isCategory||Math.abs(c.endAngle-c.startAngle)!==2*Math.PI||f.pop();var d=Rt(t,e),v=Et(this.view.getTheme(),o.CIRCLE),y=Object(h.q)(e,["title"])?Object(h.h)({title:{style:{text:d}}},{title:Lt(this.view.getTheme(),n,e.title)},e):e,m=Object(h.h)(Object(l.a)(Object(l.a)({container:r},It(this.view.getCoordinate())),{ticks:f,verticalFactor:1,theme:v}),v,y),x=this.getAnimateCfg(m),animate=x.animate,O=x.animateOption;return m.animate=animate,m.animateOption=O,m},e.prototype.getCircleGridCfg=function(t,e,n,r){if(Oo(Et(this.view.getTheme(),n),e)){var c=mo(this.view.getTheme(),o.RADIUS),l=Object(h.h)({container:Object(h.q)(e,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},c,Object(h.q)(e,"grid"),this.getAnimateCfg(e)),f=Object(h.q)(l,"alignTick",!0),d="x"===r?this.view.getYScales()[0]:this.view.getXScale();return l.items=xo(this.view.getCoordinate(),d,t,f,r),l}},e.prototype.getId=function(t,e){return t+"-"+e+"-"+this.view.getCoordinate().type},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&Object(h.q)(t,"animate"),animateOption:t&&t.animateOption?Object(h.h)({},wo,t.animateOption):wo}},e}(xn),Mo=Co;function So(t,e,n){return n===o.TOP?[t.minX+t.width/2-e.width/2,t.minY]:n===o.BOTTOM?[t.minX+t.width/2-e.width/2,t.maxY-e.height]:n===o.LEFT?[t.minX,t.minY+t.height/2-e.height/2]:n===o.RIGHT?[t.maxX-e.width,t.minY+t.height/2-e.height/2]:n===o.TOP_LEFT||n===o.LEFT_TOP?[t.tl.x,t.tl.y]:n===o.TOP_RIGHT||n===o.RIGHT_TOP?[t.tr.x-e.width,t.tr.y]:n===o.BOTTOM_LEFT||n===o.LEFT_BOTTOM?[t.bl.x,t.bl.y-e.height]:n===o.BOTTOM_RIGHT||n===o.RIGHT_BOTTOM?[t.br.x-e.width,t.br.y-e.height]:[0,0]}function Ao(t,e){return Object(h.A)(t)?!1!==t&&{}:Object(h.q)(t,[e],t)}function To(t){return Object(h.q)(t,"position",o.BOTTOM)}var Bo=function(t){function e(view){var e=t.call(this,view)||this;return e.container=e.view.getLayer(r.FORE).addGroup(),e}return Object(l.b)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,Object(h.j)(this.components,(function(e){var component=e.component,n=e.direction,r=ui(n),o=component.get("maxWidthRatio"),c=component.get("maxHeightRatio"),l=t.getCategoryLegendSizeCfg(r,o,c),h=component.get("maxWidth"),f=component.get("maxHeight");component.update({maxWidth:Math.min(l.maxWidth,h||0),maxHeight:Math.min(l.maxHeight,f||0)});var d=component.get("padding"),v=component.getLayoutBBox(),y=new bt(v.x,v.y,v.width,v.height).expand(d),m=So(t.view.viewBBox,y,n),x=m[0],O=m[1],j=So(t.layoutBBox,y,n),w=j[0],C=j[1],M=0,S=0;n.startsWith("top")||n.startsWith("bottom")?(M=x,S=C):(M=w,S=O),component.setLocation({x:M+d[3],y:S+d[0]}),t.layoutBBox=t.layoutBBox.cut(y,n)}))},e.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={};if(Object(h.q)(this.option,"custom")){var n="global-custom",o=this.getComponentById(n);if(o){var l=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);yt(l,["container"]),o.component.update(l),e[n]=!0}else{var component=this.createCustomLegend(void 0,void 0,void 0,this.option);if(component){component.init();var f=r.FORE,d=To(this.option);this.components.push({id:n,component:component,layer:f,direction:d,type:c.LEGEND,extra:void 0}),e[n]=!0}}}else this.loopLegends((function(n,r,o){var c=t.getId(o.field),l=t.getComponentById(c);if(l){var f=void 0,d=Ao(t.option,o.field);!1!==d&&(Object(h.q)(d,"custom")?f=t.getCategoryCfg(n,r,o,d,!0):o.isLinear?f=t.getContinuousCfg(n,r,o,d):o.isCategory&&(f=t.getCategoryCfg(n,r,o,d))),f&&(yt(f,["container"]),l.direction=To(d),l.component.update(f),e[c]=!0)}else{var legend=t.createFieldLegend(n,r,o);legend&&(legend.component.init(),t.components.push(legend),e[c]=!0)}}));var v=[];Object(h.j)(this.getComponents(),(function(t){e[t.id]?v.push(t):t.component.destroy()})),this.components=v},e.prototype.clear=function(){t.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(view){var t=this,e=view.geometries;return Object(h.j)(view.views,(function(n){e=e.concat(t.getGeometries(n))})),e},e.prototype.loopLegends=function(t){if(this.view.getRootView()===this.view){var e=this.getGeometries(this.view),n={};Object(h.j)(e,(function(e){var r=e.getGroupAttributes();Object(h.j)(r,(function(r){var o=r.getScale(r.type);o&&"identity"!==o.type&&!n[o.field]&&(t(e,r,o),n[o.field]=!0)}))}))}},e.prototype.createFieldLegend=function(t,e,n){var component,o=Ao(this.option,n.field),l=r.FORE,f=To(o);if(!1!==o&&(Object(h.q)(o,"custom")?component=this.createCustomLegend(t,e,n,o):n.isLinear?component=this.createContinuousLegend(t,e,n,o):n.isCategory&&(component=this.createCategoryLegend(t,e,n,o))),component)return component.set("field",n.field),{id:this.getId(n.field),component:component,layer:l,direction:f,type:c.LEGEND,extra:{scale:n}}},e.prototype.createCustomLegend=function(t,e,n,r){var o=this.getCategoryCfg(t,e,n,r,!0);return new st(o)},e.prototype.createContinuousLegend=function(t,e,n,r){var o=this.getContinuousCfg(t,e,n,yt(r,["value"]));return new ct(o)},e.prototype.createCategoryLegend=function(t,e,n,r){var o=this.getCategoryCfg(t,e,n,r);return new st(o)},e.prototype.getContinuousCfg=function(t,e,n,r){var o=n.getTicks(),c=Object(h.m)(o,(function(t){return 0===t.value})),l=Object(h.m)(o,(function(t){return 1===t.value})),f=o.map((function(t){var r=t.value,o=t.tickValue,c=e.mapping(n.invert(r)).join("");return{value:o,attrValue:c,color:c,scaleValue:r}}));c||f.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),l||f.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),f.sort((function(a,b){return a.value-b.value}));var d={min:Object(h.w)(f).value,max:Object(h.P)(f).value,colors:[],rail:{type:e.type},track:{}};"size"===e.type&&(d.track={style:{fill:"size"===e.type?this.view.getTheme().defaultColor:void 0}}),"color"===e.type&&(d.colors=f.map((function(t){return t.attrValue})));var v=this.container,y=ui(To(r)),title=Object(h.q)(r,"title");return title&&(title=Object(h.h)({text:At(n)},title)),d.container=v,d.layout=y,d.title=title,d.animateOption=Sn,this.mergeLegendCfg(d,r,"continuous")},e.prototype.getCategoryCfg=function(t,e,n,r,c){var l=this.container,f=Object(h.q)(r,"position",o.BOTTOM),d=pi(this.view.getTheme(),f),v=Object(h.q)(d,["marker"]),y=Object(h.q)(r,"marker"),m=ui(f),x=Object(h.q)(d,["pageNavigator"]),O=Object(h.q)(r,"pageNavigator"),j=c?function(t,e,n){return n.map((function(n,r){var o=e;Object(h.F)(o)&&(o=o(n.name,r,Object(h.h)({},t,n)));var c=Object(h.F)(n.marker)?n.marker(n.name,r,Object(h.h)({},t,n)):n.marker,marker=Object(h.h)({},t,o,c);return ci(marker),n.marker=marker,n}))}(v,y,r.items):hi(this.view,t,e,v,y),title=Object(h.q)(r,"title");title&&(title=Object(h.h)({text:n?At(n):""},title));var w=Object(h.q)(r,"maxWidthRatio"),C=Object(h.q)(r,"maxHeightRatio"),M=this.getCategoryLegendSizeCfg(m,w,C);M.container=l,M.layout=m,M.items=j,M.title=title,M.animateOption=Sn,M.pageNavigator=Object(h.h)({},x,O);var S=this.mergeLegendCfg(M,r,f);S.reversed&&S.items.reverse();var A=Object(h.q)(S,"maxItemWidth");return A&&A<=1&&(S.maxItemWidth=this.view.viewBBox.width*A),S},e.prototype.mergeLegendCfg=function(t,e,n){var r=n.split("-")[0],o=pi(this.view.getTheme(),r);return Object(h.h)({},o,t,e)},e.prototype.getId=function(t){return this.name+"-"+t},e.prototype.getComponentById=function(t){return Object(h.m)(this.components,(function(e){return e.id===t}))},e.prototype.getCategoryLegendSizeCfg=function(t,e,n){void 0===e&&(e=.25),void 0===n&&(n=.25);var r=this.view.viewBBox,o=r.width,c=r.height;return"vertical"===t?{maxWidth:o*e,maxHeight:c}:{maxWidth:o,maxHeight:c*n}},e}(xn),ko=Bo,Po=function(t){function e(view){var e=t.call(this,view)||this;return e.onChangeFn=h.Y,e.resetMeasure=function(){e.clear()},e.onValueChange=function(t){var n=t[0],r=t[1];e.start=n,e.end=r,e.changeViewData(n,r)},e.container=e.view.getLayer(r.FORE).addGroup(),e.onChangeFn=Object(h.hb)(e.onValueChange,20,{leading:!0}),e.width=0,e.view.on(f.BEFORE_CHANGE_DATA,e.resetMeasure),e.view.on(f.BEFORE_CHANGE_SIZE,e.resetMeasure),e}return Object(l.b)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.off(f.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(f.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),e=t.start,n=t.end;Object(h.G)(this.start)&&(this.start=e,this.end=n);var r=this.view.getOptions().data;this.option&&!Object(h.D)(r)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout((function(){t.view.destroyed||t.changeViewData(t.start,t.end)}),0)),this.slider){var e=this.view.coordinateBBox.width,n=this.slider.component.get("padding"),r=n[0],c=(n[1],n[2],n[3]),h=this.slider.component.getLayoutBBox(),f=new bt(h.x,h.y,Math.min(h.width,e),h.height).expand(n),d=this.getMinMaxText(this.start,this.end),v=d.minText,y=d.maxText,m=So(this.view.viewBBox,f,o.BOTTOM),x=(m[0],m[1]),O=So(this.view.coordinateBBox,f,o.BOTTOM),j=O[0];O[1];this.slider.component.update(Object(l.a)(Object(l.a)({},this.getSliderCfg()),{x:j+c,y:x+r,width:this.width,start:this.start,end:this.end,minText:v,maxText:y})),this.view.viewBBox=this.view.viewBBox.cut(f,o.BOTTOM)}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var t=this.getSliderCfg(),component=new et.Slider(Object(l.a)({container:this.container},t));return component.init(),{component:component,layer:r.FORE,direction:o.BOTTOM,type:c.SLIDER}},e.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var e=this.getMinMaxText(this.start,this.end),n=e.minText,r=e.maxText;t=Object(l.a)(Object(l.a)({},t),{width:this.width,start:this.start,end:this.end,minText:n,maxText:r})}return this.slider.component.update(t),this.slider},e.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},e.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(Object(h.K)(this.option)){var e=Object(l.a)({data:this.getData()},Object(h.q)(this.option,"trendCfg",{}));t=Object(h.h)({},t,this.getThemeOptions(),this.option),t=Object(l.a)(Object(l.a)({},t),{trendCfg:e})}return t.start=Object(h.c)(Math.min(Object(h.G)(t.start)?0:t.start,Object(h.G)(t.end)?1:t.end),0,1),t.end=Object(h.c)(Math.max(Object(h.G)(t.start)?0:t.start,Object(h.G)(t.end)?1:t.end),0,1),t},e.prototype.getData=function(){var data=this.view.getOptions().data,t=this.view.getYScales()[0],e=this.view.getGroupScales();if(e.length){var n=e[0],r=n.field,o=n.ticks;return data.reduce((function(pre,e){return e[r]===o[0]&&pre.push(e[t.field]),pre}),[])}return data.map((function(e){return e[t.field]||0}))},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return Object(h.q)(t,["components","slider","common"],{})},e.prototype.getMinMaxText=function(t,e){var data=this.view.getOptions().data,n=this.view.getXScale(),r=Object(h.pb)(data,n.field),o=r,c=Object(h.eb)(data);if(!n||!c)return{};var l=Object(h.eb)(o),f=Math.floor(t*(l-1)),d=Math.floor(e*(l-1)),v=Object(h.q)(o,[f]),y=Object(h.q)(o,[d]),m=this.getSliderCfg().formatter;return m&&(v=m(v,data[f],f),y=m(y,data[d],d)),{minText:v,maxText:y}},e.prototype.changeViewData=function(t,e){var data=this.view.getOptions().data,n=this.view.getXScale(),r=Object(h.eb)(data);if(n&&r){var o=Object(h.pb)(data,n.field),c=o,l=Object(h.eb)(c),f=Math.floor(t*(l-1)),d=Math.floor(e*(l-1));this.view.filter(n.field,(function(t,e){var n=c.indexOf(t);return!(n>-1)||vt(n,f,d)})),this.view.render(!0)}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},e}(xn),Eo=Po,Lo=function(t){function e(view){var e=t.call(this,view)||this;return e.onChangeFn=h.Y,e.resetMeasure=function(){e.clear()},e.onValueChange=function(t){var n=t.ratio,animate=e.getValidScrollbarCfg().animate;e.ratio=Object(h.c)(n,0,1);var r=e.view.getOptions().animate;animate||e.view.animate(!1),e.changeViewData(e.getScrollRange(),!0),e.view.animate(r)},e.container=e.view.getLayer(r.FORE).addGroup(),e.onChangeFn=Object(h.hb)(e.onValueChange,20,{leading:!0}),e.trackLen=0,e.thumbLen=0,e.ratio=0,e.view.on(f.BEFORE_CHANGE_DATA,e.resetMeasure),e.view.on(f.BEFORE_CHANGE_SIZE,e.resetMeasure),e}return Object(l.b)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.off(f.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(f.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout((function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)}))),this.scrollbar){var e=this.view.coordinateBBox.width,n=this.scrollbar.component.get("padding"),r=this.scrollbar.component.getLayoutBBox(),c=new bt(r.x,r.y,Math.min(r.width,e),r.height).expand(n),h=this.getScrollbarComponentCfg(),f=void 0,d=void 0;if(h.isHorizontal){var v=So(this.view.viewBBox,c,o.BOTTOM),y=(v[0],v[1]),m=So(this.view.coordinateBBox,c,o.BOTTOM),x=m[0];m[1];f=x,d=y}else{var O=So(this.view.viewBBox,c,o.RIGHT),j=(O[0],y=O[1],So(this.view.viewBBox,c,o.RIGHT));x=j[0],j[1];f=x,d=y}f+=n[3],d+=n[0],this.trackLen?this.scrollbar.component.update(Object(l.a)(Object(l.a)({},h),{x:f,y:d,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(Object(l.a)(Object(l.a)({},h),{x:f,y:d})),this.view.viewBBox=this.view.viewBBox.cut(c,h.isHorizontal?o.BOTTOM:o.RIGHT)}},e.prototype.update=function(){this.render()},e.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return Object(h.q)(t,["components","scrollbar","common"],{})},e.prototype.getScrollbarTheme=function(style){var t=Object(h.q)(this.view.getTheme(),["components","scrollbar"]),e=style||{},n=e.thumbHighlightColor,r=Object(l.c)(e,["thumbHighlightColor"]);return{default:Object(h.h)({},Object(h.q)(t,["default","style"],{}),r),hover:Object(h.h)({},Object(h.q)(t,["hover","style"],{}),{thumbColor:n})}},e.prototype.measureScrollbar=function(){var t=this.view.getXScale(),e=this.view.getYScales().slice();this.data=this.view.getOptions().data,this.step=this.getStep(),this.cnt=this.getCnt();var n=this.getScrollbarComponentCfg(),r=n.trackLen,o=n.thumbLen;this.trackLen=r,this.thumbLen=o,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=e},e.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*Object(h.c)(this.ratio,0,1));return[t,Math.min(t+this.step-1,this.cnt-1)]},e.prototype.changeViewData=function(t,e){var n=this,r=t[0],o=t[1],c="vertical"!==this.getValidScrollbarCfg().type,l=Object(h.pb)(this.data,this.xScaleCfg.field),f=c?l:l.reverse();this.yScalesCfg.forEach((function(t){n.view.scale(t.field,{formatter:t.formatter,type:t.type,min:t.min,max:t.max})})),this.view.filter(this.xScaleCfg.field,(function(t){var e=f.indexOf(t);return!(e>-1)||vt(e,r,o)})),this.view.render(!0)},e.prototype.createScrollbar=function(){var t="vertical"!==this.getValidScrollbarCfg().type,component=new et.Scrollbar(Object(l.a)(Object(l.a)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return component.init(),{component:component,layer:r.FORE,direction:t?o.BOTTOM:o.RIGHT,type:c.SCROLLBAR}},e.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),e=this.trackLen?Object(l.a)(Object(l.a)({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):Object(l.a)({},t);return this.scrollbar.component.update(e),this.scrollbar},e.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,e=this.getValidScrollbarCfg(),n=e.type,r=e.categorySize,o="vertical"!==n;return Math.floor((o?t.width:t.height)/r)},e.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),data=this.view.getOptions().data,e=Object(h.pb)(data,t.field);return Object(h.eb)(e)},e.prototype.getScrollbarComponentCfg=function(){var t=this.view,e=t.coordinateBBox,n=t.viewBBox,r=this.getValidScrollbarCfg(),o=r.type,c=r.padding,f=r.width,d=r.height,style=r.style,v="vertical"!==o,y=c[0],m=c[1],x=c[2],O=c[3],j=v?{x:e.minX+O,y:n.maxY-d-x}:{x:n.maxX-f-m,y:e.minY+y},w=this.getStep(),C=this.getCnt(),M=v?e.width-O-m:e.height-y-x,S=Math.max(M*Object(h.c)(w/C,0,1),20);return Object(l.a)(Object(l.a)({},this.getThemeOptions()),{x:j.x,y:j.y,size:v?d:f,isHorizontal:v,trackLen:M,thumbLen:S,thumbOffset:0,theme:this.getScrollbarTheme(style)})},e.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0],animate:!0,style:{}};return Object(h.K)(this.option)&&(t=Object(l.a)(Object(l.a)({},t),this.option)),Object(h.K)(this.option)&&this.option.padding||(t.padding=(t.type,[0,0,0,0])),t},e}(xn),Io=Lo,Fo={fill:"#CCD6EC",opacity:.3};function Do(view,t,e){var n=function(view,t,e){for(var n=on(view,t,e),r=0,o=view.views;r<o.length;r++){var c=o[r];n=n.concat(on(c,t,e))}return n}(view,t,e);if(n.length){for(var r=0,o=n=Object(h.p)(n);r<o.length;r++)for(var c=0,l=o[r];c<l.length;c++){var f=l[c],d=f.mappingData,v=d.x,y=d.y;f.x=Object(h.z)(v)?v[v.length-1]:v,f.y=Object(h.z)(y)?y[y.length-1]:y}if(!1===e.shared&&n.length>1){for(var m=n[0],x=Math.abs(t.y-m[0].y),O=0,j=n;O<j.length;O++){var w=j[O],C=Math.abs(t.y-w[0].y);C<=x&&(m=w,x=C)}n=[m]}return Object(h.lb)(Object(h.p)(n))}return[]}var Ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.show=function(t){var view=this.context.view,e=this.context.event,n=view.getController("tooltip").getTooltipCfg(),r=Do(view,{x:e.x,y:e.y},n);if(!Object(h.E)(r,this.items)&&(this.items=r,r.length)){var o=view.getXScale().field,c=r[0].data[o],f=[],d=view.geometries;if(Object(h.j)(d,(function(t){if("interval"===t.type||"schema"===t.type){var e=t.getElementsBy((function(t){return t.getData()[o]===c}));f=f.concat(e)}})),f.length){var v=view.getCoordinate(),y=f[0].shape.getCanvasBBox(),m=f[0].shape.getCanvasBBox(),x=y;Object(h.j)(f,(function(t){var e=t.shape.getCanvasBBox();v.isTransposed?(e.minY<y.minY&&(y=e),e.maxY>m.maxY&&(m=e)):(e.minX<y.minX&&(y=e),e.maxX>m.maxX&&(m=e)),x.x=Math.min(e.minX,x.minX),x.y=Math.min(e.minY,x.minY),x.width=Math.max(e.maxX,x.maxX)-x.x,x.height=Math.max(e.maxY,x.maxY)-x.y}));var O=view.backgroundGroup,j=view.coordinateBBox,path=void 0;if(v.isRect){var w=view.getXScale(),C=t||{},M=C.appendRatio,S=C.appendWidth;Object(h.G)(S)&&(M=Object(h.G)(M)?w.isLinear?0:.25:M,S=v.isTransposed?M*m.height:M*y.width);var A=void 0,T=void 0,B=void 0,k=void 0;v.isTransposed?(A=j.minX,T=Math.min(m.minY,y.minY)-S,B=j.width,k=x.height+2*S):(A=Math.min(y.minX,m.minX)-S,T=j.minY,B=x.width+2*S,k=j.height),path=[["M",A,T],["L",A+B,T],["L",A+B,T+k],["L",A,T+k],["Z"]]}else{var P=Object(h.w)(f),E=Object(h.P)(f),L=ft(P.getModel(),v).startAngle,I=ft(E.getModel(),v).endAngle,F=v.getCenter(),D=v.getRadius(),R=v.innerRadius*D;path=ht(F.x,F.y,D,L,I,R)}if(this.regionPath)this.regionPath.attr("path",path),this.regionPath.show();else{var style=Object(h.q)(t,"style",Fo);this.regionPath=O.addShape({type:"path",name:"active-region",capture:!1,attrs:Object(l.a)(Object(l.a)({},style),{path:path})})}}}},e.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},e.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),t.prototype.destroy.call(this)},e}(zt),_o=Ro,Yo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return Object(l.b)(e,t),e.prototype.show=function(){var t=this.context,e=t.event,view=t.view;if(!view.isTooltipLocked()){var n=this.timeStamp,r=+new Date;if(r-n>Object(h.q)(t.view.getOptions(),"tooltip.showDelay",16)){var o=this.location,c={x:e.x,y:e.y};o&&Object(h.E)(o,c)||this.showTooltip(view,c),this.timeStamp=r,this.location=c}}},e.prototype.hide=function(){var view=this.context.view,t=view.getController("tooltip"),e=this.context.event,n=e.clientX,r=e.clientY;t.isCursorEntered({x:n,y:r})||view.isTooltipLocked()||(this.hideTooltip(view),this.location=null)},e.prototype.showTooltip=function(view,t){view.showTooltip(t)},e.prototype.hideTooltip=function(view){view.hideTooltip()},e}(zt),Go=Yo,zo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.showTooltip=function(view,t){var e=ye(view);Object(h.j)(e,(function(e){var n=me(view,e,t);e.showTooltip(n)}))},e.prototype.hideTooltip=function(view){var t=ye(view);Object(h.j)(t,(function(t){t.hideTooltip()}))},e}(Go),Xo=zo,No=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return Object(l.b)(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.show=function(){var t=this.context.event,e=this.timeStamp,n=+new Date;if(n-e>16){var r=this.location,o={x:t.x,y:t.y};r&&Object(h.E)(r,o)||this.showTooltip(o),this.timeStamp=n,this.location=o}},e.prototype.hide=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var e=this.context.event.target;if(e&&e.get("tip")){this.tooltip||this.renderTooltip();var n=e.get("tip");this.tooltip.update(Object(l.a)({title:n},t)),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,view=this.context.view,canvas=view.canvas,e={start:{x:0,y:0},end:{x:canvas.get("width"),y:canvas.get("height")}},n=view.getTheme(),r=Object(h.q)(n,["components","tooltip","domStyles"],{}),o=new lt({parent:canvas.get("el").parentNode,region:e,visible:!1,crosshairs:null,domStyles:Object(l.a)({},Object(h.h)({},r,(t={},t[et.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={"max-width":"50%"},t[et.TOOLTIP_CSS_CONST.TITLE_CLASS]={"word-break":"break-all"},t)))});o.init(),o.setCapture(!1),this.tooltip=o},e}(zt),Ho=No,Vo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e}return Object(l.b)(e,t),e.prototype.hasState=function(element){return element.hasState(this.stateName)},e.prototype.setElementState=function(element,t){element.setState(this.stateName,t)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.clear=function(){var view=this.context.view;this.clearViewState(view)},e.prototype.clearViewState=function(view){var t=this,e=ue(view,this.stateName);Object(h.j)(e,(function(e){t.setElementState(e,!1)}))},e}(zt),qo=Vo;function Wo(t){return Object(h.q)(t.get("delegateObject"),"item")}var Uo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreListItemStates=["unchecked"],e}return Object(l.b)(e,t),e.prototype.isItemIgnore=function(t,e){return!!this.ignoreListItemStates.filter((function(n){return e.hasState(t,n)})).length},e.prototype.setStateByComponent=function(component,t,e){var view=this.context.view,n=component.get("field"),r=le(view);this.setElementsStateByItem(r,n,t,e)},e.prototype.setStateByElement=function(element,t){this.setElementState(element,t)},e.prototype.isMathItem=function(element,t,e){var n=xe(this.context.view,t),r=he(element,t);return!Object(h.G)(r)&&e.name===n.getText(r)},e.prototype.setElementsStateByItem=function(t,e,n,r){var o=this;Object(h.j)(t,(function(t){o.isMathItem(t,e,n)&&t.setState(o.stateName,r)}))},e.prototype.setStateEnable=function(t){var element=ee(this.context);if(element)ie(this.context)&&this.setStateByElement(element,t);else{var e=ne(this.context);if(re(e)){var n=e.item,component=e.component;if(n&&component&&!this.isItemIgnore(n,component)){var r=this.context.event.gEvent;if(r&&r.fromShape&&r.toShape&&Wo(r.fromShape)===Wo(r.toShape))return;this.setStateByComponent(component,n,t)}}}},e.prototype.toggle=function(){var element=ee(this.context);if(element){var t=element.hasState(this.stateName);this.setElementState(element,!t)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(qo),Zo=Uo,Ko=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(l.b)(e,t),e.prototype.active=function(){this.setState()},e}(Zo),Qo=Ko,Jo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cache={},e}return Object(l.b)(e,t),e.prototype.getColorScale=function(view,element){var t=element.geometry.getAttribute("color");return t?view.getScaleByField(t.getFields()[0]):null},e.prototype.getLinkPath=function(element,t){var e=this.context.view.getCoordinate().isTransposed,n=element.shape.getCanvasBBox(),r=t.shape.getCanvasBBox();return e?[["M",n.minX,n.minY],["L",r.minX,r.maxY],["L",r.maxX,r.maxY],["L",n.maxX,n.minY],["Z"]]:[["M",n.maxX,n.minY],["L",r.minX,r.minY],["L",r.minX,r.maxY],["L",n.maxX,n.maxY],["Z"]]},e.prototype.addLinkShape=function(t,element,e,n){var style={opacity:.4,fill:element.shape.attr("fill")};t.addShape({type:"path",attrs:Object(l.a)(Object(l.a)({},Object(h.h)({},style,Object(h.F)(n)?n(style,element):n)),{path:this.getLinkPath(element,e)})})},e.prototype.linkByElement=function(element,t){var e=this,view=this.context.view,n=this.getColorScale(view,element);if(n){var r=he(element,n.field);if(!this.cache[r]){var o=function(view,t,e){return le(view).filter((function(n){return he(n,t)===e}))}(view,n.field,r),c=this.linkGroup.addGroup();this.cache[r]=c;var l=o.length;Object(h.j)(o,(function(n,r){if(r<l-1){var h=o[r+1];e.addLinkShape(c,n,h,t)}}))}}},e.prototype.removeLink=function(element){var t=this.getColorScale(this.context.view,element);if(t){var e=he(element,t.field);this.cache[e]&&(this.cache[e].remove(),this.cache[e]=null)}},e.prototype.link=function(t){var e=this.context;this.linkGroup||(this.linkGroup=e.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var element=ee(e);element&&this.linkByElement(element,null==t?void 0:t.style)},e.prototype.unlink=function(){var element=ee(this.context);element&&this.removeLink(element)},e.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},e}(zt),$o=Jo,ta=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.endPoint=null,e.isStarted=!1,e.effectSiblings=!1,e.effectByRecord=!1,e}return Object(l.b)(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},e.prototype.getIntersectElements=function(){var t=null;if(ae(this.context))t=se(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var r={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)};t=pe(this.context.view,r)}return t},e.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=le(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},e.prototype.setSiblingsStateByRecord=function(t,e){var n=this,view=this.context.view,r=ye(view),o=t.map((function(t){return t.getModel().data})),c=view.getXScale().field,l=view.getYScales()[0].field;Object(h.j)(r,(function(t){var r=le(t),h=r.filter((function(t){var e=t.getModel().data;return be(o,e,c,l)}));n.setElementsState(h,e,r)}))},e.prototype.setSiblingsState=function(t){var e=this,n=ye(this.context.view);ae(this.context)&&Object(h.j)(n,(function(n){var r=le(n),o=ce(e.context,n,10);o&&o.length?e.setElementsState(o,t,r):e.clearViewState(n)}))},e.prototype.setElementsState=function(t,e,n){var r=this;Object(h.j)(n,(function(n){t.includes(n)?r.setElementState(n,e):r.setElementState(n,!1)}))},e.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},e.prototype.clear=function(){var t=this,view=this.context.view;if(this.effectSiblings){var e=ye(view);Object(h.j)(e,(function(e){t.clearViewState(e)}))}else this.clearViewState(view)},e}(qo),ea=ta,na=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(l.b)(e,t),e.prototype.active=function(){this.setState()},e}(ea),ia=na,ra=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.setStateEnable=function(t){var element=ee(this.context);if(element){if(!ie(this.context))return;t?(this.clear(),this.setElementState(element,!0)):this.hasState(element)&&this.setElementState(element,!1)}},e.prototype.toggle=function(){var element=ee(this.context);if(element){var t=this.hasState(element);t||this.clear(),this.setElementState(element,!t)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(qo),oa=ra,aa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(l.b)(e,t),e.prototype.active=function(){this.setState()},e}(oa),sa=aa,ca="inactive",la="active";function ua(view){var t=le(view);Object(h.j)(t,(function(t){t.hasState(la)&&t.setState(la,!1),t.hasState(ca)&&t.setState(ca,!1)}))}function ha(t,e,n){Object(h.j)(t,(function(t){e(t)?(t.hasState(ca)&&t.setState(ca,!1),t.setState(la,n)):(t.hasState(la)&&t.setState(la,!1),t.setState(ca,n))}))}var pa,fa=y.INACTIVE,da=y.ACTIVE,ga=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=da,e}return Object(l.b)(e,t),e.prototype.setElementsStateByItem=function(t,e,n,r){var o=this;this.setHighlightBy(t,(function(t){return o.isMathItem(t,e,n)}),r)},e.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(fa)&&t.setState(fa,!1),t.setState(da,!0)):t.hasState(da)||t.setState(fa,!0)},e.prototype.setHighlightBy=function(t,e,n){var r=this;if(n)Object(h.j)(t,(function(t){r.setElementHighlight(t,e)}));else{var o=ue(this.context.view,da),c=!0;Object(h.j)(o,(function(t){if(!e(t))return c=!1,!1})),c?this.clear():Object(h.j)(t,(function(t){e(t)&&(t.hasState(da)&&t.setState(da,!1),t.setState(fa,!0))}))}},e.prototype.setElementState=function(element,t){var e=le(this.context.view);this.setHighlightBy(e,(function(t){return element===t}),t)},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){ua(this.context.view)},e}(Zo),va=ga,ya=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.setStateByElement=function(element,t){var view=this.context.view,e=element.geometry.getAttribute("color");if(e){var n=view.getScaleByField(e.getFields()[0]),r=he(element,n.field),o=le(view),c=o.filter((function(t){return he(t,n.field)===r}));this.setHighlightBy(o,(function(t){return c.includes(t)}),t)}},e}(va),ma=ya,ba=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(fa)&&t.setState(fa,!1),t.setState(da,!0)):(t.setState(fa,!0),t.hasState(da)&&t.setState(da,!1))},e.prototype.setStateByElement=function(element,t){var view=this.context.view,e=view.getXScale(),n=he(element,e.field),r=le(view),o=r.filter((function(t){return he(t,e.field)===n}));this.setHighlightBy(r,(function(t){return o.includes(t)}),t)},e.prototype.toggle=function(){var element=ee(this.context);if(element){var t=element.hasState(this.stateName);this.setStateByElement(element,!t)}},e}(va),xa=ba;!function(t){t.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",t.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",t.BEFORE_CLEAR="element-range-highlight:beforeclear",t.AFTER_CLEAR="element-range-highlight:afterclear"}(pa||(pa={}));var Oa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(l.b)(e,t),e.prototype.clearViewState=function(view){ua(view)},e.prototype.highlight=function(){var t=this.context,view=t.view,e={view:view,event:t.event,highlightElements:this.getIntersectElements()};view.emit(pa.BEFORE_HIGHLIGHT,un.fromData(view,pa.BEFORE_HIGHLIGHT,e)),this.setState(),view.emit(pa.AFTER_HIGHLIGHT,un.fromData(view,pa.AFTER_HIGHLIGHT,e))},e.prototype.clear=function(){var view=this.context.view;view.emit(pa.BEFORE_CLEAR,un.fromData(view,pa.BEFORE_CLEAR,{})),t.prototype.clear.call(this),view.emit(pa.AFTER_CLEAR,un.fromData(view,pa.AFTER_CLEAR,{}))},e.prototype.setElementsState=function(t,e,n){ha(n,(function(e){return t.indexOf(e)>=0}),e)},e}(ea),ja=Oa,wa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(l.b)(e,t),e.prototype.highlight=function(){this.setState()},e.prototype.setElementState=function(element,t){ha(le(this.context.view),(function(t){return element===t}),t)},e.prototype.clear=function(){ua(this.context.view)},e}(oa),Ca=wa,Ma=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return Object(l.b)(e,t),e.prototype.selected=function(){this.setState()},e}(ea),Sa=Ma,Aa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return Object(l.b)(e,t),e.prototype.selected=function(){this.setState()},e}(Zo),Ta=Aa,Ba=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return Object(l.b)(e,t),e.prototype.selected=function(){this.setState()},e}(oa),ka=Ba,Pa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e.ignoreItemStates=[],e}return Object(l.b)(e,t),e.prototype.getTriggerListInfo=function(){var t=ne(this.context),e=null;return re(t)&&(e={item:t.item,list:t.component}),e},e.prototype.getAllowComponents=function(){var t=this,e=de(this.context.view),n=[];return Object(h.j)(e,(function(component){component.isList()&&t.allowSetStateByElement(component)&&n.push(component)})),n},e.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},e.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();Object(h.j)(e,(function(component){component.clearItemsState(t.stateName)}))},e.prototype.allowSetStateByElement=function(component){var t=component.get("field");if(!t)return!1;if(this.cfg&&this.cfg.componentNames){var e=component.get("name");if(-1===this.cfg.componentNames.indexOf(e))return!1}var n=xe(this.context.view,t);return n&&n.isCategory},e.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;return!n.length||0===n.filter((function(n){return e.hasState(t,n)})).length},e.prototype.setStateByElement=function(component,element,t){var e=component.get("field"),n=xe(this.context.view,e),r=he(element,e),text=n.getText(r);this.setItemsState(component,text,t)},e.prototype.setStateEnable=function(t){var e=this,element=ee(this.context);if(element){var n=this.getAllowComponents();Object(h.j)(n,(function(component){e.setStateByElement(component,element,t)}))}else{var r=ne(this.context);if(re(r)){var o=r.item,component=r.component;this.allowSetStateByElement(component)&&this.allowSetStateByItem(o,component)&&this.setItemState(component,o,t)}}},e.prototype.setItemsState=function(t,e,n){var r=this,o=t.getItems();Object(h.j)(o,(function(o){o.name===e&&r.setItemState(t,o,n)}))},e.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.reset=function(){this.setStateEnable(!1)},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,r=this.hasState(e,n);this.setItemState(e,n,!r)}},e.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},e}(zt),Ea=Pa,La=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(l.b)(e,t),e.prototype.active=function(){this.setState()},e}(Ea),Ia=La,Fa="inactive",Da="active";var Ra="inactive",_a="active",Ya=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=_a,e.ignoreItemStates=["unchecked"],e}return Object(l.b)(e,t),e.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,(function(t){return t.name===e}),n)},e.prototype.setItemState=function(t,e,n){t.getItems();this.setHighlightBy(t,(function(t){return t===e}),n)},e.prototype.setHighlightBy=function(t,e,n){var r=t.getItems();if(n)Object(h.j)(r,(function(n){e(n)?(t.hasState(n,Ra)&&t.setItemState(n,Ra,!1),t.setItemState(n,_a,!0)):t.hasState(n,_a)||t.setItemState(n,Ra,!0)}));else{var o=t.getItemsByState(_a),c=!0;Object(h.j)(o,(function(t){if(!e(t))return c=!1,!1})),c?this.clear():Object(h.j)(r,(function(n){e(n)&&(t.hasState(n,_a)&&t.setItemState(n,_a,!1),t.setItemState(n,Ra,!0))}))}},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t,e,n=this.getTriggerListInfo();if(n)t=n.list,e=t.getItems(),Object(h.j)(e,(function(e){t.hasState(e,Da)&&t.setItemState(e,Da,!1),t.hasState(e,Fa)&&t.setItemState(e,Fa,!1)}));else{var r=this.getAllowComponents();Object(h.j)(r,(function(component){component.clearItemsState(_a),component.clearItemsState(Ra)}))}},e}(Ea),Ga=Ya,za=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return Object(l.b)(e,t),e.prototype.selected=function(){this.setState()},e}(Ea),Xa=za,Na=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="unchecked",e}return Object(l.b)(e,t),e.prototype.unchecked=function(){this.setState()},e}(Ea),Ha=Na,Va="unchecked",qa="checked",Wa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=qa,e}return Object(l.b)(e,t),e.prototype.setItemState=function(t,e,n){this.setCheckedBy(t,(function(t){return t===e}),n)},e.prototype.setCheckedBy=function(t,e,n){var r=t.getItems();n&&Object(h.j)(r,(function(n){e(n)?(t.hasState(n,Va)&&t.setItemState(n,Va,!1),t.setItemState(n,qa,!0)):t.hasState(n,qa)||t.setItemState(n,Va,!0)}))},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item;!Object(h.fb)(e.getItems(),(function(t){return e.hasState(t,Va)}))||e.hasState(n,Va)?this.setItemState(e,n,!0):this.reset()}},e.prototype.checked=function(){this.setState()},e.prototype.reset=function(){var t=this.getAllowComponents();Object(h.j)(t,(function(component){component.clearItemsState(qa),component.clearItemsState(Va)}))},e}(Ea),Ua=Wa,Za=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskShape=null,e.points=[],e.starting=!1,e.moving=!1,e.preMovePoint=null,e.shapeType="path",e}return Object(l.b)(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var e="mask:"+t,view=this.context.view,n=this.context.event;view.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:n.x,y:n.y})},e.prototype.createMask=function(){var view=this.context.view,t=this.getMaskAttrs();return view.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Object(l.a)({fill:"#C5D4EB",opacity:.3},t)})},e.prototype.getMaskPath=function(){return[]},e.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},e.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(null==t?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},e.prototype.move=function(){if(this.moving&&this.maskShape){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,r=t.y-e.y,o=this.points;Object(h.j)(o,(function(t){t.x+=n,t.y+=r})),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},e.prototype.updateMask=function(t){var e=Object(h.h)({},this.getMaskAttrs(),t);this.maskShape.attr(e)},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},e.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},e.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},e.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,t.prototype.destroy.call(this)},e}(zt),Ka=Za,Qa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="circle",e}return Object(l.b)(e,t),e.prototype.getMaskAttrs=function(){var t=this.points,e=Object(h.P)(this.points),n=0,r=0,o=0;if(t.length){var c=t[0];n=ge(c,e)/2,r=(e.x+c.x)/2,o=(e.y+c.y)/2}return{x:r,y:o,r:n}},e}(Ka),Ja=Qa,$a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="rect",e}return Object(l.b)(e,t),e.prototype.getRegion=function(){var t=this.points;return{start:Object(h.w)(t),end:Object(h.P)(t)}},e.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end;return{x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),width:Math.abs(n.x-e.x),height:Math.abs(n.y-e.y)}},e}(Ka),ts=$a;function es(t){t.x=Object(h.c)(t.x,0,1),t.y=Object(h.c)(t.y,0,1)}var ns,is=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dim="x",e.inPlot=!0,e}return Object(l.b)(e,t),e.prototype.getRegion=function(){var t=null,e=null,n=this.points,r=this.dim,o=this.context.view.getCoordinate(),c=o.invert(Object(h.w)(n)),l=o.invert(Object(h.P)(n));return this.inPlot&&(es(c),es(l)),"x"===r?(t=o.convert({x:c.x,y:0}),e=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:c.y}),e=o.convert({x:1,y:l.y})),{start:t,end:e}},e}(ts),rs=is,os=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.getMaskPath=function(){var t=this.points,path=[];return t.length&&(Object(h.j)(t,(function(t,e){0===e?path.push(["M",t.x,t.y]):path.push(["L",t.x,t.y])})),path.push(["L",t[0].x,t[0].y])),path},e.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},e.prototype.addPoint=function(){this.resize()},e}(Ka),as=os,ss=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.getMaskPath=function(){return function(t,e){if(t.length<=2)return Kt(t,!1);var n=t[0],r=[];Object(h.j)(t,(function(t){r.push(t.x),r.push(t.y)}));var path=Zt(r,e,null);return path.unshift(["M",n.x,n.y]),path}(this.points,!0)},e}(as),cs=ss,ls=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.setCursor=function(cursor){this.context.view.getCanvas().setCursor(cursor)},e.prototype.default=function(){this.setCursor("default")},e.prototype.pointer=function(){this.setCursor("pointer")},e.prototype.move=function(){this.setCursor("move")},e.prototype.crosshair=function(){this.setCursor("crosshair")},e.prototype.wait=function(){this.setCursor("wait")},e.prototype.help=function(){this.setCursor("help")},e.prototype.text=function(){this.setCursor("text")},e.prototype.eResize=function(){this.setCursor("e-resize")},e.prototype.wResize=function(){this.setCursor("w-resize")},e.prototype.nResize=function(){this.setCursor("n-resize")},e.prototype.sResize=function(){this.setCursor("s-resize")},e.prototype.neResize=function(){this.setCursor("ne-resize")},e.prototype.nwResize=function(){this.setCursor("nw-resize")},e.prototype.seResize=function(){this.setCursor("se-resize")},e.prototype.swResize=function(){this.setCursor("sw-resize")},e.prototype.nsResize=function(){this.setCursor("ns-resize")},e.prototype.ewResize=function(){this.setCursor("ew-resize")},e}(zt),cursor=ls,us=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.filterView=function(view,t,filter){var e=this;view.getScaleByField(t)&&view.filter(t,filter),view.views&&view.views.length&&Object(h.j)(view.views,(function(n){e.filterView(n,t,filter)}))},e.prototype.filter=function(){var t=ne(this.context);if(t){var view=this.context.view,component=t.component,e=component.get("field");if(re(t)){if(e){var n=component.getItemsByState("unchecked"),r=xe(view,e),o=n.map((function(t){return t.name}));o.length?this.filterView(view,e,(function(t){var text=r.getText(t);return!o.includes(text)})):this.filterView(view,e,null),view.render(!0)}}else if(oe(t)){var c=component.getValue(),l=c[0],h=c[1];this.filterView(view,e,(function(t){return t>=l&&t<=h})),view.render(!0)}}},e}(zt),hs=us;function ps(t,e,n,r){var o=Math.min(n[e],r[e]),c=Math.max(n[e],r[e]),l=t.range,h=l[0],f=l[1];if(o<h&&(o=h),c>f&&(c=f),o===f&&c===f)return null;var d=t.invert(o),v=t.invert(c);if(t.isCategory){var y=t.values.indexOf(d),m=t.values.indexOf(v),x=t.values.slice(y,m+1);return function(t){return x.includes(t)}}return function(t){return t>=d&&t<=v}}!function(t){t.FILTER="brush-filter-processing",t.RESET="brush-filter-reset",t.BEFORE_FILTER="brush-filter:beforefilter",t.AFTER_FILTER="brush-filter:afterfilter",t.BEFORE_RESET="brush-filter:beforereset",t.AFTER_RESET="brush-filter:afterreset"}(ns||(ns={}));var fs,ds,gs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dims=["x","y"],e.startPoint=null,e.isStarted=!1,e}return Object(l.b)(e,t),e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},e.prototype.filter=function(){var t,e;if(ae(this.context)){var n=this.context.event.target.getCanvasBBox();t={x:n.x,y:n.y},e={x:n.maxX,y:n.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var r=this.context,view=r.view,o={view:view,event:r.event,dims:this.dims};view.emit(ns.BEFORE_FILTER,un.fromData(view,ns.BEFORE_FILTER,o));var c=view.getCoordinate(),l=c.invert(e),h=c.invert(t);if(this.hasDim("x")){var f=view.getXScale(),filter=ps(f,"x",l,h);this.filterView(view,f.field,filter)}if(this.hasDim("y")){var d=view.getYScales()[0];filter=ps(d,"y",l,h);this.filterView(view,d.field,filter)}this.reRender(view,{source:ns.FILTER}),view.emit(ns.AFTER_FILTER,un.fromData(view,ns.AFTER_FILTER,o))}},e.prototype.end=function(){this.isStarted=!1},e.prototype.reset=function(){var view=this.context.view;if(view.emit(ns.BEFORE_RESET,un.fromData(view,ns.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var t=view.getXScale();this.filterView(view,t.field,null)}if(this.hasDim("y")){var e=view.getYScales()[0];this.filterView(view,e.field,null)}this.reRender(view,{source:ns.RESET}),view.emit(ns.AFTER_RESET,un.fromData(view,ns.AFTER_RESET,{}))},e.prototype.filterView=function(view,t,filter){view.filter(t,filter)},e.prototype.reRender=function(view,t){view.render(!0,t)},e}(zt),vs=gs,ys=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.filterView=function(view,t,filter){var e=ye(view);Object(h.j)(e,(function(e){e.filter(t,filter)}))},e.prototype.reRender=function(view){var t=ye(view);Object(h.j)(t,(function(t){t.render(!0)}))},e}(vs),ms=ys,bs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.filter=function(){var t=ne(this.context),view=this.context.view,e=le(view);if(ae(this.context)){var n=se(this.context,10);n&&Object(h.j)(e,(function(t){n.includes(t)?t.show():t.hide()}))}else if(t){var component=t.component,r=component.get("field");if(re(t)){if(r){var o=component.getItemsByState("unchecked"),c=xe(view,r),l=o.map((function(t){return t.name}));Object(h.j)(e,(function(t){var e=he(t,r),text=c.getText(e);l.indexOf(text)>=0?t.hide():t.show()}))}}else if(oe(t)){var f=component.getValue(),d=f[0],v=f[1];Object(h.j)(e,(function(t){var e=he(t,r);e>=d&&e<=v?t.show():t.hide()}))}}},e.prototype.clear=function(){var t=le(this.context.view);Object(h.j)(t,(function(t){t.show()}))},e.prototype.reset=function(){this.clear()},e}(zt),xs=bs,Os=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.byRecord=!1,e}return Object(l.b)(e,t),e.prototype.filter=function(){ae(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},e.prototype.filterByRecord=function(){var view=this.context.view,t=se(this.context,10);if(t){var e=view.getXScale().field,n=view.getYScales()[0].field,r=t.map((function(t){return t.getModel().data})),o=ye(view);Object(h.j)(o,(function(t){var o=le(t);Object(h.j)(o,(function(t){var o=t.getModel().data;be(r,o,e,n)?t.show():t.hide()}))}))}},e.prototype.filterByBBox=function(){var t=this,e=ye(this.context.view);Object(h.j)(e,(function(e){var n=ce(t.context,e,10),r=le(e);n&&Object(h.j)(r,(function(t){n.includes(t)?t.show():t.hide()}))}))},e.prototype.reset=function(){var t=ye(this.context.view);Object(h.j)(t,(function(t){var e=le(t);Object(h.j)(e,(function(t){t.show()}))}))},e}(zt),js=Os,ws=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},e}return Object(l.b)(e,t),e.prototype.getButtonCfg=function(){return Object(h.h)(this.buttonCfg,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:Object(l.a)({text:t.text},t.textStyle)}).getBBox(),r=an(t.padding),o=e.addShape({type:"rect",name:"button-rect",attrs:Object(l.a)({x:n.x-r[3],y:n.y-r[0],width:n.width+r[1]+r[3],height:n.height+r[0]+r[2]},t.style)});o.toBack(),e.on("mouseenter",(function(){o.attr(t.activeStyle)})),e.on("mouseleave",(function(){o.attr(t.style)})),this.buttonGroup=e},e.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),r=W.a.transform(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(r)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this)},e}(zt),Cs=ws,Ms=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starting=!1,e.dragStart=!1,e}return Object(l.b)(e,t),e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},e.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),view=this.context.view,e=this.context.event;this.dragStart?view.emit("drag",{target:e.target,x:e.x,y:e.y}):ge(t,this.startPoint)>4&&(view.emit("dragstart",{target:e.target,x:e.x,y:e.y}),this.dragStart=!0)}},e.prototype.end=function(){if(this.dragStart){var view=this.context.view,t=this.context.event;view.emit("dragend",{target:t.target,x:t.x,y:t.y})}this.starting=!1,this.dragStart=!1},e}(zt),Ss=Ms,As=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starting=!1,e.isMoving=!1,e.startPoint=null,e.startMatrix=null,e}return Object(l.b)(e,t),e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},e.prototype.move=function(){if(this.starting){var t=this.startPoint,e=this.context.getCurrentPoint();if(ge(t,e)>5&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var view=this.context.view,n=W.a.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);view.backgroundGroup.setMatrix(n),view.foregroundGroup.setMatrix(n),view.middleGroup.setMatrix(n)}}},e.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},e.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var view=this.context.view;view.backgroundGroup.resetMatrix(),view.foregroundGroup.resetMatrix(),view.middleGroup.resetMatrix(),this.isMoving=!1},e}(zt),Ts=As,Bs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dims=["x","y"],e.cfgFields=["dims"],e.cacheScaleDefs={},e}return Object(l.b)(e,t),e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.getScale=function(t){var view=this.context.view;return"x"===t?view.getXScale():view.getYScales()[0]},e.prototype.resetDim=function(t){var view=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var e=this.getScale(t);view.scale(e.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},e.prototype.reset=function(){this.resetDim("x"),this.resetDim("y"),this.context.view.render(!0)},e}(zt),ks=Bs,Ps=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.starting=!1,e.startCache={},e}return Object(l.b)(e,t),e.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;Object(h.j)(e,(function(e){var n=t.getScale(e),r=n.min,o=n.max,c=n.values;t.startCache[e]={min:r,max:o,values:c}}))},e.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},e.prototype.translate=function(){var t=this;if(this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),r=this.context.getCurrentPoint(),o=n.invert(e),c=n.invert(r),l=c.x-o.x,f=c.y-o.y,view=this.context.view,d=this.dims;Object(h.j)(d,(function(e){t.translateDim(e,{x:-1*l,y:-1*f})})),view.render(!0)}},e.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},e.prototype.translateLinear=function(t,e,n){var view=this.context.view,r=this.startCache[t],o=r.min,c=r.max,l=c-o,h=n[t]*l;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:o,max:c}),view.scale(e.field,{nice:!1,min:o+h,max:c+h})},e.prototype.reset=function(){t.prototype.reset.call(this),this.startPoint=null,this.starting=!1},e}(ks),Es=Ps,Ls=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zoomRatio=.05,e}return Object(l.b)(e,t),e.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},e.prototype.zoom=function(t){var e=this,n=this.dims;Object(h.j)(n,(function(n){e.zoomDim(n,t)})),this.context.view.render(!0)},e.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},e.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},e.prototype.zoomLinear=function(t,e,n){var view=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var r=this.cacheScaleDefs[t],o=r.max-r.min,c=e.min,l=e.max,h=n*o,f=c-h,d=l+h,v=(d-f)/o;d>f&&v<100&&v>.01&&view.scale(e.field,{nice:!1,min:c-h,max:l+h})},e}(ks),Is=Ls;function Fs(t){return t.isInPlot()}function Ds(t){return t.gEvent.preventDefault(),t.gEvent.originalEvent.deltaY>0}fs="dark",ds=Fe(Ci),Ue[Object(h.Q)(fs)]=We(ds),M("canvas",Mi),M("svg",Si),yn("Polygon",cr),yn("Interval",er),yn("Schema",ur),yn("Path",Yi),yn("Point",ar),yn("Line",nr),yn("Area",Ni),yn("Edge",Vi),yn("Heatmap",Wi),yn("Violin",fr),Fn("base",ri),Fn("interval",Mr),Fn("pie",kr),Fn("polar",Tr),Dn("overlap",(function(t,e,n,r){var o=new Er;Object(h.j)(e,(function(label){for(var t=label.find((function(t){return"text"===t.get("type")})),e=t.attr(),n=e.x,r=e.y,c=!1,i=0;i<=8;i++){var l=Lr(t,n,r,i);if(o.hasGap(l)){o.fillGap(l),c=!0;break}}c||label.remove(!0)})),o.destroy()})),Dn("distribute",(function(t,e,n,r){if(t.length&&e.length){var o=t[0]?t[0].offset:0,c=e[0].get("coordinate"),l=c.getRadius(),f=c.getCenter();if(o>0){var d=2*(l+o)+28,v={start:c.start,end:c.end},y=[[],[]];t.forEach((function(t){t&&("right"===t.textAlign?y[0].push(t):y[1].push(t))})),y.forEach((function(t,n){var r=d/14;t.length>r&&(t.sort((function(a,b){return b["..percent"]-a["..percent"]})),t.splice(r,t.length-r)),t.sort((function(a,b){return a.y-b.y})),function(t,e,n,r,o,c){var i,l=!0,f=r.start,d=r.end,v=Math.min(f.y,d.y),y=Math.abs(f.y-d.y),m=0,x=Number.MIN_VALUE,O=e.map((function(label){return label.y>m&&(m=label.y),label.y<x&&(x=label.y),{size:n,targets:[label.y-v]}}));for(x-=v,m-v>y&&(y=m-v);l;)for(O.forEach((function(t){var e=(Math.min.apply(x,t.targets)+Math.max.apply(x,t.targets))/2;t.pos=Math.min(Math.max(x,e-t.size/2),y-t.size)})),l=!1,i=O.length;i--;)if(i>0){var j=O[i-1],w=O[i];j.pos+j.size>w.pos&&(j.size+=w.size,j.targets=j.targets.concat(w.targets),j.pos+j.size>y&&(j.pos=y-j.size),O.splice(i,1),l=!0)}i=0,O.forEach((function(b){var t=v+n/2;b.targets.forEach((function(){e[i].y=b.pos+t,t+=n,i++}))}));for(var C={},M=0,S=t;M<S.length;M++){var A=S[M];C[A.get("id")]=A}e.forEach((function(label){var t=label.r*label.r,e=Math.pow(Math.abs(label.y-o.y),2);if(t<e)label.x=o.x;else{var n=Math.sqrt(t-e);label.x=c?o.x+n:o.x-n}var r=C[label.id];r.attr("x",label.x),r.attr("y",label.y);var l=Object(h.m)(r.getChildren(),(function(t){return"text"===t.get("type")}));l&&(l.attr("y",label.y),l.attr("x",label.x))}))}(e,t,14,v,f,n)}))}Object(h.j)(t,(function(t){if(t&&t.labelLine){var e=t.offset,n=t.angle,r=ut(f.x,f.y,l,n),o=ut(f.x,f.y,l+e/2,n),c=t.x+Object(h.q)(t,"offsetX",0),d=t.y+Object(h.q)(t,"offsetY",0),v={x:c-4*Math.cos(n),y:d-4*Math.sin(n)};Object(h.K)(t.labelLine)||(t.labelLine={}),t.labelLine.path=["M "+r.x,r.y+" Q"+o.x,o.y+" "+v.x,v.y].join(",")}}))}})),Dn("fixed-overlap",(function(t,e,n,r){var o=new Er;Object(h.j)(e,(function(label){(function(label,t,e){void 0===e&&(e=100);var n,r=label.attr(),o=r.x,c=r.y,l=label.getCanvasBBox(),h=Math.sqrt(l.width*l.width+l.height*l.height),f=1,d=0,v=0;if(t.hasGap(l))return t.fillGap(l),!0;for(var param,y,m=!1,x=0,O={};Math.min(Math.abs(d),Math.abs(v))<h&&x<e;)if(param=f+=-1,y=void 0,v=~~(n=[(y=.1*param)*Math.cos(y),y*Math.sin(y)])[1],((d=~~n[0])||v)&&!O[d+"-"+v]&&(label.attr({x:o+d,y:c+v}),d+v<0&&label.attr("textAlign","right"),x++,t.hasGap(label.getCanvasBBox()))){t.fillGap(label.getCanvasBBox()),m=!0,O[d+"-"+v]=!0;break}return m})(label.find((function(t){return"text"===t.get("type")})),o)||label.remove(!0)})),o.destroy()})),Dn("hide-overlap",(function(t,e,n,r){for(var i=0;i<e.length;i++){var o=e[i];if(e[i].get("visible"))for(var c=i+1;c<e.length;c++){var l=e[c];if(o&&l&&o!==l&&l.get("visible"))Gr(Jn(o,t[i],Object(h.q)(t[i],"background.padding")),Jn(l,t[c],Object(h.q)(t[c],"background.padding")))&&e[c].set("visible",!1)}}})),Dn("limit-in-shape",(function(t,e,n,r){Object(h.j)(e,(function(label,t){var e=label.getCanvasBBox(),r=n[t].getBBox();(e.minX<r.minX||e.minY<r.minY||e.maxX>r.maxX||e.maxY>r.maxY)&&label.remove(!0)}))})),Dn("limit-in-canvas",(function(t,e,n,r){Object(h.j)(e,(function(label){var t=r.minX,e=r.minY,n=r.maxX,o=r.maxY,c=label.getCanvasBBox(),l=c.minX,h=c.minY,f=c.maxX,d=c.maxY,v=c.x,y=c.y,m=c.width,x=c.height,O=v,j=y;(l<t||f<t)&&(O=t),(h<e||d<e)&&(j=e),l>n?O=n-m:f>n&&(O-=f-n),h>o?j=o-x:d>o&&(j-=d-o),O===v&&j===y||Zn(label,O-v,j-y)}))})),Dn("limit-in-plot",(function(t,e,n,r,o){if(!(e.length<=0)){var c=(null==o?void 0:o.direction)||["top","right","bottom","left"],l=(null==o?void 0:o.action)||"translate",f=(null==o?void 0:o.margin)||0,d=e[0].get("coordinate");if(d){var v=function(t,e){void 0===e&&(e=0);var n=t.start,r=t.end,o=t.getWidth(),c=t.getHeight(),l=Math.min(n.x,r.x),h=Math.min(n.y,r.y);return bt.fromRange(l-e,h-e,l+o+e,h+c+e)}(d,f),y=v.minX,m=v.minY,x=v.maxX,O=v.maxY;Object(h.j)(e,(function(label){var t=label.getCanvasBBox(),e=t.minX,n=t.minY,r=t.maxX,o=t.maxY,f=t.x,d=t.y,v=t.width,j=t.height,w=f,C=d;if(c.indexOf("left")>=0&&(e<y||r<y)&&(w=y),c.indexOf("top")>=0&&(n<m||o<m)&&(C=m),c.indexOf("right")>=0&&(e>x?w=x-v:r>x&&(w-=r-x)),c.indexOf("bottom")>=0&&(n>O?C=O-j:o>O&&(C-=o-O)),w!==f||C!==d){var M=w-f;if("translate"===l)Zn(label,M,C-d);else if("ellipsis"===l){label.findAll((function(t){return"text"===t.get("type")})).forEach((function(t){var style=Object(h.Z)(t.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),e=t.getCanvasBBox(),text=function(text,t,e){var n,r=Ur("...",e);n=Object(h.M)(text)?text:Object(h.kb)(text);var o,c,l=t,f=[];if(Ur(text,e)<=t)return text;for(;o=n.substr(0,16),!((c=Ur(o,e))+r>l&&c>l);)if(f.push(o),l-=c,!(n=n.substr(16)))return f.join("");for(;o=n.substr(0,1),!((c=Ur(o,e))+r>l);)if(f.push(o),l-=c,!(n=n.substr(1)))return f.join("");return f.join("")+"..."}(t.attr("text"),e.width-Math.abs(M),style);t.attr("text",text)}))}else label.hide()}}))}}})),Dn("pie-outer",(function(t,e,n,r){var o=Object(h.l)(t,(function(t){return!Object(h.G)(t)})),c=e[0]&&e[0].get("coordinate");if(c){for(var l=c.getCenter(),f=c.getRadius(),d={},v=0,y=e;v<y.length;v++){var m=y[v];d[m.get("id")]=m}var x=Object(h.q)(o[0],"labelHeight",14),O=Object(h.q)(o[0],"offset",0);if(!(O<=0)){var j="right",w=Object(h.t)(o,(function(t){return t.x<l.x?"left":j})),C=c.start,M=c.end,S=Math.min(2*(f+O+x),c.getHeight()),A=S/2,T={minX:C.x,maxX:M.x,minY:l.y-A,maxY:l.y+A};Object(h.j)(w,(function(t,e){var n=Math.floor(S/x);t.length>n&&(t.sort((function(a,b){return b.percent-a.percent})),Object(h.j)(t,(function(t,e){e+1>n&&(d[t.id].set("visible",!1),t.invisible=!0)}))),Pr(t,x,T)})),Object(h.j)(w,(function(t,e){Object(h.j)(t,(function(t){var n=e===j,content=d[t.id].getChildByIndex(0);if(content){var r=f+O,o=t.y-l.y,v=Math.pow(r,2),y=Math.pow(o,2),m=v-y>0?v-y:0,x=Math.sqrt(m),w=Math.abs(Math.cos(t.angle)*r);t.x=n?l.x+Math.max(x,w):l.x-Math.max(x,w)}content&&(content.attr("y",t.y),content.attr("x",t.x)),function(t,e){var n=e.getCenter(),r=e.getRadius();if(t&&t.labelLine){var o=t.angle,c=t.offset,l=ut(n.x,n.y,r,o),f=t.x+Object(h.q)(t,"offsetX",0)*(Math.cos(o)>0?1:-1),d=t.y+Object(h.q)(t,"offsetY",0)*(Math.sin(o)>0?1:-1),v={x:f-4*Math.cos(o),y:d-4*Math.sin(o)},y=t.labelLine.smooth,path=[],m=v.x-n.x,x=v.y-n.y,O=Math.atan(x/m);if(m<0&&(O+=Math.PI),!1===y){Object(h.K)(t.labelLine)||(t.labelLine={});var j=0;(o<0&&o>-Math.PI/2||o>1.5*Math.PI)&&v.y>l.y&&(j=1),o>=0&&o<Math.PI/2&&v.y>l.y&&(j=1),o>=Math.PI/2&&o<Math.PI&&l.y>v.y&&(j=1),(o<-Math.PI/2||o>=Math.PI&&o<1.5*Math.PI)&&l.y>v.y&&(j=1);var w=c/2>4?4:Math.max(c/2-1,0),C=ut(n.x,n.y,r+w,o),M=ut(n.x,n.y,r+c/2,O);path.push("M "+l.x+" "+l.y),path.push("L "+C.x+" "+C.y),path.push("A "+n.x+" "+n.y+" 0 0 "+j+" "+M.x+" "+M.y),path.push("L "+v.x+" "+v.y)}else{C=ut(n.x,n.y,r+(c/2>4?4:Math.max(c/2-1,0)),o);var S=l.x<n.x?1:-1;path.push("M "+v.x+" "+v.y);var A=(l.y-n.y)/(l.x-n.x),T=(v.y-n.y)/(v.x-n.x);Math.abs(A-T)>Math.pow(Math.E,-16)&&path.push.apply(path,["C",v.x+4*S,v.y,2*C.x-l.x,2*C.y-l.y,l.x,l.y]),path.push("L "+l.x+" "+l.y)}t.labelLine.path=path.join(" ")}}(t,c)}))}))}}})),Dn("adjust-color",(function(t,e,n){if(0!==n.length){var r=n[0].get("element").geometry.theme,o=r.labels||{},c=o.fillColorLight,l=o.fillColorDark;n.forEach((function(t,n){var o=e[n].find((function(t){return"text"===t.get("type")})),h=bt.fromObject(t.getBBox()),f=bt.fromObject(o.getCanvasBBox()),d=!h.contains(f),v=function(t){var e=D.a.toRGB(t).toUpperCase();if(Xr[e])return Xr[e];var n=D.a.rgb2arr(e);return(299*n[0]+587*n[1]+114*n[2])/1e3<128}(t.attr("fill"));d?o.attr(r.overflowLabels.style):v?c&&o.attr("fill",c):l&&o.attr("fill",l)}))}})),Dn("interval-adjust-position",(function(t,e,n){var r;if(0!==n.length){var element=null===(r=n[0])||void 0===r?void 0:r.get("element"),o=null==element?void 0:element.geometry;if(o&&"interval"===o.type)Nr(o,e,n)&&n.forEach((function(t,n){var label=e[n];!function(t,label,e){var n=t.coordinate,r=bt.fromObject(e.getBBox()),o=Qn(label);n.isTransposed?o.attr({x:r.minX+r.width/2,textAlign:"center"}):o.attr({y:r.minY+r.height/2,textBaseline:"middle"})}(o,label,t)}))}})),Dn("interval-hide-overlap",(function(t,e,n){var r;if(0!==n.length){var element=null===(r=n[0])||void 0===r?void 0:r.get("element"),o=null==element?void 0:element.geometry;if(o&&"interval"===o.type){var c,l=function(t){var e=[],n=Math.max(Math.floor(t.length/500),1);return Object(h.j)(t,(function(label,t){t%n==0?e.push(label):label.set("visible",!1)})),e}(e),f=o.getXYFields()[0],d=[],v=[],y=Object(h.t)(l,(function(label){return label.get("data")[f]})),m=Object(h.lb)(Object(h.R)(l,(function(label){return label.get("data")[f]})));l.forEach((function(label){label.set("visible",!0)}));var x=function(t){t&&(t.length&&v.push(t.pop()),v.push.apply(v,t))};for(Object(h.eb)(m)>0&&(c=m.shift(),x(y[c])),Object(h.eb)(m)>0&&(c=m.pop(),x(y[c])),Object(h.j)(m.reverse(),(function(t){x(y[t])}));v.length>0;){var O=v.shift();O.get("visible")&&($n(O,d)?O.set("visible",!1):d.push(O))}}}})),Dn("point-adjust-position",(function(t,e,n,r,o){var c,l;if(0!==n.length){var element=null===(c=n[0])||void 0===c?void 0:c.get("element"),f=null==element?void 0:element.geometry;if(f&&"point"===f.type){var d=f.getXYFields(),v=d[0],y=d[1],m=Object(h.t)(e,(function(label){return label.get("data")[v]})),x=[],O=o&&o.offset||(null===(l=t[0])||void 0===l?void 0:l.offset)||12;Object(h.R)(Object(h.O)(m).reverse(),(function(t){for(var e=function(t,e){var n=t.getXYFields()[1],r=[],o=e.sort((function(t,e){return t.get("data")[n]-t.get("data")[n]}));return o.length>0&&r.push(o.shift()),o.length>0&&r.push(o.pop()),r.push.apply(r,o),r}(f,m[t]);e.length;){var n=e.shift(),r=Qn(n);if(Hr(x,n,(function(t,e){return t.get("data")[v]===e.get("data")[v]&&t.get("data")[y]===e.get("data")[y]})))r.set("visible",!1);else{var o=!1;Vr(x,n)&&(r.attr("y",r.attr("y")+2*O),o=Vr(x,n)),o?r.set("visible",!1):x.push(n)}}}))}}})),Dn("pie-spider",(function(t,e,n,r){var o=e[0]&&e[0].get("coordinate");if(o){for(var c=o.getCenter(),l=o.getRadius(),f={},d=0,v=e;d<v.length;d++){var y=v[d];f[y.get("id")]=y}var m=Object(h.q)(t[0],"labelHeight",14),x=Math.max(Object(h.q)(t[0],"offset",0),4);Object(h.j)(t,(function(t){if(Object(h.q)(f,[t.id])){var e=t.x>c.x||t.x===c.x&&t.y>c.y,n=Object(h.G)(t.offsetX)?4:t.offsetX,r=ut(c.x,c.y,l+4,t.angle),o=x+n;t.x=c.x+(e?1:-1)*(l+o),t.y=r.y}}));var O=o.start,j=o.end,w="right",C=Object(h.t)(t,(function(t){return t.x<c.x?"left":w})),M=2*(l+x)+m;Object(h.j)(C,(function(t){var e=t.length*m;e>M&&(M=Math.min(e,Math.abs(O.y-j.y)))}));var S={minX:O.x,maxX:j.x,minY:c.y-M/2,maxY:c.y+M/2};Object(h.j)(C,(function(t,e){var n=M/m;t.length>n&&(t.sort((function(a,b){return b.percent-a.percent})),Object(h.j)(t,(function(t,e){e>n&&(f[t.id].set("visible",!1),t.invisible=!0)}))),Pr(t,m,S)}));var A=S.minY,T=S.maxY;Object(h.j)(C,(function(t,e){var n=e===w;Object(h.j)(t,(function(t){var label=Object(h.q)(f,t&&[t.id]);if(label)if(t.y<A||t.y>T)label.set("visible",!1);else{var e=label.getChildByIndex(0),r=e.getCanvasBBox(),c=n?r.x:r.maxX,l=r.y+r.height/2;Zn(e,t.x-c,t.y-l),t.labelLine&&function(t,e,n){var path,r=e.getCenter(),o=e.getRadius(),c={x:t.x-(n?4:-4),y:t.y},l=ut(r.x,r.y,o+4,t.angle),f={x:c.x,y:c.y},d={x:l.x,y:l.y},v=ut(r.x,r.y,o,t.angle);if(c.y!==l.y){var y=n?4:-4;f.y=c.y,t.angle<0&&t.angle>=-Math.PI/2&&(f.x=Math.max(l.x,c.x-y),c.y<l.y?d.y=f.y:(d.y=l.y,d.x=Math.max(d.x,f.x-y))),t.angle>0&&t.angle<Math.PI/2&&(f.x=Math.max(l.x,c.x-y),c.y>l.y?d.y=f.y:(d.y=l.y,d.x=Math.max(d.x,f.x-y))),t.angle>Math.PI/2&&(f.x=Math.min(l.x,c.x-y),c.y>l.y?d.y=f.y:(d.y=l.y,d.x=Math.min(d.x,f.x-y))),t.angle<-Math.PI/2&&(f.x=Math.min(l.x,c.x-y),c.y<l.y?d.y=f.y:(d.y=l.y,d.x=Math.min(d.x,f.x-y)))}path=["M "+c.x+","+c.y,"L "+f.x+","+f.y,"L "+d.x+","+d.y,"L "+l.x+","+l.y,"L "+v.x+","+v.y].join(" "),t.labelLine=Object(h.h)({},t.labelLine,{path:path})}(t,o,n)}}))}))}})),Dn("path-adjust-position",(function(t,e,n,r,o){var c,l;if(0!==n.length){var element=null===(c=n[0])||void 0===c?void 0:c.get("element"),f=null==element?void 0:element.geometry;if(f&&!(["path","line","area"].indexOf(f.type)<0)){var d=f.getXYFields(),v=d[0],y=d[1],m=Object(h.t)(e,(function(label){return label.get("data")[v]})),x=[],O=o&&o.offset||(null===(l=t[0])||void 0===l?void 0:l.offset)||12;Object(h.R)(Object(h.O)(m).reverse(),(function(t){for(var e=function(t,e){var n=t.getXYFields()[1],r=[],o=e.sort((function(t,e){return t.get("data")[n]-t.get("data")[n]}));return o.length>0&&r.push(o.shift()),o.length>0&&r.push(o.pop()),r.push.apply(r,o),r}(f,m[t]);e.length;){var n=e.shift(),r=Qn(n);if(qr(x,n,(function(t,e){return t.get("data")[v]===e.get("data")[v]&&t.get("data")[y]===e.get("data")[y]})))r.set("visible",!1);else{var o=!1;Wr(x,n)&&(r.attr("y",r.attr("y")+2*O),o=Wr(x,n)),o?r.set("visible",!1):x.push(n)}}}))}}})),Mn("fade-in",(function(t,e,n){var r={fillOpacity:Object(h.G)(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),strokeOpacity:Object(h.G)(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity"),opacity:Object(h.G)(t.attr("opacity"))?1:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),t.animate(r,e)})),Mn("fade-out",(function(t,e,n){var r=e.easing,o=e.duration,c=e.delay;t.animate({fillOpacity:0,strokeOpacity:0,opacity:0},o,r,(function(){t.remove(!0)}),c)})),Mn("grow-in-x",(function(element,t,e){Zr(element,t,e.coordinate,e.minYPoint,"x")})),Mn("grow-in-xy",(function(element,t,e){Zr(element,t,e.coordinate,e.minYPoint,"xy")})),Mn("grow-in-y",(function(element,t,e){Zr(element,t,e.coordinate,e.minYPoint,"y")})),Mn("scale-in-x",(function(t,e,n){var r=t.getBBox(),o=t.get("origin").mappingData.points,c=o[0].y-o[1].y>0?r.maxX:r.minX,l=(r.minY+r.maxY)/2;t.applyToMatrix([c,l,1]);var h=W.a.transform(t.getMatrix(),[["t",-c,-l],["s",.01,1],["t",c,l]]);t.setMatrix(h),t.animate({matrix:W.a.transform(t.getMatrix(),[["t",-c,-l],["s",100,1],["t",c,l]])},e)})),Mn("scale-in-y",(function(t,e,n){var r=t.getBBox(),o=t.get("origin").mappingData,c=(r.minX+r.maxX)/2,l=o.points,h=l[0].y-l[1].y<=0?r.maxY:r.minY;t.applyToMatrix([c,h,1]);var f=W.a.transform(t.getMatrix(),[["t",-c,-h],["s",1,.01],["t",c,h]]);t.setMatrix(f),t.animate({matrix:W.a.transform(t.getMatrix(),[["t",-c,-h],["s",1,100],["t",c,h]])},e)})),Mn("wave-in",(function(element,t,e){var n=Ct(e.coordinate,20),r=n.type,o=n.startState,c=n.endState,h=element.setClip({type:r,attrs:o});h.animate(c,Object(l.a)(Object(l.a)({},t),{callback:function(){element&&!element.get("destroyed")&&element.set("clipShape",null),h.remove(!0)}}))})),Mn("zoom-in",(function(t,e,n){$r(t,e,"zoomIn")})),Mn("zoom-out",(function(t,e,n){$r(t,e,"zoomOut")})),Mn("position-update",(function(t,e,n){var r=n.toAttrs,o=r.x,c=r.y;delete r.x,delete r.y,t.attr(r),t.animate({x:o,y:c},e)})),Mn("sector-path-update",(function(t,e,n){var r=n.toAttrs,o=n.coordinate,path=r.path||[],c=path.map((function(t){return t[0]}));if(!(path.length<1)){var f=Jr(path),d=f.startAngle,v=f.endAngle,y=f.radius,m=f.innerRadius,x=Jr(t.attr("path")),O=x.startAngle,j=x.endAngle,w=o.getCenter(),C=d-O,M=v-j;0!==C||0!==M?t.animate((function(t){var e=O+t*C,n=j+t*M;return Object(l.a)(Object(l.a)({},r),{path:Object(h.E)(c,["M","A","A","Z"])?pt(w.x,w.y,y,e,n):ht(w.x,w.y,y,e,n,m)})}),Object(l.a)(Object(l.a)({},e),{callback:function(){t.attr("path",path)}})):t.attr("path",path)}})),Mn("path-in",(function(element,t,e){var n=element.getTotalLength();element.attr("lineDash",[n]),element.animate((function(t){return{lineDashOffset:(1-t)*n}}),t)})),Gt("rect",rect),Gt("mirror",co),Gt("list",ro),Gt("matrix",ao),Gt("circle",circle),Gt("tree",ho),cn("axis",Mo),cn("legend",ko),cn("tooltip",jn),cn("annotation",yo),cn("slider",Eo),cn("scrollbar",Io),Vt("tooltip",Go),Vt("sibling-tooltip",Xo),Vt("ellipsis-text",Ho),Vt("element-active",Qo),Vt("element-single-active",sa),Vt("element-range-active",ia),Vt("element-highlight",va),Vt("element-highlight-by-x",xa),Vt("element-highlight-by-color",ma),Vt("element-single-highlight",Ca),Vt("element-range-highlight",ja),Vt("element-sibling-highlight",ja,{effectSiblings:!0,effectByRecord:!0}),Vt("element-selected",Ta),Vt("element-single-selected",ka),Vt("element-range-selected",Sa),Vt("element-link-by-color",$o),Vt("active-region",_o),Vt("list-active",Ia),Vt("list-selected",Xa),Vt("list-highlight",Ga),Vt("list-unchecked",Ha),Vt("list-checked",Ua),Vt("legend-item-highlight",Ga,{componentNames:["legend"]}),Vt("axis-label-highlight",Ga,{componentNames:["axis"]}),Vt("rect-mask",ts),Vt("x-rect-mask",rs,{dim:"x"}),Vt("y-rect-mask",rs,{dim:"y"}),Vt("circle-mask",Ja),Vt("path-mask",as),Vt("smooth-path-mask",cs),Vt("cursor",cursor),Vt("data-filter",hs),Vt("brush",vs),Vt("brush-x",vs,{dims:["x"]}),Vt("brush-y",vs,{dims:["y"]}),Vt("sibling-filter",ms),Vt("sibling-x-filter",ms),Vt("sibling-y-filter",ms),Vt("element-filter",xs),Vt("element-sibling-filter",js),Vt("element-sibling-filter-record",js,{byRecord:!0}),Vt("view-drag",Ss),Vt("view-move",Ts),Vt("scale-translate",Es),Vt("scale-zoom",Is),Vt("reset-button",Cs,{name:"reset-button",text:"reset"}),Le("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Le("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Le("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Le("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Le("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Le("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Le("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Le("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Le("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Le("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Le("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Le("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Le("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Fs,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Fs,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Fs,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Le("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Le("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Fs,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Fs,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Fs,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Le("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Fs,action:"path-mask:start"},{trigger:"mousedown",isEnable:Fs,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Le("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Le("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),Le("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Le("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Le("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),Le("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),Le("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(t){return Ds(t.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(t){return!Ds(t.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Le("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]})},454:function(t,e,n){"use strict";n.r(e),n.d(e,"Base",(function(){return base})),n.d(e,"Circle",(function(){return circle})),n.d(e,"Ellipse",(function(){return ellipse})),n.d(e,"Image",(function(){return j})),n.d(e,"Line",(function(){return line})),n.d(e,"Marker",(function(){return marker})),n.d(e,"Path",(function(){return X})),n.d(e,"Polygon",(function(){return polygon})),n.d(e,"Polyline",(function(){return polyline})),n.d(e,"Rect",(function(){return rect})),n.d(e,"Text",(function(){return K}));var r={};n.r(r),n.d(r,"Base",(function(){return base})),n.d(r,"Circle",(function(){return circle})),n.d(r,"Ellipse",(function(){return ellipse})),n.d(r,"Image",(function(){return j})),n.d(r,"Line",(function(){return line})),n.d(r,"Marker",(function(){return marker})),n.d(r,"Path",(function(){return X})),n.d(r,"Polygon",(function(){return polygon})),n.d(r,"Polyline",(function(){return polyline})),n.d(r,"Rect",(function(){return rect})),n.d(r,"Text",(function(){return K}));var o=n(416),c=n(417),l=n(422),h=n(442),f=n(464),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return r},e.prototype.getGroupBase=function(){return f.a},e.prototype.onCanvasChange=function(t){Object(h.h)(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=Object(c.getBBoxMethod)(t)(this),r=e/2,o=n.x-r,l=n.y-r,h=n.x+n.width+r,f=n.y+n.height+r;return{x:o,minX:o,y:l,minY:l,width:n.width+e,height:n.height+e,maxX:h,maxY:f}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,e){e&&(t.save(),Object(h.a)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);var r=this.getCanvasBBox();if(!Object(l.f)(e,r))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),Object(h.a)(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var canvas=this.cfg.canvas;return canvas?canvas.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=Object(l.f)(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,o=e.strokeOpacity,c=e.fillOpacity;this.isFill()&&(Object(l.i)(c)||1===c?this.fill(t):(t.globalAlpha=c,this.fill(t),t.globalAlpha=r)),this.isStroke()&&n>0&&(Object(l.i)(o)||1===o||(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,o)},e.prototype.isInStrokeOrPath=function(t,e,n,r,o){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(c.AbstractShape),base=d,v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,o){var c=this.attr(),h=c.x,f=c.y,d=c.r,v=o/2,y=Object(l.b)(h,f,t,e);return r&&n?y<=d+v:r?y<=d:!!n&&(y>=d-v&&y<=d+v)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,o=e.r;t.beginPath(),t.arc(n,r,o,0,2*Math.PI,!1),t.closePath()},e}(base),circle=v;function y(t,e,n,r){return t/(n*n)+e/(r*r)}var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,o){var c=this.attr(),l=o/2,h=c.x,f=c.y,d=c.rx,v=c.ry,m=(t-h)*(t-h),x=(e-f)*(e-f);return r&&n?y(m,x,d+l,v+l)<=1:r?y(m,x,d,v)<=1:!!n&&(y(m,x,d-l,v-l)>=1&&y(m,x,d+l,v+l)<=1)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,o=e.rx,c=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,r,o,c,0,0,2*Math.PI,!1);else{var l=o>c?o:c,h=o>c?1:o/c,f=o>c?c/o:1;t.save(),t.translate(n,r),t.scale(h,f),t.arc(0,0,l,0,2*Math.PI),t.restore(),t.closePath()}},e}(base),ellipse=m;function x(t){return t instanceof HTMLElement&&Object(l.k)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var canvas=this.get("canvas");canvas?canvas.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(img){var t=this,e=this.attrs;if(Object(l.k)(img)){var n=new Image;n.onload=function(){if(t.destroyed)return!1;t.attr("img",n),t.set("loading",!1),t._afterLoading();var e=t.get("callback");e&&e.call(t)},n.crossOrigin="Anonymous",n.src=img,this.set("loading",!0)}else img instanceof Image?(e.width||(e.width=img.width),e.height||(e.height=img.height)):x(img)&&(e.width||(e.width=Number(img.getAttribute("width"))),e.height||(e.height,Number(img.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,r=e.y,o=e.width,c=e.height,h=e.sx,f=e.sy,d=e.swidth,v=e.sheight,img=e.img;(img instanceof Image||x(img))&&(Object(l.i)(h)||Object(l.i)(f)||Object(l.i)(d)||Object(l.i)(v)?t.drawImage(img,n,r,o,c):t.drawImage(img,h,f,d,v,n,r,o,c))},e}(base),j=O,w=n(421);function C(t,e,n,r,o,c,l){var h=Math.min(t,n),f=Math.max(t,n),d=Math.min(e,r),v=Math.max(e,r),y=o/2;return c>=h-y&&c<=f+y&&l>=d-y&&l<=v+y&&w.c.pointToLine(t,e,n,r,c,l)<=o/2}var M=n(463),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,o=t.y2,c=t.startArrow,l=t.endArrow;c&&M.b(this,t,r,o,e,n),l&&M.a(this,t,e,n,r,o)},e.prototype.isInStrokeOrPath=function(t,e,n,r,o){if(!n||!o)return!1;var c=this.attr();return C(c.x1,c.y1,c.x2,c.y2,o,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,o=e.x2,c=e.y2,l=e.startArrow,h=e.endArrow,f={dx:0,dy:0},d={dx:0,dy:0};l&&l.d&&(f=M.c(n,r,o,c,e.startArrow.d)),h&&h.d&&(d=M.c(n,r,o,c,e.endArrow.d)),t.beginPath(),t.moveTo(n+f.dx,r+f.dy),t.lineTo(o-d.dx,c-d.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,o=t.y2;return w.c.length(e,n,r,o)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,o=e.x2,c=e.y2;return w.c.pointAt(n,r,o,c,t)},e}(base),line=S,A=n(415),T=n(436),B={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return Object(A.G)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,path,n=this.attr(),r=n.x,o=n.y,symbol=n.symbol||"circle",c=this._getR(n);if(Object(l.h)(symbol))path=(t=symbol)(r,o,c),path=Object(T.d)(path);else{if(!(t=e.Symbols[symbol]))return console.warn(symbol+" marker is not supported."),null;path=t(r,o,c)}return path},e.prototype.createPath=function(t){var path=this._getPath(),e=this.get("paramsCache");Object(h.e)(this,t,{path:path},e)},e.Symbols=B,e}(base),marker=k;function P(t,e,n){var r=Object(c.getOffScreenContext)();return t.createPath(r),r.isPointInPath(e,n)}function E(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function L(t,e,q){return(q[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(q[1]-t[1])&&Math.min(t[0],e[0])<=q[0]&&q[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=q[1]&&q[1]<=Math.max(t[1],e[1])}function I(t,e,n){var r=!1,o=t.length;if(o<=2)return!1;for(var i=0;i<o;i++){var c=t[i],l=t[(i+1)%o];if(L(c,l,[e,n]))return!0;E(c[1]-n)>0!=E(l[1]-n)>0&&E(e-(n-c[1])*(c[0]-l[0])/(c[1]-l[1])-c[0])<0&&(r=!r)}return r}var F=n(418),D=n(475);function R(t,e,n,r,o,c,h,f){var d=(Math.atan2(f-e,h-t)+2*Math.PI)%(2*Math.PI);if(d<r||d>o)return!1;var v={x:t+n*Math.cos(d),y:e+n*Math.sin(d)};return Object(l.b)(v.x,v.y,h,f)<=c/2}var _=F.a.transform;var Y=Object(o.a)({hasArc:function(path){for(var t=!1,e=path.length,i=0;i<e;i++){var n=path[i][0];if("C"===n||"A"===n||"Q"===n){t=!0;break}}return t},extractPolygons:function(path){for(var t=path.length,e=[],n=[],r=[],i=0;i<t;i++){var o=path[i],c=o[0];"M"===c?(r.length&&(n.push(r),r=[]),r.push([o[1],o[2]])):"Z"===c?r.length&&(e.push(r),r=[]):r.push([o[1],o[2]])}return r.length>0&&n.push(r),{polygons:e,polylines:n}},isPointInStroke:function(t,e,n,r,o){for(var c=!1,h=e/2,i=0;i<t.length;i++){var f=t[i],d=f.currentPoint,v=f.params,y=f.prePoint,m=f.box;if(!m||Object(l.e)(m.x-h,m.y-h,m.width+e,m.height+e,n,r)){switch(f.command){case"L":case"Z":c=C(y[0],y[1],d[0],d[1],e,n,r);break;case"Q":c=w.e.pointDistance(y[0],y[1],v[1],v[2],v[3],v[4],n,r)<=e/2;break;case"C":c=w.b.pointDistance(y[0],y[1],v[1],v[2],v[3],v[4],v[5],v[6],n,r,o)<=e/2;break;case"A":var x=f.arcParams,O=x.cx,j=x.cy,M=x.rx,S=x.ry,A=x.startAngle,T=x.endAngle,B=x.xRotation,p=[n,r,1],k=M>S?M:S,P=_(null,[["t",-O,-j],["r",-B],["s",1/(M>S?1:M/S),1/(M>S?S/M:1)]]);D.transformMat3(p,p,P),c=R(0,0,k,A,T,e,p[0],p[1])}if(c)break}}return c}},c.PathUtil);function G(t,e,n){for(var r=!1,i=0;i<t.length;i++){if(r=I(t[i],e,n))break}return r}var z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(path){this.attrs.path=Object(T.d)(path);var t=Y.hasArc(path);this.set("hasArc",t),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Object(T.e)(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var r=this.getStartTangent();M.b(this,t,r[0][0],r[0][1],r[1][0],r[1][1])}if(n){r=this.getEndTangent();M.a(this,t,r[0][0],r[0][1],r[1][0],r[1][1])}},e.prototype.isInStrokeOrPath=function(t,e,n,r,o){var c=this.getSegments(),l=this.get("hasArc"),h=!1;if(n){var f=this.getTotalLength();h=Y.isPointInStroke(c,o,t,e,f)}if(!h&&r)if(l)h=P(this,t,e);else{var path=this.attr("path"),d=Y.extractPolygons(path);h=G(d.polygons,t,e)||G(d.polylines,t,e)}return h},e.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");Object(h.e)(this,t,e,n)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return Object(A.G)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var o=this.get("curve");if(!r||0===r.length)return o?{x:o[0][1],y:o[0][2]}:null;Object(A.j)(r,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}));var c=o[n];if(Object(A.G)(c)||Object(A.G)(n))return null;var l=c.length,h=o[n+1];return w.b.pointAt(c[l-2],c[l-1],h[1],h[2],h[3],h[4],h[5],h[6],e)},e.prototype._calculateCurve=function(){var path=this.attr().path;this.set("curve",Y.pathToCurve(path))},e.prototype._setTcache=function(){var t,e,n,r,o=0,c=0,l=[],h=this.get("curve");h&&(Object(A.j)(h,(function(t,i){n=h[i+1],r=t.length,n&&(o+=w.b.length(t[r-2],t[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",o),0!==o?(Object(A.j)(h,(function(f,i){n=h[i+1],r=f.length,n&&((t=[])[0]=c/o,e=w.b.length(f[r-2],f[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),c+=e||0,t[1]=c/o,l.push(t))})),this.set("tCache",l)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,o=e[1].startTangent;t=[],o?(t.push([n[0]-o[0],n[1]-o[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var r=e[n-2].currentPoint,o=e[n-1].currentPoint,c=e[n-1].endTangent;t=[],c?(t.push([o[0]-c[0],o[1]-c[1]]),t.push([o[0],o[1]])):(t.push([r[0],r[1]]),t.push([o[0],o[1]]))}return t},e}(base),X=z;function N(t,e,n,r,o){var c=t.length;if(c<2)return!1;for(var i=0;i<c-1;i++){if(C(t[i][0],t[i][1],t[i+1][0],t[i+1][1],e,n,r))return!0}if(o){var l=t[0],h=t[c-1];if(C(l[0],l[1],h[0],h[1],e,n,r))return!0}return!1}var H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,r,o){var c=this.attr().points,l=!1;return n&&(l=N(c,o,t,e,!0)),!l&&r&&(l=I(c,t,e)),l},e.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var i=0;i<e.length;i++){var n=e[i];0===i?t.moveTo(n[0],n[1]):t.lineTo(n[0],n[1])}t.closePath()}},e}(base),polygon=H,V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,o=e.endArrow,c=n.length,l=n[0][0],h=n[0][1],f=n[c-1][0],d=n[c-1][1];r&&M.b(this,t,n[1][0],n[1][1],l,h),o&&M.a(this,t,n[c-2][0],n[c-2][1],f,d)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,r,o){return!(!n||!o)&&N(this.attr().points,o,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,o=e.endArrow,c=n.length;if(!(n.length<2)){var l,h=n[0][0],f=n[0][1],d=n[c-1][0],v=n[c-1][1];if(r&&r.d)h+=(l=M.c(h,f,n[1][0],n[1][1],r.d)).dx,f+=l.dy;if(o&&o.d)d-=(l=M.c(n[c-2][0],n[c-2][1],d,v,o.d)).dx,v-=l.dy;t.beginPath(),t.moveTo(h,f);for(var i=0;i<c-1;i++){var y=n[i];t.lineTo(y[0],y[1])}t.lineTo(d,v)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(A.G)(e)?(this.set("totalLength",w.d.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,o=this.get("tCache");return o||(this._setTcache(),o=this.get("tCache")),Object(A.j)(o,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),w.c.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,o=0,c=[];Object(A.j)(t,(function(p,i){t[i+1]&&((n=[])[0]=o/e,r=w.c.length(p[0],p[1],t[i+1][0],t[i+1][1]),o+=r,n[1]=o/e,c.push(n))})),this.set("tCache",c)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(base),polyline=V,W=n(513);var U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,o){var c=this.attr(),h=c.x,f=c.y,d=c.width,v=c.height,y=c.radius;if(y){var m=!1;return n&&(m=function(t,e,n,r,o,c,l,h){return C(t+o,e,t+n-o,e,c,l,h)||C(t+n,e+o,t+n,e+r-o,c,l,h)||C(t+n-o,e+r,t+o,e+r,c,l,h)||C(t,e+r-o,t,e+o,c,l,h)||R(t+n-o,e+o,o,1.5*Math.PI,2*Math.PI,c,l,h)||R(t+n-o,e+r-o,o,0,.5*Math.PI,c,l,h)||R(t+o,e+r-o,o,.5*Math.PI,Math.PI,c,l,h)||R(t+o,e+o,o,Math.PI,1.5*Math.PI,c,l,h)}(h,f,d,v,y,o,t,e)),!m&&r&&(m=P(this,t,e)),m}var x=o/2;return r&&n?Object(l.e)(h-x,f-x,d+x,v+x,t,e):r?Object(l.e)(h,f,d,v,t,e):n?function(t,e,n,r,o,c,h){var f=o/2;return Object(l.e)(t-f,e-f,n,o,c,h)||Object(l.e)(t+n-f,e-f,o,r,c,h)||Object(l.e)(t+f,e+r-f,n,o,c,h)||Object(l.e)(t-f,e+f,o,r,c,h)}(h,f,d,v,o,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,o=e.width,c=e.height,l=e.radius;if(t.beginPath(),0===l)t.rect(n,r,o,c);else{var h=Object(W.a)(l),f=h[0],d=h[1],v=h[2],y=h[3];t.moveTo(n+f,r),t.lineTo(n+o-d,r),0!==d&&t.arc(n+o-d,r+d,d,-Math.PI/2,0),t.lineTo(n+o,r+c-v),0!==v&&t.arc(n+o-v,r+c-v,v,0,Math.PI/2),t.lineTo(n+y,r+c),0!==y&&t.arc(n+y,r+c-y,y,Math.PI/2,Math.PI),t.lineTo(n,r+f),0!==f&&t.arc(n+f,r+f,f,Math.PI,1.5*Math.PI),t.closePath()}},e}(base),rect=U,Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=Object(c.assembleFont)(t)},e.prototype._setText=function(text){var t=null;Object(l.k)(text)&&-1!==text.indexOf("\n")&&(t=text.split("\n")),this.set("textArr",t)},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var r,o=this.attrs,h=o.textBaseline,f=o.x,d=o.y,v=1*o.fontSize,y=this._getSpaceingY(),m=Object(c.getTextHeight)(o.text,o.fontSize,o.lineHeight);Object(l.c)(e,(function(e,o){r=d+o*(y+v)-m+v,"middle"===h&&(r+=m-v-(m-v)/2),"top"===h&&(r+=m-v),Object(l.i)(e)||(n?t.fillText(e,f,r):t.strokeText(e,f,r))}))},e.prototype._drawText=function(t,e){var n=this.attr(),r=n.x,o=n.y,c=this.get("textArr");if(c)this._drawTextArr(t,c,e);else{var text=n.text;Object(l.i)(text)||(e?t.fillText(text,r,o):t.strokeText(text,r,o))}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,o=e.strokeOpacity,c=e.fillOpacity;this.isStroke()&&n>0&&(Object(l.i)(o)||1===o||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&(Object(l.i)(c)||1===c?this.fill(t):(t.globalAlpha=c,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(base),K=Z},455:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n(415);function o(t,i){return t.charCodeAt(i)>0&&t.charCodeAt(i)<128?1:2}function c(t){if(t.length>400)return function(t){for(var e=t.map((function(label){var text=label.attr("text");return Object(r.G)(text)?"":""+text})),n=0,o=0,i=0;i<e.length;i+=1){for(var c=0,l=0;l<=e[i].length;l+=1){var code=e[i].charCodeAt(l);c+=code>=19968&&code<=40869?2:1}c>n&&(n=c,o=i)}return t[o].getBBox().width}(t);var e=0;return Object(r.j)(t,(function(label){var t=label.getBBox().width;e<t&&(e=t)})),e}function l(t,label,e,n){void 0===n&&(n="tail");var text=label.attr("text"),r=function(t,label){var e=label.getCanvasBBox();return t?e.width:e.height}(t,label),c=function(t){for(var e=0,i=0;i<t.length;i++)e+=o(t,i);return e}(text),l=!1;if(e<r){var h=Math.floor(e/r*c)-2,f=void 0;f=h>=0?function(t,e,n){void 0===n&&(n="tail");var r=t.length,c="";if("tail"===n){for(var i=0,l=0;i<e&&i+o(t,l)<=e;)c+=t[l],i+=o(t,l),l++;c+="…"}else if("head"===n){for(i=0,l=r-1;i<e&&i+o(t,l)<=e;)c+=t[l],i+=o(t,l),l--;c="…"+c}else{for(var h="",f="",d=(i=0,0),v=r-1;i<e;){var y=o(t,d),m=!1;y+i<=e&&(h+=t[d],d++,i+=y,m=!0);var x=o(t,v);if(x+i<=e&&(f=t[v]+f,i+=x,v--,m=!0),!m)break}c=h+"…"+f}return c}(text,h,n):"…",f&&(label.attr("text",f),l=!0)}return l?label.set("tip",text):label.set("tip",null),l}},456:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return h}));var r=n(428),o=n(477);function c(text,t,e){var n=1;if(Object(r.h)(text)&&(n=text.split("\n").length),n>1){var o=function(t,e){return e?e-t:.14*t}(t,e);return t*n+o*(n-1)}return t}function l(text,t){var e=Object(o.a)(),n=0;if(Object(r.e)(text)||""===text)return n;if(e.save(),e.font=t,Object(r.h)(text)&&text.includes("\n")){var c=text.split("\n");Object(r.a)(c,(function(t){var r=e.measureText(t).width;n<r&&(n=r)}))}else n=e.measureText(text).width;return e.restore(),n}function h(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+"px",n].join(" ").trim()}},457:function(t,e){},458:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c}));var r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)};function o(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var c=function(){return c=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},c.apply(this,arguments)}},459:function(t,e,n){"use strict";var r=n(415),o=/rgba?\(([\s.,0-9]+)\)/,c=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,l=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,h=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,f=function(t,e,n,r){return t[r]+(e[r]-t[r])*n};function d(t){return"#"+m(t[0])+m(t[1])+m(t[2])}var v,y=function(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]},m=function(t){var e=Math.round(t).toString(16);return 1===e.length?"0"+e:e},x=function(t){if("#"===t[0]&&7===t.length)return t;var i;v||((i=document.createElement("i")).title="Web Colour Picker",i.style.display="none",document.body.appendChild(i),v=i),v.style.color=t;var e=document.defaultView.getComputedStyle(v,"").getPropertyValue("color");return e=d(o.exec(e)[1].split(/\s*,\s*/).map((function(s){return Number(s)})))};e.a={rgb2arr:y,gradient:function(t){var e=Object(r.M)(t)?t.split("-"):t,n=Object(r.R)(e,(function(t){return y(-1===t.indexOf("#")?x(t):t)}));return function(t){return function(t,e){var n=isNaN(Number(e))||e<0?0:e>1?1:Number(e),r=t.length-1,o=Math.floor(r*n),c=r*n-o,l=t[o],h=o===r?l:t[o+1];return d([f(l,h,c,0),f(l,h,c,1),f(l,h,c,2)])}(n,t)}},toRGB:Object(r.U)(x),toCSSGradient:function(t){if(/^[r,R,L,l]{1}[\s]*\(/.test(t)){var e,n=void 0;if("l"===t[0]){var o=+(f=c.exec(t))[1]+90;n=f[2],e="linear-gradient("+o+"deg, "}else if("r"===t[0]){var f;e="radial-gradient(",n=(f=l.exec(t))[4]}var d=n.match(h);return Object(r.j)(d,(function(t,n){var r=t.split(":");e+=r[1]+" "+100*r[0]+"%",n!==d.length-1&&(e+=", ")})),e+=")"}return t}}},460:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return h}));var r=n(430),o=n(484);function c(text,t,e){var n=1;if(Object(r.h)(text)&&(n=text.split("\n").length),n>1){var o=function(t,e){return e?e-t:.14*t}(t,e);return t*n+o*(n-1)}return t}function l(text,t){var e=Object(o.a)(),n=0;if(Object(r.e)(text)||""===text)return n;if(e.save(),e.font=t,Object(r.h)(text)&&text.includes("\n")){var c=text.split("\n");Object(r.a)(c,(function(t){var r=e.measureText(t).width;n<r&&(n=r)}))}else n=e.measureText(text).width;return e.restore(),n}function h(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+"px",n].join(" ").trim()}},461:function(t,e,n){"use strict";var r=n(416),o=n(502),c=n(415),l={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},h=function(t){function e(e){var n=t.call(this,e)||this;return n.initCfg(),n}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var e=this,n=this.get("defaultCfg");Object(c.j)(t,(function(t,r){var o=t;e.get(r)!==t&&(Object(c.K)(t)&&n[r]&&(o=Object(c.h)({},n[r],t)),e.set(r,o))})),this.updateInner(t),this.afterUpdate(t)},e.prototype.updateInner=function(t){},e.prototype.afterUpdate=function(t){Object(c.v)(t,"visible")&&(t.visible?this.show():this.hide()),Object(c.v)(t,"capture")&&this.setCapture(t.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},e.prototype.setLocation=function(t){var e=Object(r.a)({},t);this.update(e)},e.prototype.getLocation=function(){var t=this,e={},n=this.get("locationType"),r=l[n];return Object(c.j)(r,(function(n){e[n]=t.get(n)})),e},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,e=this.get("defaultCfg");Object(c.j)(e,(function(e,n){var r=t.get(n);if(Object(c.K)(r)){var o=Object(c.h)({},e,r);t.set(n,o)}}))},e}(o.Base);e.a=h},462:function(t,e,n){"use strict";n.r(e),n.d(e,"CONTAINER_CLASS",(function(){return r})),n.d(e,"TITLE_CLASS",(function(){return o})),n.d(e,"LIST_CLASS",(function(){return c})),n.d(e,"LIST_ITEM_CLASS",(function(){return l})),n.d(e,"MARKER_CLASS",(function(){return h})),n.d(e,"VALUE_CLASS",(function(){return f})),n.d(e,"NAME_CLASS",(function(){return d})),n.d(e,"CROSSHAIR_X",(function(){return v})),n.d(e,"CROSSHAIR_Y",(function(){return y}));var r="g2-tooltip",o="g2-tooltip-title",c="g2-tooltip-list",l="g2-tooltip-list-item",h="g2-tooltip-marker",f="g2-tooltip-value",d="g2-tooltip-name",v="g2-tooltip-crosshair-x",y="g2-tooltip-crosshair-y"},463:function(t,e,n){"use strict";n.d(e,"c",(function(){return y})),n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return x}));var r=n(416),o=n(454),c=Math.sin,l=Math.cos,h=Math.atan2,f=Math.PI;function d(t,e,n,r,d,v,y){var m=e.stroke,x=e.lineWidth,O=h(r-v,n-d),j=new o.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*l(f/6)+","+10*c(f/6)+" L0,0 L"+10*l(f/6)+",-"+10*c(f/6),stroke:m,lineWidth:x}});j.translate(d,v),j.rotateAtPoint(d,v,O),t.set(y?"startArrowShape":"endArrowShape",j)}function v(t,e,n,f,d,v,y){var m=e.startArrow,x=e.endArrow,O=e.stroke,j=e.lineWidth,w=y?m:x,C=w.d,M=w.fill,S=w.stroke,A=w.lineWidth,T=Object(r.c)(w,["d","fill","stroke","lineWidth"]),B=h(f-v,n-d);C&&(d-=l(B)*C,v-=c(B)*C);var k=new o.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:Object(r.a)(Object(r.a)({},T),{stroke:S||O,lineWidth:A||j,fill:M})});k.translate(d,v),k.rotateAtPoint(d,v,B),t.set(y?"startArrowShape":"endArrowShape",k)}function y(t,e,n,r,o){var f=h(r-e,n-t);return{dx:l(f)*o,dy:c(f)*o}}function m(t,e,n,r,o,c){"object"==typeof e.startArrow?v(t,e,n,r,o,c,!0):e.startArrow?d(t,e,n,r,o,c,!0):t.set("startArrowShape",null)}function x(t,e,n,r,o,c){"object"==typeof e.endArrow?v(t,e,n,r,o,c,!1):e.endArrow?d(t,e,n,r,o,c,!1):t.set("startArrowShape",null)}},464:function(t,e,n){"use strict";var r=n(416),o=n(417),c=n(454),l=n(442),h=n(415),f=n(422),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.onCanvasChange=function(t){Object(l.h)(this,t)},e.prototype.getShapeBase=function(){return c},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),Object(l.a)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];Object(h.j)(t,(function(t){var r=t.cfg.cacheCanvasBBox;r&&t.cfg.isInView&&(e.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(e.length){var o=Object(h.V)(e),c=Object(h.T)(e),l=Object(h.V)(n),d=Object(h.T)(n);r={minX:o,minY:l,x:o,y:l,maxX:c,maxY:d,width:c-o,height:d-l};var canvas=this.cfg.canvas;if(canvas){var v=canvas.getViewRange();this.set("isInView",Object(f.f)(r,v))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},e.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),Object(l.a)(t,this),this._applyClip(t,this.getClip()),Object(l.d)(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(o.AbstractGroup);e.a=d},465:function(t,e,n){"use strict";var r=n(416),o=n(417),c=n(415),l=n(466),h=n(486),f=n(443),d=n(423),v=n(426),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var element=Object(v.b)("g");this.set("el",element);var t=this.getParent();if(t){var e=t.get("el");e||(e=t.createDom(),t.set("el",e)),e.appendChild(element)}return element},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var canvas=this.get("canvas");if(canvas&&canvas.get("autoDraw")){var n=canvas.get("context");this.createPath(n,e)}},e.prototype.onCanvasChange=function(t){Object(h.b)(this,t)},e.prototype.getShapeBase=function(){return l},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),Object(f.a)(this,t),this.createPath(t),e.length&&Object(h.a)(t,e))},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(c.j)(e||n,(function(t,e){d.b[e]&&r.setAttribute(d.b[e],t)})),Object(f.c)(this)},e}(o.AbstractGroup);e.a=y},466:function(t,e,n){"use strict";n.r(e),n.d(e,"Base",(function(){return base})),n.d(e,"Circle",(function(){return circle})),n.d(e,"Dom",(function(){return O})),n.d(e,"Ellipse",(function(){return ellipse})),n.d(e,"Image",(function(){return C})),n.d(e,"Line",(function(){return line})),n.d(e,"Marker",(function(){return marker})),n.d(e,"Path",(function(){return P})),n.d(e,"Polygon",(function(){return polygon})),n.d(e,"Polyline",(function(){return polyline})),n.d(e,"Rect",(function(){return rect})),n.d(e,"Text",(function(){return G}));var r={};n.r(r),n.d(r,"Base",(function(){return base})),n.d(r,"Circle",(function(){return circle})),n.d(r,"Dom",(function(){return O})),n.d(r,"Ellipse",(function(){return ellipse})),n.d(r,"Image",(function(){return C})),n.d(r,"Line",(function(){return line})),n.d(r,"Marker",(function(){return marker})),n.d(r,"Path",(function(){return P})),n.d(r,"Polygon",(function(){return polygon})),n.d(r,"Polyline",(function(){return polyline})),n.d(r,"Rect",(function(){return rect})),n.d(r,"Text",(function(){return G}));var o=n(416),c=n(417),svg=n(443),l=n(426),h=n(486),f=n(423),d=n(465),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var canvas=this.get("canvas");if(canvas&&canvas.get("autoDraw")){var n=canvas.get("context");this.draw(n,e)}},e.prototype.getShapeBase=function(){return r},e.prototype.getGroupBase=function(){return d.a},e.prototype.onCanvasChange=function(t){Object(h.b)(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=Object(c.getBBoxMethod)(this.get("type"));n&&(e=n(this))}if(e){var r=e.x,o=e.y,l=e.width,h=e.height,f=this.getHitLineWidth(),d=f/2,v=r-d,y=o-d;return{x:v,y:y,minX:v,minY:y,maxX:r+l+d,maxY:o+h+d,width:l+f,height:h+f}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},e.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Object(l.a)(this),Object(svg.a)(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),r=n.fill,o=n.fillStyle,c=n.stroke,l=n.strokeStyle,h=n.fillOpacity,d=n.strokeOpacity,v=n.lineWidth,y=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",r):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",r||o),h&&y.setAttribute(f.b.fillOpacity,h)),this.canStroke&&v>0&&(e?"stroke"in n?this._setColor(t,"stroke",c):"strokeStyle"in n&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",c||l),d&&y.setAttribute(f.b.strokeOpacity,d),v&&y.setAttribute(f.b.lineWidth,v))},e.prototype._setColor=function(t,e,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(o=t.find("gradient",n))||(o=t.addGradient(n)),r.setAttribute(f.b[e],"url(#"+o+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var o;(o=t.find("pattern",n))||(o=t.addPattern(n)),r.setAttribute(f.b[e],"url(#"+o+")")}else r.setAttribute(f.b[e],n);else r.setAttribute(f.b[e],"none")},e.prototype.shadow=function(t,e){var n=this.attr(),r=e||n,o=r.shadowOffsetX,c=r.shadowOffsetY,l=r.shadowBlur,h=r.shadowColor;(o||c||l||h)&&Object(svg.b)(this,t)},e.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&Object(svg.c)(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var n=this.get("el"),r=this.get("canvas").get("el").getBoundingClientRect(),o=t+r.left,c=e+r.top,element=document.elementFromPoint(o,c);return!(!element||!element.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},e}(c.AbstractShape),base=v,y=n(415),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{x:0,y:0,r:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(y.j)(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):f.b[e]&&r.setAttribute(f.b[e],t)}))},e}(base),circle=m,x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return Object(o.b)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");if(Object(y.j)(e||n,(function(t,e){f.b[e]&&r.setAttribute(f.b[e],t)})),"function"==typeof n.html){var element=n.html.call(this,n);if(element instanceof Element||element instanceof HTMLDocument){for(var o=r.childNodes,i=o.length-1;i>=0;i--)r.removeChild(o[i]);r.appendChild(element)}else r.innerHTML=element}else r.innerHTML=n.html},e}(base),O=x,j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(y.j)(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):f.b[e]&&r.setAttribute(f.b[e],t)}))},e}(base),ellipse=j,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),o=this.get("el");Object(y.j)(e||r,(function(t,e){"img"===e?n._setImage(r.img):f.b[e]&&o.setAttribute(f.b[e],t)}))},e.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},e.prototype._setImage=function(img){var t=this.attr(),e=this.get("el");if(Object(y.M)(img))e.setAttribute("href",img);else if(img instanceof window.Image)t.width||(e.setAttribute("width",img.width),this.attr("width",img.width)),t.height||(e.setAttribute("height",img.height),this.attr("height",img.height)),e.setAttribute("href",img.src);else if(img instanceof HTMLElement&&Object(y.M)(img.nodeName)&&"CANVAS"===img.nodeName.toUpperCase())e.setAttribute("href",img.toDataURL());else if(img instanceof ImageData){var canvas=document.createElement("canvas");canvas.setAttribute("width",""+img.width),canvas.setAttribute("height",""+img.height),canvas.getContext("2d").putImageData(img,0,0),t.width||(e.setAttribute("width",""+img.width),this.attr("width",img.width)),t.height||(e.setAttribute("height",""+img.height),this.attr("height",img.height)),e.setAttribute("href",canvas.toDataURL())}},e}(base),C=w,M=n(421),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(y.j)(e||n,(function(e,o){if("startArrow"===o||"endArrow"===o)if(e){var c=Object(y.K)(e)?t.addArrow(n,f.b[o]):t.getDefaultArrow(n,f.b[o]);r.setAttribute(f.b[o],"url(#"+c+")")}else r.removeAttribute(f.b[o]);else f.b[o]&&r.setAttribute(f.b[o],e)}))},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,o=t.y2;return M.c.length(e,n,r,o)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,o=e.x2,c=e.y2;return M.c.pointAt(n,r,o,c,t)},e}(base),line=S,A={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},triangleDown:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},T={get:function(t){return A[t]},register:function(t,e){A[t]=e},remove:function(t){delete A[t]},getAll:function(){return A}},B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return Object(o.b)(e,t),e.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return Object(y.z)(t)?t.map((function(path){return path.join(" ")})).join(""):t},e.prototype._getPath=function(){var t,e=this.attr(),n=e.x,r=e.y,o=e.r||e.radius,symbol=e.symbol||"circle";return(t=Object(y.F)(symbol)?symbol:T.get(symbol))?t(n,r,o):(console.warn(t+" symbol is not exist."),null)},e.symbolsFactory=T,e}(base),marker=B,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),o=this.get("el");Object(y.j)(e||r,(function(e,c){if("path"===c&&Object(y.z)(e))o.setAttribute("d",n._formatPath(e));else if("startArrow"===c||"endArrow"===c)if(e){var l=Object(y.K)(e)?t.addArrow(r,f.b[c]):t.getDefaultArrow(r,f.b[c]);o.setAttribute(f.b[c],"url(#"+l+")")}else o.removeAttribute(f.b[c]);else f.b[c]&&o.setAttribute(f.b[c],e)}))},e.prototype._formatPath=function(t){var e=t.map((function(path){return path.join(" ")})).join("");return~e.indexOf("NaN")?"":e},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength();if(0===n)return null;var r=e?e.getPointAtLength(t*n):null;return r?{x:r.x,y:r.y}:null},e}(base),P=k,E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return Object(o.b)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(y.j)(e||n,(function(t,e){"points"===e&&Object(y.z)(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):f.b[e]&&r.setAttribute(f.b[e],t)}))},e}(base),polygon=E,L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(y.j)(e||n,(function(t,e){"points"===e&&Object(y.z)(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):f.b[e]&&r.setAttribute(f.b[e],t)}))},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(y.G)(e)?(this.set("totalLength",M.d.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,o=this.get("tCache");return o||(this._setTcache(),o=this.get("tCache")),Object(y.j)(o,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),M.c.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,o=0,c=[];Object(y.j)(t,(function(p,i){t[i+1]&&((n=[])[0]=o/e,r=M.c.length(p[0],p[1],t[i+1][0],t[i+1][1]),o+=r,n[1]=o/e,c.push(n))})),this.set("tCache",c)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(base),polyline=L;var I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),o=this.get("el"),c=!1,l=["x","y","width","height","radius"];Object(y.j)(e||r,(function(t,e){-1===l.indexOf(e)||c?-1===l.indexOf(e)&&f.b[e]&&o.setAttribute(f.b[e],t):(o.setAttribute("d",n._assembleRect(r)),c=!0)}))},e.prototype._assembleRect=function(t){var e=t.x,n=t.y,r=t.width,o=t.height,c=t.radius;if(!c)return"M "+e+","+n+" l "+r+",0 l 0,"+o+" l"+-r+" 0 z";var l=function(t){var e=0,n=0,r=0,o=0;return Object(y.z)(t)?1===t.length?e=n=r=o=t[0]:2===t.length?(e=r=t[0],n=o=t[1]):3===t.length?(e=t[0],n=o=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],o=t[3]):e=n=r=o=t,{r1:e,r2:n,r3:r,r4:o}}(c);return Object(y.z)(c)?1===c.length?l.r1=l.r2=l.r3=l.r4=c[0]:2===c.length?(l.r1=l.r3=c[0],l.r2=l.r4=c[1]):3===c.length?(l.r1=c[0],l.r2=l.r4=c[1],l.r3=c[2]):(l.r1=c[0],l.r2=c[1],l.r3=c[2],l.r4=c[3]):l.r1=l.r2=l.r3=l.r4=c,[["M "+(e+l.r1)+","+n],["l "+(r-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-r)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]].join(" ")},e}(base),rect=I,F=n(476),D={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},R={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},_={left:"left",start:"left",center:"middle",right:"end",end:"end"},Y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return Object(o.b)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(o.a)(Object(o.a)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),o=this.get("el");this._setFont(),Object(y.j)(e||r,(function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?Object(svg.c)(n):f.b[e]&&o.setAttribute(f.b[e],t)})),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,r=e.textAlign,o=Object(F.a)();o&&"firefox"===o.name?t.setAttribute("dominant-baseline",R[n]||"alphabetic"):t.setAttribute("alignment-baseline",D[n]||"baseline"),t.setAttribute("text-anchor",_[r]||"left")},e.prototype._setText=function(text){var t=this.get("el"),e=this.attr(),n=e.x,r=e.textBaseline,o=void 0===r?"bottom":r;if(text)if(~text.indexOf("\n")){var c=text.split("\n"),l=c.length-1,h="";Object(y.j)(c,(function(t,i){0===i?"alphabetic"===o?h+='<tspan x="'+n+'" dy="'+-l+'em">'+t+"</tspan>":"top"===o?h+='<tspan x="'+n+'" dy="0.9em">'+t+"</tspan>":"middle"===o?h+='<tspan x="'+n+'" dy="'+-(l-1)/2+'em">'+t+"</tspan>":"bottom"===o?h+='<tspan x="'+n+'" dy="-'+(l+.3)+'em">'+t+"</tspan>":"hanging"===o&&(h+='<tspan x="'+n+'" dy="'+(-(l-1)-.3)+'em">'+t+"</tspan>"):h+='<tspan x="'+n+'" dy="1em">'+t+"</tspan>"})),t.innerHTML=h}else t.innerHTML=text;else t.innerHTML=""},e}(base),G=Y},470:function(t,e,n){"use strict";var r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0),this},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._events[t]||[],c=this._events["*"]||[],l=function(r){for(var o=r.length,i=0;i<o;i++)if(r[i]){var c=r[i],l=c.callback;c.once&&(r.splice(i,1),0===r.length&&delete e._events[t],o--,i--),l.apply(e,n)}};l(o),l(c)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();e.a=r},471:function(t,e,n){"use strict";n.r(e),n.d(e,"catmullRomToBezier",(function(){return f})),n.d(e,"fillPath",(function(){return R})),n.d(e,"fillPathByDiff",(function(){return G})),n.d(e,"formatPath",(function(){return N})),n.d(e,"intersection",(function(){return I})),n.d(e,"parsePathArray",(function(){return w})),n.d(e,"parsePathString",(function(){return h})),n.d(e,"pathToAbsolute",(function(){return v})),n.d(e,"pathToCurve",(function(){return O})),n.d(e,"rectPath",(function(){return B}));var r=n(415),o="\t\n\v\f\r   ᠎             　\u2028\u2029",c=new RegExp("([a-z])["+o+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+o+"]*,?["+o+"]*)+)","ig"),l=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+o+"]*,?["+o+"]*","ig"),h=function(t){if(!t)return null;if(Object(r.z)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},data=[];return String(t).replace(c,(function(a,b,n){var r=[],o=b.toLowerCase();if(n.replace(l,(function(a,b){b&&r.push(+b)})),"m"===o&&r.length>2&&(data.push([b].concat(r.splice(0,2))),o="l",b="m"===b?"l":"L"),"o"===o&&1===r.length&&data.push([b,r[0]]),"r"===o)data.push([b].concat(r));else for(;r.length>=e[o]&&(data.push([b].concat(r.splice(0,e[o]))),e[o]););return t})),data},f=function(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var p=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4===i?p[3]={x:+t[0],y:+t[1]}:r-2===i&&(p[2]={x:+t[0],y:+t[1]},p[3]={x:+t[2],y:+t[3]}):p[0]={x:+t[r-2],y:+t[r-1]}:r-4===i?p[3]=p[2]:i||(p[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-p[0].x+6*p[1].x+p[2].x)/6,(-p[0].y+6*p[1].y+p[2].y)/6,(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y])}return n},d=function(t,e,n,r,a){var o=[];if(null===a&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==a){var c=Math.PI/180,l=t+n*Math.cos(-r*c),h=t+n*Math.cos(-a*c);o=[["M",l,e+n*Math.sin(-r*c)],["A",n,n,0,+(a-r>180),0,h,e+n*Math.sin(-a*c)]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},v=function(t){if(!(t=h(t))||!t.length)return[["M",0,0]];var e,n,r=[],o=0,c=0,l=0,v=0,y=0;"M"===t[0][0]&&(l=o=+t[0][1],v=c=+t[0][2],y++,r[0]=["M",o,c]);for(var m=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),x=void 0,O=void 0,i=y,j=t.length;i<j;i++){if(r.push(x=[]),(e=(O=t[i])[0])!==e.toUpperCase())switch(x[0]=e.toUpperCase(),x[0]){case"A":x[1]=O[1],x[2]=O[2],x[3]=O[3],x[4]=O[4],x[5]=O[5],x[6]=+O[6]+o,x[7]=+O[7]+c;break;case"V":x[1]=+O[1]+c;break;case"H":x[1]=+O[1]+o;break;case"R":for(var w=2,C=(n=[o,c].concat(O.slice(1))).length;w<C;w++)n[w]=+n[w]+o,n[++w]=+n[w]+c;r.pop(),r=r.concat(f(n,m));break;case"O":r.pop(),(n=d(o,c,O[1],O[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(d(o,c,O[1],O[2],O[3])),x=["U"].concat(r[r.length-1].slice(-2));break;case"M":l=+O[1]+o,v=+O[2]+c;break;default:for(w=1,C=O.length;w<C;w++)x[w]=+O[w]+(w%2?o:c)}else if("R"===e)n=[o,c].concat(O.slice(1)),r.pop(),r=r.concat(f(n,m)),x=["R"].concat(O.slice(-2));else if("O"===e)r.pop(),(n=d(o,c,O[1],O[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(d(o,c,O[1],O[2],O[3])),x=["U"].concat(r[r.length-1].slice(-2));else for(var M=0,S=O.length;M<S;M++)x[M]=O[M];if("O"!==(e=e.toUpperCase()))switch(x[0]){case"Z":o=+l,c=+v;break;case"H":o=x[1];break;case"V":c=x[1];break;case"M":l=x[x.length-2],v=x[x.length-1];break;default:o=x[x.length-2],c=x[x.length-1]}}return r},y=function(t,e,n,r){return[t,e,n,r,n,r]},m=function(t,e,n,r,o,c){var l=1/3,h=2/3;return[l*t+h*n,l*e+h*r,l*o+h*n,l*c+h*r,o,c]},x=function(t,e,n,r,o,c,l,h,f,d){n===r&&(n+=1);var v,y,m,O,j,w=120*Math.PI/180,C=Math.PI/180*(+o||0),M=[],S=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(d)y=d[0],m=d[1],O=d[2],j=d[3];else{t=(v=S(t,e,-C)).x,e=v.y,h=(v=S(h,f,-C)).x,f=v.y,t===h&&e===f&&(h+=1,f+=1);var A=(t-h)/2,T=(e-f)/2,B=A*A/(n*n)+T*T/(r*r);B>1&&(n*=B=Math.sqrt(B),r*=B);var k=n*n,P=r*r,E=(c===l?-1:1)*Math.sqrt(Math.abs((k*P-k*T*T-P*A*A)/(k*T*T+P*A*A)));O=E*n*T/r+(t+h)/2,j=E*-r*A/n+(e+f)/2,y=Math.asin(((e-j)/r).toFixed(9)),m=Math.asin(((f-j)/r).toFixed(9)),y=t<O?Math.PI-y:y,m=h<O?Math.PI-m:m,y<0&&(y=2*Math.PI+y),m<0&&(m=2*Math.PI+m),l&&y>m&&(y-=2*Math.PI),!l&&m>y&&(m-=2*Math.PI)}var L=m-y;if(Math.abs(L)>w){var I=m,F=h,D=f;m=y+w*(l&&m>y?1:-1),h=O+n*Math.cos(m),f=j+r*Math.sin(m),M=x(h,f,n,r,o,0,l,F,D,[m,I,O,j])}L=m-y;var R=Math.cos(y),_=Math.sin(y),Y=Math.cos(m),G=Math.sin(m),z=Math.tan(L/4),X=4/3*n*z,N=4/3*r*z,H=[t,e],V=[t+X*_,e-N*R],W=[h+X*G,f-N*Y],U=[h,f];if(V[0]=2*H[0]-V[0],V[1]=2*H[1]-V[1],d)return[V,W,U].concat(M);for(var Z=[],i=0,K=(M=[V,W,U].concat(M).join().split(",")).length;i<K;i++)Z[i]=i%2?S(M[i-1],M[i],C).y:S(M[i],M[i+1],C).x;return Z},O=function(path,t){var e,p=v(path),n=t&&v(t),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=[],l=[],h="",f="",d=function(path,t,e){var n,r;if(!path)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(path[0]in{T:1,Q:1})&&(t.qx=t.qy=null),path[0]){case"M":t.X=path[1],t.Y=path[2];break;case"A":path=["C"].concat(x.apply(0,[t.x,t.y].concat(path.slice(1))));break;case"S":"C"===e||"S"===e?(n=2*t.x-t.bx,r=2*t.y-t.by):(n=t.x,r=t.y),path=["C",n,r].concat(path.slice(1));break;case"T":"Q"===e||"T"===e?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),path=["C"].concat(m(t.x,t.y,t.qx,t.qy,path[1],path[2]));break;case"Q":t.qx=path[1],t.qy=path[2],path=["C"].concat(m(t.x,t.y,path[1],path[2],path[3],path[4]));break;case"L":path=["C"].concat(y(t.x,t.y,path[1],path[2]));break;case"H":path=["C"].concat(y(t.x,t.y,path[1],t.y));break;case"V":path=["C"].concat(y(t.x,t.y,t.x,path[1]));break;case"Z":path=["C"].concat(y(t.x,t.y,t.X,t.Y))}return path},O=function(t,i){if(t[i].length>7){t[i].shift();for(var r=t[i];r.length;)c[i]="A",n&&(l[i]="A"),t.splice(i++,0,["C"].concat(r.splice(0,6)));t.splice(i,1),e=Math.max(p.length,n&&n.length||0)}},j=function(t,r,o,c,i){t&&r&&"M"===t[i][0]&&"M"!==r[i][0]&&(r.splice(i,0,["M",c.x,c.y]),o.bx=0,o.by=0,o.x=t[i][1],o.y=t[i][2],e=Math.max(p.length,n&&n.length||0))};e=Math.max(p.length,n&&n.length||0);for(var i=0;i<e;i++){p[i]&&(h=p[i][0]),"C"!==h&&(c[i]=h,i&&(f=c[i-1])),p[i]=d(p[i],r,f),"A"!==c[i]&&"C"===h&&(c[i]="C"),O(p,i),n&&(n[i]&&(h=n[i][0]),"C"!==h&&(l[i]=h,i&&(f=l[i-1])),n[i]=d(n[i],o,f),"A"!==l[i]&&"C"===h&&(l[i]="C"),O(n,i)),j(p,n,r,o,i),j(n,p,o,r,i);var w=p[i],C=n&&n[i],M=w.length,S=n&&C.length;r.x=w[M-2],r.y=w[M-1],r.bx=parseFloat(w[M-4])||r.x,r.by=parseFloat(w[M-3])||r.y,o.bx=n&&(parseFloat(C[S-4])||o.x),o.by=n&&(parseFloat(C[S-3])||o.y),o.x=n&&C[S-2],o.y=n&&C[S-1]}return n?[p,n]:p},j=/,?([a-z]),?/gi,w=function(path){return path.join(",").replace(j,"$1")},C=function(t,e,n,r,o){return t*(t*(-3*e+9*n-9*r+3*o)+6*e-12*n+6*r)-3*e+3*n},M=function(t,e,n,r,o,c,l,h,f){null===f&&(f=1);for(var d=(f=f>1?1:f<0?0:f)/2,v=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],y=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],m=0,i=0;i<12;i++){var x=d*v[i]+d,O=C(x,t,n,o,l),j=C(x,e,r,c,h),w=O*O+j*j;m+=y[i]*Math.sqrt(w)}return d*m},S=function(t,e,n,r,o,c,l,h){for(var a,b,f,d,v=[],y=[[],[]],i=0;i<2;++i)if(0===i?(b=6*t-12*n+6*o,a=-3*t+9*n-9*o+3*l,f=3*n-3*t):(b=6*e-12*r+6*c,a=-3*e+9*r-9*c+3*h,f=3*r-3*e),Math.abs(a)<1e-12){if(Math.abs(b)<1e-12)continue;(d=-f/b)>0&&d<1&&v.push(d)}else{var m=b*b-4*f*a,x=Math.sqrt(m);if(!(m<0)){var O=(-b+x)/(2*a);O>0&&O<1&&v.push(O);var j=(-b-x)/(2*a);j>0&&j<1&&v.push(j)}}for(var w,C=v.length,M=C;C--;)w=1-(d=v[C]),y[0][C]=w*w*w*t+3*w*w*d*n+3*w*d*d*o+d*d*d*l,y[1][C]=w*w*w*e+3*w*w*d*r+3*w*d*d*c+d*d*d*h;return y[0][M]=t,y[1][M]=e,y[0][M+1]=l,y[1][M+1]=h,y[0].length=y[1].length=M+2,{min:{x:Math.min.apply(0,y[0]),y:Math.min.apply(0,y[1])},max:{x:Math.max.apply(0,y[0]),y:Math.max.apply(0,y[1])}}},A=function(t,e,n,r,o,c,l,h){if(!(Math.max(t,n)<Math.min(o,l)||Math.min(t,n)>Math.max(o,l)||Math.max(e,r)<Math.min(c,h)||Math.min(e,r)>Math.max(c,h))){var f=(t-n)*(c-h)-(e-r)*(o-l);if(f){var d=((t*r-e*n)*(o-l)-(t-n)*(o*h-c*l))/f,v=((t*r-e*n)*(c-h)-(e-r)*(o*h-c*l))/f,y=+d.toFixed(2),m=+v.toFixed(2);if(!(y<+Math.min(t,n).toFixed(2)||y>+Math.max(t,n).toFixed(2)||y<+Math.min(o,l).toFixed(2)||y>+Math.max(o,l).toFixed(2)||m<+Math.min(e,r).toFixed(2)||m>+Math.max(e,r).toFixed(2)||m<+Math.min(c,h).toFixed(2)||m>+Math.max(c,h).toFixed(2)))return{x:d,y:v}}}},T=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},B=function(t,e,n,r,o){if(o)return[["M",+t+ +o,e],["l",n-2*o,0],["a",o,o,0,0,1,o,o],["l",0,r-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-n,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-r],["a",o,o,0,0,1,o,-o],["z"]];var c=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return c.parsePathArray=w,c},k=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:B(t,e,n,r),vb:[t,e,n,r].join(" ")}},P=function(t,e,n,o,c,l,h,f){Object(r.z)(t)||(t=[t,e,n,o,c,l,h,f]);var d=S.apply(null,t);return k(d.min.x,d.min.y,d.max.x-d.min.x,d.max.y-d.min.y)},E=function(t,e,n,r,o,c,l,h,f){var d=1-f,v=Math.pow(d,3),y=Math.pow(d,2),m=f*f,x=m*f,O=t+2*f*(n-t)+m*(o-2*n+t),j=e+2*f*(r-e)+m*(c-2*r+e),w=n+2*f*(o-n)+m*(l-2*o+n),C=r+2*f*(c-r)+m*(h-2*c+r);return{x:v*t+3*y*f*n+3*d*f*f*o+x*l,y:v*e+3*y*f*r+3*d*f*f*c+x*h,m:{x:O,y:j},n:{x:w,y:C},start:{x:d*t+f*n,y:d*e+f*r},end:{x:d*o+f*l,y:d*c+f*h},alpha:90-180*Math.atan2(O-w,j-C)/Math.PI}},L=function(t,e,n){if(!function(t,e){return t=k(t),e=k(e),T(e,t.x,t.y)||T(e,t.x2,t.y)||T(e,t.x,t.y2)||T(e,t.x2,t.y2)||T(t,e.x,e.y)||T(t,e.x2,e.y)||T(t,e.x,e.y2)||T(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(P(t),P(e)))return n?0:[];for(var r=~~(M.apply(0,t)/8),o=~~(M.apply(0,e)/8),c=[],l=[],h={},f=n?0:[],i=0;i<r+1;i++){var d=E.apply(0,t.concat(i/r));c.push({x:d.x,y:d.y,t:i/r})}for(i=0;i<o+1;i++){d=E.apply(0,e.concat(i/o));l.push({x:d.x,y:d.y,t:i/o})}for(i=0;i<r;i++)for(var v=0;v<o;v++){var y=c[i],m=c[i+1],x=l[v],O=l[v+1],j=Math.abs(m.x-y.x)<.001?"y":"x",w=Math.abs(O.x-x.x)<.001?"y":"x",C=A(y.x,y.y,m.x,m.y,x.x,x.y,O.x,O.y);if(C){if(h[C.x.toFixed(4)]===C.y.toFixed(4))continue;h[C.x.toFixed(4)]=C.y.toFixed(4);var S=y.t+Math.abs((C[j]-y[j])/(m[j]-y[j]))*(m.t-y.t),B=x.t+Math.abs((C[w]-x[w])/(O[w]-x[w]))*(O.t-x.t);S>=0&&S<=1&&B>=0&&B<=1&&(n?f+=1:f.push({x:C.x,y:C.y,t1:S,t2:B}))}}return f},I=function(t,e){return function(t,e,n){var r,o,c,l,h,f,d,v,y,m;t=O(t),e=O(e);for(var x=n?0:[],i=0,j=t.length;i<j;i++){var w=t[i];if("M"===w[0])r=h=w[1],o=f=w[2];else{"C"===w[0]?(y=[r,o].concat(w.slice(1)),r=y[6],o=y[7]):(y=[r,o,r,o,h,f,h,f],r=h,o=f);for(var C=0,M=e.length;C<M;C++){var S=e[C];if("M"===S[0])c=d=S[1],l=v=S[2];else{"C"===S[0]?(m=[c,l].concat(S.slice(1)),c=m[6],l=m[7]):(m=[c,l,c,l,d,v,d,v],c=d,l=v);var A=L(y,m,n);if(n)x+=A;else{for(var T=0,B=A.length;T<B;T++)A[T].segment1=i,A[T].segment2=C,A[T].bez1=y,A[T].bez2=m;x=x.concat(A)}}}}}return x}(t,e)};function F(t,e){var n=[],r=[];return t.length&&function t(e,o){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var c=[],i=0;i<e.length-1;i++)0===i&&n.push(e[0]),i===e.length-2&&r.push(e[i+1]),c[i]=[(1-o)*e[i][0]+o*e[i+1][0],(1-o)*e[i][1]+o*e[i+1][1]];t(c,o)}}(t,e),{left:n,right:r.reverse()}}var D=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var o=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var c=r,l=1/n,i=0;i<n-1;i++){var h=F(c,l/(1-l*i));o.push(h.left),c=h.right}return o.push(c),o.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])}))}(t,e,n));else{var o=[].concat(t);"M"===o[0]&&(o[0]="L");for(var i=0;i<=n-1;i++)r.push(o)}return r},R=function(source,t){if(1===source.length)return source;var e=source.length-1,n=t.length-1,r=e/n,o=[];if(1===source.length&&"M"===source[0][0]){for(var i=0;i<n-e;i++)source.push(source[0]);return source}for(i=0;i<n;i++){var c=Math.floor(r*i);o[c]=(o[c]||0)+1}var l=o.reduce((function(t,n,i){return i===e?t.concat(source[e]):t.concat(D(source[i],source[i+1],n))}),[]);return l.unshift(source[0]),"Z"!==t[n]&&"z"!==t[n]||l.push("Z"),l},_=function(t,e){if(t.length!==e.length)return!1;var n=!0;return Object(r.j)(t,(function(t,i){if(t!==e[i])return n=!1,!1})),n};function Y(del,t,e){var n=null,r=e;return t<r&&(r=t,n="add"),del<r&&(r=del,n="del"),{type:n,min:r}}var G=function(source,t){var e=function(source,t){var e,n,r=source.length,o=t.length,c=0;if(0===r||0===o)return null;for(var l=[],i=0;i<=r;i++)l[i]=[],l[i][0]={min:i};for(var h=0;h<=o;h++)l[0][h]={min:h};for(i=1;i<=r;i++)for(e=source[i-1],h=1;h<=o;h++){n=t[h-1],c=_(e,n)?0:1;var del=l[i-1][h].min+1,f=l[i][h-1].min+1,d=l[i-1][h-1].min+c;l[i][h]=Y(del,f,d)}return l}(source,t),n=source.length,r=t.length,o=[],c=1,l=1;if(e[n][r].min!==n){for(var i=1;i<=n;i++){var h=e[i][i].min;l=i;for(var f=c;f<=r;f++)e[i][f].min<h&&(h=e[i][f].min,l=f);c=l,e[i][c].type&&o.push({index:i-1,type:e[i][c].type})}for(i=o.length-1;i>=0;i--)c=o[i].index,"add"===o[i].type?source.splice(c,0,[].concat(source[c])):source.splice(c,1)}var d=r-(n=source.length);if(n<r)for(i=0;i<d;i++)"z"===source[n-1][0]||"Z"===source[n-1][0]?source.splice(n-2,0,source[n-2]):source.push(source[n-1]),n+=1;return source};function z(t,e,n){for(var r,o=[].concat(t),c=1/(n+1),l=X(e)[0],i=1;i<=n;i++)c*=i,0===(r=Math.floor(t.length*c))?o.unshift([l[0]*c+t[r][0]*(1-c),l[1]*c+t[r][1]*(1-c)]):o.splice(r,0,[l[0]*c+t[r][0]*(1-c),l[1]*c+t[r][1]*(1-c)]);return o}function X(t){var e=[];switch(t[0]){case"M":case"L":case"T":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var N=function(t,e){if(t.length<=1)return t;for(var n,i=0;i<e.length;i++)if(t[i][0]!==e[i][0])switch(n=X(t[i]),e[i][0]){case"M":t[i]=["M"].concat(n[0]);break;case"L":t[i]=["L"].concat(n[0]);break;case"A":t[i]=[].concat(e[i]),t[i][6]=n[0][0],t[i][7]=n[0][1];break;case"Q":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=z(n,t[i-1],1)}t[i]=["Q"].concat(n.reduce((function(t,i){return t.concat(i)}),[]));break;case"T":t[i]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(i>0)){t[i]=e[i];break}n=z(n,t[i-1],2)}t[i]=["C"].concat(n.reduce((function(t,i){return t.concat(i)}),[]));break;case"S":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=z(n,t[i-1],1)}t[i]=["S"].concat(n.reduce((function(t,i){return t.concat(i)}),[]));break;default:t[i]=e[i]}return t}},472:function(t,e,n){"use strict";var r=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.a=r},473:function(t,e,n){"use strict";var r=n(416),o=n(470),c=n(428),l=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=Object(c.i)(r,e),n}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(o.a);e.a=l},474:function(t,e,n){"use strict";n.r(e),n.d(e,"create",(function(){return o})),n.d(e,"clone",(function(){return c})),n.d(e,"fromValues",(function(){return l})),n.d(e,"copy",(function(){return h})),n.d(e,"set",(function(){return f})),n.d(e,"add",(function(){return d})),n.d(e,"subtract",(function(){return v})),n.d(e,"multiply",(function(){return y})),n.d(e,"divide",(function(){return m})),n.d(e,"ceil",(function(){return x})),n.d(e,"floor",(function(){return O})),n.d(e,"min",(function(){return j})),n.d(e,"max",(function(){return w})),n.d(e,"round",(function(){return C})),n.d(e,"scale",(function(){return M})),n.d(e,"scaleAndAdd",(function(){return S})),n.d(e,"distance",(function(){return A})),n.d(e,"squaredDistance",(function(){return T})),n.d(e,"length",(function(){return B})),n.d(e,"squaredLength",(function(){return k})),n.d(e,"negate",(function(){return P})),n.d(e,"inverse",(function(){return E})),n.d(e,"normalize",(function(){return L})),n.d(e,"dot",(function(){return I})),n.d(e,"cross",(function(){return F})),n.d(e,"lerp",(function(){return D})),n.d(e,"random",(function(){return R})),n.d(e,"transformMat2",(function(){return _})),n.d(e,"transformMat2d",(function(){return Y})),n.d(e,"transformMat3",(function(){return G})),n.d(e,"transformMat4",(function(){return z})),n.d(e,"rotate",(function(){return X})),n.d(e,"angle",(function(){return N})),n.d(e,"zero",(function(){return H})),n.d(e,"str",(function(){return V})),n.d(e,"exactEquals",(function(){return W})),n.d(e,"equals",(function(){return U})),n.d(e,"len",(function(){return K})),n.d(e,"sub",(function(){return sub})),n.d(e,"mul",(function(){return Q})),n.d(e,"div",(function(){return div})),n.d(e,"dist",(function(){return J})),n.d(e,"sqrDist",(function(){return $})),n.d(e,"sqrLen",(function(){return tt})),n.d(e,"forEach",(function(){return et}));var r=n(437);function o(){var t=new r.a(2);return r.a!=Float32Array&&(t[0]=0,t[1]=0),t}function c(a){var t=new r.a(2);return t[0]=a[0],t[1]=a[1],t}function l(t,e){var n=new r.a(2);return n[0]=t,n[1]=e,n}function h(t,a){return t[0]=a[0],t[1]=a[1],t}function f(t,e,n){return t[0]=e,t[1]=n,t}function d(t,a,b){return t[0]=a[0]+b[0],t[1]=a[1]+b[1],t}function v(t,a,b){return t[0]=a[0]-b[0],t[1]=a[1]-b[1],t}function y(t,a,b){return t[0]=a[0]*b[0],t[1]=a[1]*b[1],t}function m(t,a,b){return t[0]=a[0]/b[0],t[1]=a[1]/b[1],t}function x(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t}function O(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t}function j(t,a,b){return t[0]=Math.min(a[0],b[0]),t[1]=Math.min(a[1],b[1]),t}function w(t,a,b){return t[0]=Math.max(a[0],b[0]),t[1]=Math.max(a[1],b[1]),t}function C(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t}function M(t,a,b){return t[0]=a[0]*b,t[1]=a[1]*b,t}function S(t,a,b,e){return t[0]=a[0]+b[0]*e,t[1]=a[1]+b[1]*e,t}function A(a,b){var t=b[0]-a[0],e=b[1]-a[1];return Math.hypot(t,e)}function T(a,b){var t=b[0]-a[0],e=b[1]-a[1];return t*t+e*e}function B(a){var t=a[0],e=a[1];return Math.hypot(t,e)}function k(a){var t=a[0],e=a[1];return t*t+e*e}function P(t,a){return t[0]=-a[0],t[1]=-a[1],t}function E(t,a){return t[0]=1/a[0],t[1]=1/a[1],t}function L(t,a){var e=a[0],n=a[1],r=e*e+n*n;return r>0&&(r=1/Math.sqrt(r)),t[0]=a[0]*r,t[1]=a[1]*r,t}function I(a,b){return a[0]*b[0]+a[1]*b[1]}function F(t,a,b){var e=a[0]*b[1]-a[1]*b[0];return t[0]=t[1]=0,t[2]=e,t}function D(t,a,b,e){var n=a[0],r=a[1];return t[0]=n+e*(b[0]-n),t[1]=r+e*(b[1]-r),t}function R(t,e){e=e||1;var n=2*r.c()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function _(t,a,e){var n=a[0],r=a[1];return t[0]=e[0]*n+e[2]*r,t[1]=e[1]*n+e[3]*r,t}function Y(t,a,e){var n=a[0],r=a[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function G(t,a,e){var n=a[0],r=a[1];return t[0]=e[0]*n+e[3]*r+e[6],t[1]=e[1]*n+e[4]*r+e[7],t}function z(t,a,e){var n=a[0],r=a[1];return t[0]=e[0]*n+e[4]*r+e[12],t[1]=e[1]*n+e[5]*r+e[13],t}function X(t,a,b,e){var n=a[0]-b[0],r=a[1]-b[1],o=Math.sin(e),c=Math.cos(e);return t[0]=n*c-r*o+b[0],t[1]=n*o+r*c+b[1],t}function N(a,b){var t=a[0],e=a[1],n=b[0],r=b[1],o=Math.sqrt(t*t+e*e)*Math.sqrt(n*n+r*r),c=o&&(t*n+e*r)/o;return Math.acos(Math.min(Math.max(c,-1),1))}function H(t){return t[0]=0,t[1]=0,t}function V(a){return"vec2("+a[0]+", "+a[1]+")"}function W(a,b){return a[0]===b[0]&&a[1]===b[1]}function U(a,b){var t=a[0],e=a[1],n=b[0],o=b[1];return Math.abs(t-n)<=r.b*Math.max(1,Math.abs(t),Math.abs(n))&&Math.abs(e-o)<=r.b*Math.max(1,Math.abs(e),Math.abs(o))}var Z,K=B,sub=v,Q=y,div=m,J=A,$=T,tt=k,et=(Z=o(),function(a,t,e,n,r,o){var i,c;for(t||(t=2),e||(e=0),c=n?Math.min(n*t+e,a.length):a.length,i=e;i<c;i+=t)Z[0]=a[i],Z[1]=a[i+1],r(Z,Z,o),a[i]=Z[0],a[i+1]=Z[1];return a})},475:function(t,e,n){"use strict";n.r(e),n.d(e,"create",(function(){return o})),n.d(e,"clone",(function(){return c})),n.d(e,"length",(function(){return l})),n.d(e,"fromValues",(function(){return h})),n.d(e,"copy",(function(){return f})),n.d(e,"set",(function(){return d})),n.d(e,"add",(function(){return v})),n.d(e,"subtract",(function(){return y})),n.d(e,"multiply",(function(){return m})),n.d(e,"divide",(function(){return x})),n.d(e,"ceil",(function(){return O})),n.d(e,"floor",(function(){return j})),n.d(e,"min",(function(){return w})),n.d(e,"max",(function(){return C})),n.d(e,"round",(function(){return M})),n.d(e,"scale",(function(){return S})),n.d(e,"scaleAndAdd",(function(){return A})),n.d(e,"distance",(function(){return T})),n.d(e,"squaredDistance",(function(){return B})),n.d(e,"squaredLength",(function(){return k})),n.d(e,"negate",(function(){return P})),n.d(e,"inverse",(function(){return E})),n.d(e,"normalize",(function(){return L})),n.d(e,"dot",(function(){return I})),n.d(e,"cross",(function(){return F})),n.d(e,"lerp",(function(){return D})),n.d(e,"hermite",(function(){return R})),n.d(e,"bezier",(function(){return _})),n.d(e,"random",(function(){return Y})),n.d(e,"transformMat4",(function(){return G})),n.d(e,"transformMat3",(function(){return z})),n.d(e,"transformQuat",(function(){return X})),n.d(e,"rotateX",(function(){return N})),n.d(e,"rotateY",(function(){return H})),n.d(e,"rotateZ",(function(){return V})),n.d(e,"angle",(function(){return W})),n.d(e,"zero",(function(){return U})),n.d(e,"str",(function(){return Z})),n.d(e,"exactEquals",(function(){return K})),n.d(e,"equals",(function(){return Q})),n.d(e,"sub",(function(){return sub})),n.d(e,"mul",(function(){return $})),n.d(e,"div",(function(){return div})),n.d(e,"dist",(function(){return tt})),n.d(e,"sqrDist",(function(){return et})),n.d(e,"len",(function(){return nt})),n.d(e,"sqrLen",(function(){return it})),n.d(e,"forEach",(function(){return ot}));var r=n(437);function o(){var t=new r.a(3);return r.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function c(a){var t=new r.a(3);return t[0]=a[0],t[1]=a[1],t[2]=a[2],t}function l(a){var t=a[0],e=a[1],n=a[2];return Math.hypot(t,e,n)}function h(t,e,n){var o=new r.a(3);return o[0]=t,o[1]=e,o[2]=n,o}function f(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t}function d(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function v(t,a,b){return t[0]=a[0]+b[0],t[1]=a[1]+b[1],t[2]=a[2]+b[2],t}function y(t,a,b){return t[0]=a[0]-b[0],t[1]=a[1]-b[1],t[2]=a[2]-b[2],t}function m(t,a,b){return t[0]=a[0]*b[0],t[1]=a[1]*b[1],t[2]=a[2]*b[2],t}function x(t,a,b){return t[0]=a[0]/b[0],t[1]=a[1]/b[1],t[2]=a[2]/b[2],t}function O(t,a){return t[0]=Math.ceil(a[0]),t[1]=Math.ceil(a[1]),t[2]=Math.ceil(a[2]),t}function j(t,a){return t[0]=Math.floor(a[0]),t[1]=Math.floor(a[1]),t[2]=Math.floor(a[2]),t}function w(t,a,b){return t[0]=Math.min(a[0],b[0]),t[1]=Math.min(a[1],b[1]),t[2]=Math.min(a[2],b[2]),t}function C(t,a,b){return t[0]=Math.max(a[0],b[0]),t[1]=Math.max(a[1],b[1]),t[2]=Math.max(a[2],b[2]),t}function M(t,a){return t[0]=Math.round(a[0]),t[1]=Math.round(a[1]),t[2]=Math.round(a[2]),t}function S(t,a,b){return t[0]=a[0]*b,t[1]=a[1]*b,t[2]=a[2]*b,t}function A(t,a,b,e){return t[0]=a[0]+b[0]*e,t[1]=a[1]+b[1]*e,t[2]=a[2]+b[2]*e,t}function T(a,b){var t=b[0]-a[0],e=b[1]-a[1],n=b[2]-a[2];return Math.hypot(t,e,n)}function B(a,b){var t=b[0]-a[0],e=b[1]-a[1],n=b[2]-a[2];return t*t+e*e+n*n}function k(a){var t=a[0],e=a[1],n=a[2];return t*t+e*e+n*n}function P(t,a){return t[0]=-a[0],t[1]=-a[1],t[2]=-a[2],t}function E(t,a){return t[0]=1/a[0],t[1]=1/a[1],t[2]=1/a[2],t}function L(t,a){var e=a[0],n=a[1],r=a[2],o=e*e+n*n+r*r;return o>0&&(o=1/Math.sqrt(o)),t[0]=a[0]*o,t[1]=a[1]*o,t[2]=a[2]*o,t}function I(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function F(t,a,b){var e=a[0],n=a[1],r=a[2],o=b[0],c=b[1],l=b[2];return t[0]=n*l-r*c,t[1]=r*o-e*l,t[2]=e*c-n*o,t}function D(t,a,b,e){var n=a[0],r=a[1],o=a[2];return t[0]=n+e*(b[0]-n),t[1]=r+e*(b[1]-r),t[2]=o+e*(b[2]-o),t}function R(t,a,b,e,n,r){var o=r*r,c=o*(2*r-3)+1,l=o*(r-2)+r,h=o*(r-1),f=o*(3-2*r);return t[0]=a[0]*c+b[0]*l+e[0]*h+n[0]*f,t[1]=a[1]*c+b[1]*l+e[1]*h+n[1]*f,t[2]=a[2]*c+b[2]*l+e[2]*h+n[2]*f,t}function _(t,a,b,e,n,r){var o=1-r,c=o*o,l=r*r,h=c*o,f=3*r*c,d=3*l*o,v=l*r;return t[0]=a[0]*h+b[0]*f+e[0]*d+n[0]*v,t[1]=a[1]*h+b[1]*f+e[1]*d+n[1]*v,t[2]=a[2]*h+b[2]*f+e[2]*d+n[2]*v,t}function Y(t,e){e=e||1;var n=2*r.c()*Math.PI,o=2*r.c()-1,c=Math.sqrt(1-o*o)*e;return t[0]=Math.cos(n)*c,t[1]=Math.sin(n)*c,t[2]=o*e,t}function G(t,a,e){var n=a[0],r=a[1],o=a[2],c=e[3]*n+e[7]*r+e[11]*o+e[15];return c=c||1,t[0]=(e[0]*n+e[4]*r+e[8]*o+e[12])/c,t[1]=(e[1]*n+e[5]*r+e[9]*o+e[13])/c,t[2]=(e[2]*n+e[6]*r+e[10]*o+e[14])/c,t}function z(t,a,e){var n=a[0],r=a[1],o=a[2];return t[0]=n*e[0]+r*e[3]+o*e[6],t[1]=n*e[1]+r*e[4]+o*e[7],t[2]=n*e[2]+r*e[5]+o*e[8],t}function X(t,a,q){var e=q[0],n=q[1],r=q[2],o=q[3],c=a[0],l=a[1],h=a[2],f=n*h-r*l,d=r*c-e*h,v=e*l-n*c,y=n*v-r*d,m=r*f-e*v,x=e*d-n*f,O=2*o;return f*=O,d*=O,v*=O,y*=2,m*=2,x*=2,t[0]=c+f+y,t[1]=l+d+m,t[2]=h+v+x,t}function N(t,a,b,e){var p=[],n=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],n[0]=p[0],n[1]=p[1]*Math.cos(e)-p[2]*Math.sin(e),n[2]=p[1]*Math.sin(e)+p[2]*Math.cos(e),t[0]=n[0]+b[0],t[1]=n[1]+b[1],t[2]=n[2]+b[2],t}function H(t,a,b,e){var p=[],n=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],n[0]=p[2]*Math.sin(e)+p[0]*Math.cos(e),n[1]=p[1],n[2]=p[2]*Math.cos(e)-p[0]*Math.sin(e),t[0]=n[0]+b[0],t[1]=n[1]+b[1],t[2]=n[2]+b[2],t}function V(t,a,b,e){var p=[],n=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],n[0]=p[0]*Math.cos(e)-p[1]*Math.sin(e),n[1]=p[0]*Math.sin(e)+p[1]*Math.cos(e),n[2]=p[2],t[0]=n[0]+b[0],t[1]=n[1]+b[1],t[2]=n[2]+b[2],t}function W(a,b){var t=a[0],e=a[1],n=a[2],r=b[0],o=b[1],c=b[2],l=Math.sqrt(t*t+e*e+n*n)*Math.sqrt(r*r+o*o+c*c),h=l&&I(a,b)/l;return Math.acos(Math.min(Math.max(h,-1),1))}function U(t){return t[0]=0,t[1]=0,t[2]=0,t}function Z(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"}function K(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]}function Q(a,b){var t=a[0],e=a[1],n=a[2],o=b[0],c=b[1],l=b[2];return Math.abs(t-o)<=r.b*Math.max(1,Math.abs(t),Math.abs(o))&&Math.abs(e-c)<=r.b*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(n-l)<=r.b*Math.max(1,Math.abs(n),Math.abs(l))}var J,sub=y,$=m,div=x,tt=T,et=B,nt=l,it=k,ot=(J=o(),function(a,t,e,n,r,o){var i,c;for(t||(t=3),e||(e=0),c=n?Math.min(n*t+e,a.length):a.length,i=e;i<c;i+=t)J[0]=a[i],J[1]=a[i+1],J[2]=a[i+2],r(J,J,o),a[i]=J[0],a[i+1]=J[1],a[i+2]=J[2];return a})},476:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return m}));var r=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},o=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"},c=function(e){this.version=e,this.type="node",this.name="node",this.os=t.platform},l=function(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"},h=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},f=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},d=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,v=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],y=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function m(e){return e?O(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new f:"undefined"!=typeof navigator?O(navigator.userAgent):void 0!==t&&t.version?new c(t.version.slice(1)):null}function x(t){return""!==t&&v.reduce((function(e,n){var r=n[0],o=n[1];if(e)return e;var c=o.exec(t);return!!c&&[r,c]}),!1)}function O(t){var e=x(t);if(!e)return null;var n=e[0],c=e[1];if("searchbot"===n)return new h;var f=c[1]&&c[1].split(".").join("_").split("_").slice(0,3);f?f.length<3&&(f=r(r([],f,!0),function(t){for(var output=[],e=0;e<t;e++)output.push("0");return output}(3-f.length),!0)):f=[];var v=f.join("."),m=function(t){for(var e=0,n=y.length;e<n;e++){var r=y[e],o=r[0];if(r[1].exec(t))return o}return null}(t),O=d.exec(t);return O&&O[1]?new l(n,v,m,O[1]):new o(n,v,m)}}).call(this,n(176))},477:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=null;function o(){if(!r){var canvas=document.createElement("canvas");canvas.width=1,canvas.height=1,r=canvas.getContext("2d")}return r}},478:function(t,e,n){"use strict";n.d(e,"getAdjust",(function(){return o})),n.d(e,"registerAdjust",(function(){return c}));n(429),n(457);var r={},o=function(t){return r[t.toLowerCase()]},c=function(t,e){if(o(t))throw new Error("Adjust type '"+t+"' existed.");r[t.toLowerCase()]=e}},479:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return l}));var r=0,o=.5,c=.5,l=.05},480:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(502);function o(t,e,n){var o=new r.Event(e,n);o.target=t,o.propagationPath.push(t),t.emitDelegation(e,o);for(var c=t.getParent();c;)c.emitDelegation(e,o),o.propagationPath.push(c),c=c.getParent()}},481:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return x})),n.d(e,"c",(function(){return h}));var r=n(415),o="\t\n\v\f\r   ᠎             　\u2028\u2029",c=new RegExp("([a-z])["+o+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+o+"]*,?["+o+"]*)+)","ig"),l=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+o+"]*,?["+o+"]*","ig"),h=function(t){if(!t)return null;if(Object(r.z)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},data=[];return String(t).replace(c,(function(a,b,n){var r=[],o=b.toLowerCase();if(n.replace(l,(function(a,b){b&&r.push(+b)})),"m"===o&&r.length>2&&(data.push([b].concat(r.splice(0,2))),o="l",b="m"===b?"l":"L"),"o"===o&&1===r.length&&data.push([b,r[0]]),"r"===o)data.push([b].concat(r));else for(;r.length>=e[o]&&(data.push([b].concat(r.splice(0,e[o]))),e[o]););return t})),data};var f=function(t,e){if(t.length!==e.length)return!1;var n=!0;return Object(r.j)(t,(function(t,i){if(t!==e[i])return n=!1,!1})),n};function d(del,t,e){var n=null,r=e;return t<r&&(r=t,n="add"),del<r&&(r=del,n="del"),{type:n,min:r}}var v=function(source,t){var e=function(source,t){var e,n,r=source.length,o=t.length,c=0;if(0===r||0===o)return null;for(var l=[],i=0;i<=r;i++)l[i]=[],l[i][0]={min:i};for(var h=0;h<=o;h++)l[0][h]={min:h};for(i=1;i<=r;i++)for(e=source[i-1],h=1;h<=o;h++){n=t[h-1],c=f(e,n)?0:1;var del=l[i-1][h].min+1,v=l[i][h-1].min+1,y=l[i-1][h-1].min+c;l[i][h]=d(del,v,y)}return l}(source,t),n=source.length,r=t.length,o=[],c=1,l=1;if(e[n][r].min!==n){for(var i=1;i<=n;i++){var h=e[i][i].min;l=i;for(var v=c;v<=r;v++)e[i][v].min<h&&(h=e[i][v].min,l=v);c=l,e[i][c].type&&o.push({index:i-1,type:e[i][c].type})}for(i=o.length-1;i>=0;i--)c=o[i].index,"add"===o[i].type?source.splice(c,0,[].concat(source[c])):source.splice(c,1)}var y=r-(n=source.length);if(n<r)for(i=0;i<y;i++)"z"===source[n-1][0]||"Z"===source[n-1][0]?source.splice(n-2,0,source[n-2]):source.push(source[n-1]),n+=1;return source};function y(t,e,n){for(var r,o=[].concat(t),c=1/(n+1),l=m(e)[0],i=1;i<=n;i++)c*=i,0===(r=Math.floor(t.length*c))?o.unshift([l[0]*c+t[r][0]*(1-c),l[1]*c+t[r][1]*(1-c)]):o.splice(r,0,[l[0]*c+t[r][0]*(1-c),l[1]*c+t[r][1]*(1-c)]);return o}function m(t){var e=[];switch(t[0]){case"M":case"L":case"T":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var x=function(t,e){if(t.length<=1)return t;for(var n,i=0;i<e.length;i++)if(t[i][0]!==e[i][0])switch(n=m(t[i]),e[i][0]){case"M":t[i]=["M"].concat(n[0]);break;case"L":t[i]=["L"].concat(n[0]);break;case"A":t[i]=[].concat(e[i]),t[i][6]=n[0][0],t[i][7]=n[0][1];break;case"Q":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=y(n,t[i-1],1)}t[i]=["Q"].concat(n.reduce((function(t,i){return t.concat(i)}),[]));break;case"T":t[i]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(i>0)){t[i]=e[i];break}n=y(n,t[i-1],2)}t[i]=["C"].concat(n.reduce((function(t,i){return t.concat(i)}),[]));break;case"S":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=y(n,t[i-1],1)}t[i]=["S"].concat(n.reduce((function(t,i){return t.concat(i)}),[]));break;default:t[i]=e[i]}return t}},482:function(t,e,n){"use strict";var r=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.a=r},483:function(t,e,n){"use strict";var r=n(416),o=n(470),c=n(430),l=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=Object(c.i)(r,e),n}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(o.a);e.a=l},484:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=null;function o(){if(!r){var canvas=document.createElement("canvas");canvas.width=1,canvas.height=1,r=canvas.getContext("2d")}return r}},485:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(422);function o(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function c(u,t){return o(u)*o(t)?(u[0]*t[0]+u[1]*t[1])/(o(u)*o(t)):1}function l(u,t){return(u[0]*t[1]<u[1]*t[0]?-1:1)*Math.acos(c(u,t))}function h(t,e){var n=e[1],o=e[2],h=Object(r.m)(Object(r.o)(e[3]),2*Math.PI),f=e[4],d=e[5],v=t[0],y=t[1],m=e[6],x=e[7],O=Math.cos(h)*(v-m)/2+Math.sin(h)*(y-x)/2,j=-1*Math.sin(h)*(v-m)/2+Math.cos(h)*(y-x)/2,w=O*O/(n*n)+j*j/(o*o);w>1&&(n*=Math.sqrt(w),o*=Math.sqrt(w));var C=n*n*(j*j)+o*o*(O*O),M=C?Math.sqrt((n*n*(o*o)-C)/C):1;f===d&&(M*=-1),isNaN(M)&&(M=0);var S=o?M*n*j/o:0,A=n?M*-o*O/n:0,T=(v+m)/2+Math.cos(h)*S-Math.sin(h)*A,B=(y+x)/2+Math.sin(h)*S+Math.cos(h)*A,u=[(O-S)/n,(j-A)/o],k=[(-1*O-S)/n,(-1*j-A)/o],P=l([1,0],u),E=l(u,k);return c(u,k)<=-1&&(E=Math.PI),c(u,k)>=1&&(E=0),0===d&&E>0&&(E-=2*Math.PI),1===d&&E<0&&(E+=2*Math.PI),{cx:T,cy:B,rx:Object(r.j)(t,[m,x])?0:n,ry:Object(r.j)(t,[m,x])?0:o,startAngle:P,endAngle:P+E,xRotation:h,arcFlag:f,sweepFlag:d}}},486:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l}));var r=n(443),o=n(426);function c(t,e){e.forEach((function(e){e.draw(t)}))}function l(element,t){var canvas=element.get("canvas");if(canvas&&canvas.get("autoDraw")){var e=canvas.get("context"),n=element.getParent(),c=n?n.getChildren():[canvas],l=element.get("el");if("remove"===t)if(element.get("isClipShape")){var h=l&&l.parentNode,f=h&&h.parentNode;h&&f&&f.removeChild(h)}else l&&l.parentNode&&l.parentNode.removeChild(l);else if("show"===t)l.setAttribute("visibility","visible");else if("hide"===t)l.setAttribute("visibility","hidden");else if("zIndex"===t)Object(o.c)(l,c.indexOf(element));else if("sort"===t){var d=element.get("children");d&&d.length&&Object(o.d)(element,(function(a,b){return d.indexOf(a)-d.indexOf(b)?1:0}))}else"clear"===t?l&&(l.innerHTML=""):"matrix"===t?Object(r.c)(element):"clip"===t?Object(r.a)(element,e):"attr"===t||"add"===t&&element.draw(e)}}},495:function(t,e){},496:function(t,e){},497:function(t,e,n){"use strict";var r=n(416),o=n(415),c=n(498),l=n(428),h={};function f(element,canvas){if(element.set("canvas",canvas),element.isGroup()){var t=element.get("children");t.length&&t.forEach((function(t){f(t,canvas)}))}}function d(element,t){if(element.set("timeline",t),element.isGroup()){var e=element.get("children");e.length&&e.forEach((function(e){d(e,t)}))}}var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,c=[],h=[],f=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return f.length>0?(Object(l.a)(f,(function(t){var e=t.getBBox();c.push(e.minX,e.maxX),h.push(e.minY,e.maxY)})),t=Object(o.V)(c),e=Object(o.T)(c),n=Object(o.V)(h),r=Object(o.T)(h)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,c=[],h=[],f=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return f.length>0?(Object(l.a)(f,(function(t){var e=t.getCanvasBBox();c.push(e.minX,e.maxX),h.push(e.minY,e.maxY)})),t=Object(o.V)(c),e=Object(o.T)(c),n=Object(o.V)(h),r=Object(o.T)(h)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var o=this.getTotalMatrix();this._applyChildrenMarix(o)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();Object(l.a)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];Object(l.f)(n)?r=n:r.type=n;var o=h[r.type];o||(o=Object(l.k)(r.type),h[r.type]=o);var c=this.getShapeBase(),f=new c[o](r);return this.add(f),f},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],o=t[1];if(Object(l.d)(r))n=new r(o||{parent:this});else{var c=r||{},h=this.getGroupBase();n=new h(c)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!Object(l.b)(this))return null;var r,o=this.getChildren();if(this.isCanvas())r=this._findShape(o,t,e,n);else{var c=[t,e,1];c=this.invertFromMatrix(c),this.isClipped(c[0],c[1])||(r=this._findShape(o,c[0],c[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var o=null,i=t.length-1;i>=0;i--){var c=t[i];if(Object(l.b)(c)&&(c.isGroup()?o=c.getShape(e,n,r):c.isHit(e,n)&&(o=c)),o)break}return o},e.prototype.add=function(element){var canvas=this.getCanvas(),t=this.getChildren(),e=this.get("timeline"),n=element.getParent();n&&function(t,element,e){void 0===e&&(e=!0),e?element.destroy():(element.set("parent",null),element.set("canvas",null)),Object(l.j)(t.getChildren(),element)}(n,element,!1),element.set("parent",this),canvas&&f(element,canvas),e&&d(element,e),t.push(element),element.onCanvasChange("add"),this._applyElementMatrix(element)},e.prototype._applyElementMatrix=function(element){var t=this.getTotalMatrix();t&&element.applyMatrix(t)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();Object(l.a)(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),i=t.length-1;i>=0;i--)t[i].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(element){return this.getChildren().indexOf(element)>-1},e.prototype.removeChild=function(element,t){void 0===t&&(t=!0),this.contain(element)&&element.remove(t)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return Object(l.a)(n,(function(element){t(element)&&e.push(element),element.isGroup()&&(e=e.concat(element.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return Object(l.a)(n,(function(element){if(t(element)?e=element:element.isGroup()&&(e=element.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(element){return element.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(element){return element.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(element){return element.get("name")===t}))},e}(c.a);e.a=v},498:function(t,e,n){"use strict";var r=n(416),o=n(415),c=n(418),l=n(428),h=n(438),f=n(473),d=c.a.transform,v="matrix",y=["zIndex","capture","visible","type"],m=["repeat"];function x(t,e){var n={},r=e.attrs;for(var o in t)n[o]=r[o];return n}function O(t,e){var n={},r=e.attr();return Object(o.j)(t,(function(t,e){-1!==m.indexOf(e)||Object(o.E)(r[e],t)||(n[e]=t)})),n}function j(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,c=e.duration,l=Object.prototype.hasOwnProperty;return Object(o.j)(t,(function(t){n+r<t.startTime+t.delay+t.duration&&c>t.delay&&Object(o.j)(e.toAttrs,(function(e,n){l.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var w=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return Object(o.W)(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],c=e[1];if(!r)return this.attrs;if(Object(o.K)(r)){for(var l in r)this.setAttr(l,r[l]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,c),this.afterAttrsChange(((t={})[r]=c,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Object(l.j)(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(v,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(v)},e.prototype.setMatrix=function(t){this.attr(v,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?Object(h.b)(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?Object(h.b)(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?Object(h.c)(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=Object(h.a)(e);if(n)return Object(h.c)(n,t)}return t},e.prototype.setClip=function(t){var canvas=this.getCanvas(),e=null;if(t){var n=this.getShapeBase()[Object(o.nb)(t.type)];n&&(e=new n({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:canvas}))}return this.set("clipShape",e),this.onCanvasChange("clip"),e},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};Object(o.j)(e,(function(i,t){Object(o.z)(e[t])?n[t]=function(t){for(var e=[],i=0;i<t.length;i++)Object(o.z)(t[i])?e.push([].concat(t[i])):e.push(t[i]);return e}(e[t]):n[t]=e[t]}));var r=new(0,this.constructor)({attrs:n});return Object(o.j)(y,(function(e){r.set(e,t.get(e))})),r},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var c,l,h,f,d,v=t[0],y=t[1],m=t[2],w=void 0===m?"easeLinear":m,C=t[3],M=void 0===C?o.Y:C,S=t[4],A=void 0===S?0:S;Object(o.F)(v)?(c=v,v={}):Object(o.K)(v)&&v.onFrame&&(c=v.onFrame,l=v.repeat),Object(o.K)(y)?(y=(d=y).duration,w=d.easing||"easeLinear",A=d.delay||0,l=d.repeat||l||!1,M=d.callback||o.Y,h=d.pauseCallback||o.Y,f=d.resumeCallback||o.Y):(Object(o.I)(M)&&(A=M,M=null),Object(o.F)(w)?(M=w,w="easeLinear"):w=w||"easeLinear");var T=O(v,this),B={fromAttrs:x(T,this),toAttrs:T,duration:y,easing:w,repeat:l,callback:M,pauseCallback:h,resumeCallback:f,delay:A,startTime:n.getTime(),id:Object(o.mb)(),onFrame:c,pathFormatted:!1};r.length>0?r=j(r,B):n.addAnimator(this),r.push(B),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");Object(o.j)(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return Object(o.j)(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return Object(o.j)(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,r=this,c=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var h=function(i){var element=c[i],t=element.get("name");if(t){if((element.isGroup()||element.isCanvas&&element.isCanvas())&&n&&Object(l.g)(element,n))return"break";Object(o.z)(t)?Object(o.j)(t,(function(t){r.emitDelegateEvent(element,t,e)})):f.emitDelegateEvent(element,t,e)}},f=this,i=0;i<c.length;i++){if("break"===h(i))break}},e.prototype.emitDelegateEvent=function(element,t,e){var n=this.getEvents(),r=t+":"+e.type;(n[r]||n["*"])&&(e.name=r,e.currentTarget=element,e.delegateTarget=this,e.delegateObject=element.get("delegateObject"),this.emit(r,e))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=d(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=d(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=d(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,o=this.getMatrix(),c=d(o,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(c),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),o=d(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(o),this},e}(f.a);e.a=w},499:function(t,e,n){"use strict";function r(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.d(e,"b",(function(){return r})),e.a=function(a,b){b||(b=[]);var i,t=a?Math.min(b.length,a.length):0,e=b.slice();return function(n){for(i=0;i<t;++i)e[i]=a[i]*(1-n)+b[i]*n;return e}}},500:function(t,e,n){"use strict";var r=n(416),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),i=0;i<n.length;i++){var r=n[i];e.add(r.clone())}return e},e}(n(497).a);e.a=o},501:function(t,e,n){"use strict";var r=n(416),o=n(498),c=n(438),l=function(t){function e(e){return t.call(this,e)||this}return Object(r.b)(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,o=t.maxX,l=t.maxY;if(e){var h=Object(c.c)(e,[t.minX,t.minY]),f=Object(c.c)(e,[t.maxX,t.minY]),d=Object(c.c)(e,[t.minX,t.maxY]),v=Object(c.c)(e,[t.maxX,t.maxY]);n=Math.min(h[0],f[0],d[0],v[0]),o=Math.max(h[0],f[0],d[0],v[0]),r=Math.min(h[1],f[1],d[1],v[1]),l=Math.max(h[1],f[1],d[1],v[1])}var y=this.attrs;if(y.shadowColor){var m=y.shadowBlur,x=void 0===m?0:m,O=y.shadowOffsetX,j=void 0===O?0:O,w=y.shadowOffsetY,C=void 0===w?0:w,M=n-x+j,S=o+x+j,A=r-x+C,T=l+x+C;n=Math.min(n,M),o=Math.max(o,S),r=Math.min(r,A),l=Math.max(l,T)}return{x:n,y:r,minX:n,minY:r,maxX:o,maxY:l,width:o-n,height:l-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),o=[t,e,1],c=(o=this.invertFromMatrix(o))[0],l=o[1],h=this._isInBBox(c,l);if(this.isOnlyHitBox())return h;if(h&&!this.isClipped(c,l)){if(this.isInShape(c,l))return!0;if(n&&n.isHit(c,l))return!0;if(r&&r.isHit(c,l))return!0}return!1},e}(o.a);e.a=l},502:function(t,e,n){"use strict";n(481),n(503),n(504);var r=n(482);n.d(e,"Event",(function(){return r.a}));var o=n(483);n.d(e,"Base",(function(){return o.a}));n(534),n(507),n(508),n(523),n(460),n(430),n(440),n(484)},503:function(t,e){},504:function(t,e){},505:function(t,e,n){"use strict";var r=n(416),o=n(415),c=n(506),l=n(430),h={};function f(element,canvas){if(element.set("canvas",canvas),element.isGroup()){var t=element.get("children");t.length&&t.forEach((function(t){f(t,canvas)}))}}function d(element,t){if(element.set("timeline",t),element.isGroup()){var e=element.get("children");e.length&&e.forEach((function(e){d(e,t)}))}}var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,c=[],h=[],f=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return f.length>0?(Object(l.a)(f,(function(t){var e=t.getBBox();c.push(e.minX,e.maxX),h.push(e.minY,e.maxY)})),t=Object(o.V)(c),e=Object(o.T)(c),n=Object(o.V)(h),r=Object(o.T)(h)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,c=[],h=[],f=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return f.length>0?(Object(l.a)(f,(function(t){var e=t.getCanvasBBox();c.push(e.minX,e.maxX),h.push(e.minY,e.maxY)})),t=Object(o.V)(c),e=Object(o.T)(c),n=Object(o.V)(h),r=Object(o.T)(h)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var o=this.getTotalMatrix();this._applyChildrenMarix(o)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();Object(l.a)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];Object(l.f)(n)?r=n:r.type=n;var o=h[r.type];o||(o=Object(l.k)(r.type),h[r.type]=o);var c=this.getShapeBase(),f=new c[o](r);return this.add(f),f},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],o=t[1];if(Object(l.d)(r))n=new r(o||{parent:this});else{var c=r||{},h=this.getGroupBase();n=new h(c)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!Object(l.b)(this))return null;var r,o=this.getChildren();if(this.isCanvas())r=this._findShape(o,t,e,n);else{var c=[t,e,1];c=this.invertFromMatrix(c),this.isClipped(c[0],c[1])||(r=this._findShape(o,c[0],c[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var o=null,i=t.length-1;i>=0;i--){var c=t[i];if(Object(l.b)(c)&&(c.isGroup()?o=c.getShape(e,n,r):c.isHit(e,n)&&(o=c)),o)break}return o},e.prototype.add=function(element){var canvas=this.getCanvas(),t=this.getChildren(),e=this.get("timeline"),n=element.getParent();n&&function(t,element,e){void 0===e&&(e=!0),e?element.destroy():(element.set("parent",null),element.set("canvas",null)),Object(l.j)(t.getChildren(),element)}(n,element,!1),element.set("parent",this),canvas&&f(element,canvas),e&&d(element,e),t.push(element),element.onCanvasChange("add"),this._applyElementMatrix(element)},e.prototype._applyElementMatrix=function(element){var t=this.getTotalMatrix();t&&element.applyMatrix(t)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();Object(l.a)(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),i=t.length-1;i>=0;i--)t[i].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(element){return this.getChildren().indexOf(element)>-1},e.prototype.removeChild=function(element,t){void 0===t&&(t=!0),this.contain(element)&&element.remove(t)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return Object(l.a)(n,(function(element){t(element)&&e.push(element),element.isGroup()&&(e=e.concat(element.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return Object(l.a)(n,(function(element){if(t(element)?e=element:element.isGroup()&&(e=element.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(element){return element.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(element){return element.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(element){return element.get("name")===t}))},e}(c.a);e.a=v},506:function(t,e,n){"use strict";var r=n(416),o=n(415),c=n(418),l=n(430),h=n(440),f=n(483),d=c.a.transform,v="matrix",y=["zIndex","capture","visible","type"],m=["repeat"];function x(t,e){var n={},r=e.attrs;for(var o in t)n[o]=r[o];return n}function O(t,e){var n={},r=e.attr();return Object(o.j)(t,(function(t,e){-1!==m.indexOf(e)||Object(o.E)(r[e],t)||(n[e]=t)})),n}function j(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,c=e.duration,l=Object.prototype.hasOwnProperty;return Object(o.j)(t,(function(t){n+r<t.startTime+t.delay+t.duration&&c>t.delay&&Object(o.j)(e.toAttrs,(function(e,n){l.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var w=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return Object(o.W)(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],c=e[1];if(!r)return this.attrs;if(Object(o.K)(r)){for(var l in r)this.setAttr(l,r[l]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,c),this.afterAttrsChange(((t={})[r]=c,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Object(l.j)(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(v,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(v)},e.prototype.setMatrix=function(t){this.attr(v,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?Object(h.b)(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?Object(h.b)(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?Object(h.c)(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=Object(h.a)(e);if(n)return Object(h.c)(n,t)}return t},e.prototype.setClip=function(t){var canvas=this.getCanvas(),e=null;if(t){var n=this.getShapeBase()[Object(o.nb)(t.type)];n&&(e=new n({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:canvas}))}return this.set("clipShape",e),this.onCanvasChange("clip"),e},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};Object(o.j)(e,(function(i,t){Object(o.z)(e[t])?n[t]=function(t){for(var e=[],i=0;i<t.length;i++)Object(o.z)(t[i])?e.push([].concat(t[i])):e.push(t[i]);return e}(e[t]):n[t]=e[t]}));var r=new(0,this.constructor)({attrs:n});return Object(o.j)(y,(function(e){r.set(e,t.get(e))})),r},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var c,l,h,f,d,v=t[0],y=t[1],m=t[2],w=void 0===m?"easeLinear":m,C=t[3],M=void 0===C?o.Y:C,S=t[4],A=void 0===S?0:S;Object(o.F)(v)?(c=v,v={}):Object(o.K)(v)&&v.onFrame&&(c=v.onFrame,l=v.repeat),Object(o.K)(y)?(y=(d=y).duration,w=d.easing||"easeLinear",A=d.delay||0,l=d.repeat||l||!1,M=d.callback||o.Y,h=d.pauseCallback||o.Y,f=d.resumeCallback||o.Y):(Object(o.I)(M)&&(A=M,M=null),Object(o.F)(w)?(M=w,w="easeLinear"):w=w||"easeLinear");var T=O(v,this),B={fromAttrs:x(T,this),toAttrs:T,duration:y,easing:w,repeat:l,callback:M,pauseCallback:h,resumeCallback:f,delay:A,startTime:n.getTime(),id:Object(o.mb)(),onFrame:c,pathFormatted:!1};r.length>0?r=j(r,B):n.addAnimator(this),r.push(B),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");Object(o.j)(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return Object(o.j)(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return Object(o.j)(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,r=this,c=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var h=function(i){var element=c[i],t=element.get("name");if(t){if((element.isGroup()||element.isCanvas&&element.isCanvas())&&n&&Object(l.g)(element,n))return"break";Object(o.z)(t)?Object(o.j)(t,(function(t){r.emitDelegateEvent(element,t,e)})):f.emitDelegateEvent(element,t,e)}},f=this,i=0;i<c.length;i++){if("break"===h(i))break}},e.prototype.emitDelegateEvent=function(element,t,e){var n=this.getEvents(),r=t+":"+e.type;(n[r]||n["*"])&&(e.name=r,e.currentTarget=element,e.delegateTarget=this,e.delegateObject=element.get("delegateObject"),this.emit(r,e))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=d(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=d(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=d(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,o=this.getMatrix(),c=d(o,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(c),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),o=d(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(o),this},e}(f.a);e.a=w},507:function(t,e,n){"use strict";var r=n(416);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(r.b)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),i=0;i<n.length;i++){var r=n[i];e.add(r.clone())}return e}}(n(505).a)},508:function(t,e,n){"use strict";var r=n(416),o=n(506),c=n(440);!function(t){function e(e){return t.call(this,e)||this}Object(r.b)(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,o=t.maxX,l=t.maxY;if(e){var h=Object(c.c)(e,[t.minX,t.minY]),f=Object(c.c)(e,[t.maxX,t.minY]),d=Object(c.c)(e,[t.minX,t.maxY]),v=Object(c.c)(e,[t.maxX,t.maxY]);n=Math.min(h[0],f[0],d[0],v[0]),o=Math.max(h[0],f[0],d[0],v[0]),r=Math.min(h[1],f[1],d[1],v[1]),l=Math.max(h[1],f[1],d[1],v[1])}var y=this.attrs;if(y.shadowColor){var m=y.shadowBlur,x=void 0===m?0:m,O=y.shadowOffsetX,j=void 0===O?0:O,w=y.shadowOffsetY,C=void 0===w?0:w,M=n-x+j,S=o+x+j,A=r-x+C,T=l+x+C;n=Math.min(n,M),o=Math.max(o,S),r=Math.min(r,A),l=Math.max(l,T)}return{x:n,y:r,minX:n,minY:r,maxX:o,maxY:l,width:o-n,height:l-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),o=[t,e,1],c=(o=this.invertFromMatrix(o))[0],l=o[1],h=this._isInBBox(c,l);if(this.isOnlyHitBox())return h;if(h&&!this.isClipped(c,l)){if(this.isInShape(c,l))return!0;if(n&&n.isHit(c,l))return!0;if(r&&r.isHit(c,l))return!0}return!1}}(o.a)},509:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(415);function o(t,e,n){var o=e+"Style",c=null;return Object(r.j)(n,(function(e,n){t[n]&&e[o]&&(c||(c={}),Object(r.W)(c,e[o]))})),c}},510:function(t,e){},511:function(t,e){},512:function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return d}));var r=n(454);n.d(e,"Shape",(function(){return r}));var o=n(417);for(var c in o)["default","Canvas","Group","Shape","getArcParams","version"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(c);var l=n(535);n.d(e,"Canvas",(function(){return l.a}));var h=n(464);n.d(e,"Group",(function(){return h.a}));var f=n(485);n.d(e,"getArcParams",(function(){return f.a}));var d="0.5.12"},513:function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return v}));var r=n(422),o=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,c=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,l=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,h=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function f(t,e){var n=t.match(h);Object(r.c)(n,(function(t){var n=t.split(":");e.addColorStop(n[0],n[1])}))}function d(t,element,e){var n=element.getBBox();if(isNaN(n.x)||isNaN(n.y)||isNaN(n.width)||isNaN(n.height))return e;if(Object(r.k)(e)){if("("===e[1]||"("===e[2]){if("l"===e[0])return function(t,element,e){var n,r,c=o.exec(e),l=parseFloat(c[1])%360*(Math.PI/180),h=c[2],d=element.getBBox();l>=0&&l<.5*Math.PI?(n={x:d.minX,y:d.minY},r={x:d.maxX,y:d.maxY}):.5*Math.PI<=l&&l<Math.PI?(n={x:d.maxX,y:d.minY},r={x:d.minX,y:d.maxY}):Math.PI<=l&&l<1.5*Math.PI?(n={x:d.maxX,y:d.maxY},r={x:d.minX,y:d.minY}):(n={x:d.minX,y:d.maxY},r={x:d.maxX,y:d.minY});var v=Math.tan(l),y=v*v,m=(r.x-n.x+v*(r.y-n.y))/(y+1)+n.x,x=v*(r.x-n.x+v*(r.y-n.y))/(y+1)+n.y,O=t.createLinearGradient(n.x,n.y,m,x);return f(h,O),O}(t,element,e);if("r"===e[0])return function(t,element,e){var n=c.exec(e),r=parseFloat(n[1]),o=parseFloat(n[2]),l=parseFloat(n[3]),d=n[4];if(0===l){var v=d.match(h);return v[v.length-1].split(":")[1]}var y=element.getBBox(),m=y.maxX-y.minX,x=y.maxY-y.minY,O=Math.sqrt(m*m+x*x)/2,j=t.createRadialGradient(y.minX+m*r,y.minY+x*o,0,y.minX+m/2,y.minY+x/2,l*O);return f(d,j),j}(t,element,e);if("p"===e[0])return function(t,element,e){if(element.get("patternSource")&&element.get("patternSource")===e)return element.get("pattern");var pattern,img,n=l.exec(e),r=n[1],source=n[2];function o(){pattern=t.createPattern(img,r),element.set("pattern",pattern),element.set("patternSource",e)}switch(r){case"a":r="repeat";break;case"x":r="repeat-x";break;case"y":r="repeat-y";break;default:r="no-repeat"}return img=new Image,source.match(/^data:/i)||(img.crossOrigin="Anonymous"),img.src=source,img.complete?o():(img.onload=o,img.src=img.src),pattern}(t,element,e)}return e}return e instanceof CanvasPattern?e:void 0}function v(t){var e=0,n=0,o=0,c=0;return Object(r.g)(t)?1===t.length?e=n=o=c=t[0]:2===t.length?(e=o=t[0],n=c=t[1]):3===t.length?(e=t[0],n=c=t[1],o=t[2]):(e=t[0],n=t[1],o=t[2],c=t[3]):e=n=o=c=t,[e,n,o,c]}},520:function(t,e,n){"use strict";n.r(e),n.d(e,"Line",(function(){return line})),n.d(e,"Text",(function(){return m})),n.d(e,"Arc",(function(){return O})),n.d(e,"Region",(function(){return w})),n.d(e,"Image",(function(){return M})),n.d(e,"DataMarker",(function(){return A})),n.d(e,"DataRegion",(function(){return B})),n.d(e,"RegionFilter",(function(){return P})),n.d(e,"Shape",(function(){return L})),n.d(e,"Html",(function(){return D}));var r=n(416),o=n(415),c=n(419),label=n(455),l=n(427),h=n(420);function f(t,e){var n=e.x,c=e.y,content=e.content,style=e.style,f=e.id,d=e.name,v=e.rotate,y=e.maxLength,m=e.autoEllipsis,x=e.isVertical,O=e.ellipsisPosition,j=e.background,w=t.addGroup({id:f+"-group",name:d+"-group",attrs:{x:n,y:c}}),text=w.addShape({type:"text",id:f,name:d,attrs:Object(r.a)({x:0,y:0,text:content},style)}),C=Object(h.c)(Object(o.q)(j,"padding",0));if(y&&m){var M=y-(C[1]+C[3]);Object(label.a)(!x,text,M,O)}if(j){var S=Object(o.q)(j,"style",{}),A=text.getCanvasBBox(),T=A.minX,B=A.minY,k=A.width,P=A.height;w.addShape("rect",{id:f+"-bg",name:f+"-bg",attrs:Object(r.a)({x:T-C[3],y:B-C[0],width:k+C[1]+C[3],height:P+C[0]+C[2]},S)}).toBack()}Object(l.c)(w,n,c),Object(l.b)(w,v,n,c)}var d=n(424),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:d.a.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:d.a.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:d.a.lineColor,lineWidth:1}}}})},e.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},e.prototype.renderLine=function(t){var e=this.get("start"),n=this.get("end"),style=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Object(r.a)({x1:e.x,y1:e.y,x2:n.x,y2:n.y},style)})},e.prototype.getLabelPoint=function(t,e,n){var r;return((r="start"===n?0:"center"===n?.5:Object(o.M)(n)&&-1!==n.indexOf("%")?parseInt(n,10)/100:Object(o.I)(n)?n:1)>1||r<0)&&(r=1),{x:Object(h.g)(t.x,e.x,r),y:Object(h.g)(t.y,e.y,r)}},e.prototype.renderLabel=function(t){var text=this.get("text"),e=this.get("start"),n=this.get("end"),r=text.position,content=text.content,style=text.style,o=text.offsetX,c=text.offsetY,l=text.autoRotate,h=text.maxLength,d=text.autoEllipsis,v=text.ellipsisPosition,y=text.background,m=text.isVertical,x=void 0!==m&&m,O=this.getLabelPoint(e,n,r),j=O.x+o,w=O.y+c,C={id:this.getElementId("line-text"),name:"annotation-line-text",x:j,y:w,content:content,style:style,maxLength:h,autoEllipsis:d,ellipsisPosition:v,background:y,isVertical:x};if(l){var M=[n.x-e.x,n.y-e.y];C.rotate=Math.atan2(M[1],M[0])}f(t,C)},e}(c.a),line=v,y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:d.a.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:d.a.fontFamily}}})},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.renderInner=function(t){var e=this.getLocation(),n=e.x,r=e.y,content=this.get("content"),style=this.get("style");f(t,{id:this.getElementId("text"),name:this.get("name")+"-text",x:n,y:r,content:content,style:style,maxLength:this.get("maxLength"),autoEllipsis:this.get("autoEllipsis"),isVertical:this.get("isVertical"),ellipsisPosition:this.get("ellipsisPosition"),background:this.get("background"),rotate:this.get("rotate")})},e.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var e=this.getLocation(),n=e.x,r=e.y,o=this.get("rotate");Object(l.c)(t,n,r),Object(l.b)(t,o,n,r)}},e}(c.a),m=y,x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},e.prototype.renderInner=function(t){this.renderArc(t)},e.prototype.getArcPath=function(){var t=this.getLocation(),e=t.center,n=t.radius,r=t.startAngle,o=t.endAngle,c=Object(h.e)(e,n,r),l=Object(h.e)(e,n,o),f=o-r>Math.PI?1:0,path=[["M",c.x,c.y]];if(o-r==2*Math.PI){var d=Object(h.e)(e,n,r+Math.PI);path.push(["A",n,n,0,f,1,d.x,d.y]),path.push(["A",n,n,0,f,1,l.x,l.y])}else path.push(["A",n,n,0,f,1,l.x,l.y]);return path},e.prototype.renderArc=function(t){var path=this.getArcPath(),style=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Object(r.a)({path:path},style)})},e}(c.a),O=x,j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:d.a.regionColor,opacity:.4}}})},e.prototype.renderInner=function(t){this.renderRegion(t)},e.prototype.renderRegion=function(t){var e=this.get("start"),n=this.get("end"),style=this.get("style"),o=Object(h.k)({start:e,end:n});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Object(r.a)({x:o.x,y:o.y,width:o.width,height:o.height},style)})},e}(c.a),w=j,C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},e.prototype.renderInner=function(t){this.renderImage(t)},e.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),style=this.get("style"),n=Object(h.k)({start:t,end:e}),o=this.get("src");return Object(r.a)({x:n.x,y:n.y,img:o,width:n.width,height:n.height},style)},e.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},e}(c.a),M=C,S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:d.a.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:d.a.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:d.a.fontFamily}}}})},e.prototype.renderInner=function(t){Object(o.q)(this.get("line"),"display")&&this.renderLine(t),Object(o.q)(this.get("text"),"display")&&this.renderText(t),Object(o.q)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},e.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},e.prototype.renderLine=function(t){var line=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:line})},e.prototype.renderText=function(t){var e=this.getShapeAttrs().text,n=e.x,o=e.y,text=e.text,style=Object(r.c)(e,["x","y","text"]),c=this.get("text"),l=c.background,h=c.maxLength,d=c.autoEllipsis,v=c.isVertival,y=c.ellipsisPosition;f(t,{x:n,y:o,id:this.getElementId("text"),name:"annotation-text",content:text,style:style,background:l,maxLength:h,autoEllipsis:d,isVertival:v,ellipsisPosition:y})},e.prototype.autoAdjust=function(t){var e=this.get("direction"),n=this.get("x"),r=this.get("y"),c=Object(o.q)(this.get("line"),"length",0),h=this.get("coordinateBBox"),f=t.getBBox(),d=f.minX,v=f.maxX,y=f.minY,m=f.maxY,x=t.findById(this.getElementId("text-group")),O=t.findById(this.getElementId("text")),j=t.findById(this.getElementId("line"));if(h){if(x){if(n+d<=h.minX){var w=h.minX-(n+d);Object(l.c)(x,x.attr("x")+w,x.attr("y"))}if(n+v>=h.maxX){w=n+v-h.maxX;Object(l.c)(x,x.attr("x")-w,x.attr("y"))}}if("upward"===e&&r+y<=h.minY||"upward"!==e&&r+m>=h.maxY){var C=void 0,M=void 0;"upward"===e&&r+y<=h.minY?(C="top",M=1):(C="bottom",M=-1),O.attr("textBaseline",C),j&&j.attr("path",[["M",0,0],["L",0,c*M]]),Object(l.c)(x,x.attr("x"),(c+2)*M)}}},e.prototype.getShapeAttrs=function(){var t=Object(o.q)(this.get("line"),"display"),e=Object(o.q)(this.get("point"),"style",{}),n=Object(o.q)(this.get("line"),"style",{}),c=Object(o.q)(this.get("text"),"style",{}),l=this.get("direction"),h=t?Object(o.q)(this.get("line"),"length",0):0,f="upward"===l?-1:1;return{point:Object(r.a)({x:0,y:0},e),line:Object(r.a)({path:[["M",0,0],["L",0,h*f]]},n),text:Object(r.a)({x:0,y:(h+2)*f,text:Object(o.q)(this.get("text"),"content",""),textBaseline:"upward"===l?"bottom":"top"},c)}},e}(c.a),A=S,T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:d.a.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:d.a.textColor,fontFamily:d.a.fontFamily}}}})},e.prototype.renderInner=function(t){var e=Object(o.q)(this.get("region"),"style",{}),n=(Object(o.q)(this.get("text"),"style",{}),this.get("lineLength")||0),c=this.get("points");if(c.length){var l=Object(h.j)(c),path=[];path.push(["M",c[0].x,l.minY-n]),c.forEach((function(t){path.push(["L",t.x,t.y])})),path.push(["L",c[c.length-1].x,c[c.length-1].y-n]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Object(r.a)({path:path},e)}),f(t,Object(r.a)({id:this.getElementId("text"),name:"annotation-text",x:(l.minX+l.maxX)/2,y:l.minY-n},this.get("text")))}},e}(c.a),B=T,k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},e.prototype.renderInner=function(t){var e=this,n=this.get("start"),r=this.get("end"),c=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});Object(o.j)(this.get("shapes"),(function(t,n){var r=t.get("type"),l=Object(o.e)(t.attr());e.adjustShapeAttrs(l),e.addShape(c,{id:e.getElementId("shape-"+r+"-"+n),capture:!1,type:r,attrs:l})}));var l=Object(h.k)({start:n,end:r});c.setClip({type:"rect",attrs:{x:l.minX,y:l.minY,width:l.width,height:l.height}})},e.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},e}(c.a),P=k,E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"annotation",type:"shape",draw:o.Y})},e.prototype.renderInner=function(t){var e=this.get("render");Object(o.F)(e)&&e(t)},e}(c.a),L=E,I=n(434),F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},e.prototype.render=function(){var t=this.getContainer(),html=this.get("html");Object(h.a)(t);var e=Object(o.F)(html)?html(t):html;Object(o.C)(e)?t.appendChild(e):Object(o.M)(e)&&t.appendChild(Object(I.b)(e)),this.resetPosition()},e.prototype.resetPosition=function(){var t=this.getContainer(),e=this.getLocation(),n=e.x,r=e.y,o=this.get("alignX"),c=this.get("alignY"),l=this.get("offsetX"),h=this.get("offsetY"),f=Object(I.d)(t),d=Object(I.c)(t),v={x:n,y:r};"middle"===o?v.x-=Math.round(f/2):"right"===o&&(v.x-=Math.round(f)),"middle"===c?v.y-=Math.round(d/2):"bottom"===c&&(v.y-=Math.round(d)),l&&(v.x+=l),h&&(v.y+=h),Object(I.e)(t,{position:"absolute",left:v.x+"px",top:v.y+"px",zIndex:this.get("zIndex")})},e}(n(441).a),D=F},521:function(t,e,n){"use strict";function r(t){return+t}function o(t){return t*t}function c(t){return t*(2-t)}function l(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function h(t){return t*t*t}function f(t){return--t*t*t+1}function d(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}n.r(e),n.d(e,"easeLinear",(function(){return r})),n.d(e,"easeQuad",(function(){return l})),n.d(e,"easeQuadIn",(function(){return o})),n.d(e,"easeQuadOut",(function(){return c})),n.d(e,"easeQuadInOut",(function(){return l})),n.d(e,"easeCubic",(function(){return d})),n.d(e,"easeCubicIn",(function(){return h})),n.d(e,"easeCubicOut",(function(){return f})),n.d(e,"easeCubicInOut",(function(){return d})),n.d(e,"easePoly",(function(){return m})),n.d(e,"easePolyIn",(function(){return v})),n.d(e,"easePolyOut",(function(){return y})),n.d(e,"easePolyInOut",(function(){return m})),n.d(e,"easeSin",(function(){return C})),n.d(e,"easeSinIn",(function(){return j})),n.d(e,"easeSinOut",(function(){return w})),n.d(e,"easeSinInOut",(function(){return C})),n.d(e,"easeExp",(function(){return T})),n.d(e,"easeExpIn",(function(){return S})),n.d(e,"easeExpOut",(function(){return A})),n.d(e,"easeExpInOut",(function(){return T})),n.d(e,"easeCircle",(function(){return P})),n.d(e,"easeCircleIn",(function(){return B})),n.d(e,"easeCircleOut",(function(){return k})),n.d(e,"easeCircleInOut",(function(){return P})),n.d(e,"easeBounce",(function(){return F})),n.d(e,"easeBounceIn",(function(){return I})),n.d(e,"easeBounceOut",(function(){return F})),n.d(e,"easeBounceInOut",(function(){return D})),n.d(e,"easeBack",(function(){return G})),n.d(e,"easeBackIn",(function(){return _})),n.d(e,"easeBackOut",(function(){return Y})),n.d(e,"easeBackInOut",(function(){return G})),n.d(e,"easeElastic",(function(){return N})),n.d(e,"easeElasticIn",(function(){return X})),n.d(e,"easeElasticOut",(function(){return N})),n.d(e,"easeElasticInOut",(function(){return H}));var v=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),y=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),m=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),x=Math.PI,O=x/2;function j(t){return 1==+t?1:1-Math.cos(t*O)}function w(t){return Math.sin(t*O)}function C(t){return(1-Math.cos(x*t))/2}function M(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function S(t){return M(1-+t)}function A(t){return 1-M(t)}function T(t){return((t*=2)<=1?M(1-t):2-M(t-1))/2}function B(t){return 1-Math.sqrt(1-t*t)}function k(t){return Math.sqrt(1- --t*t)}function P(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var E=4/11,L=7.5625;function I(t){return 1-F(1-t)}function F(t){return(t=+t)<E?L*t*t:t<.7272727272727273?L*(t-=.5454545454545454)*t+.75:t<.9090909090909091?L*(t-=.8181818181818182)*t+.9375:L*(t-=.9545454545454546)*t+.984375}function D(t){return((t*=2)<=1?1-F(1-t):F(t-1)+1)/2}var R=1.70158,_=function t(s){function e(t){return(t=+t)*t*(s*(t-1)+t)}return s=+s,e.overshoot=t,e}(R),Y=function t(s){function e(t){return--t*t*((t+1)*s+t)+1}return s=+s,e.overshoot=t,e}(R),G=function t(s){function e(t){return((t*=2)<1?t*t*((s+1)*t-s):(t-=2)*t*((s+1)*t+s)+2)/2}return s=+s,e.overshoot=t,e}(R),z=2*Math.PI,X=function t(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=z);function e(t){return a*M(- --t)*Math.sin((s-t)/p)}return e.amplitude=function(a){return t(a,p*z)},e.period=function(p){return t(a,p)},e}(1,.3),N=function t(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=z);function e(t){return 1-a*M(t=+t)*Math.sin((t+s)/p)}return e.amplitude=function(a){return t(a,p*z)},e.period=function(p){return t(a,p)},e}(1,.3),H=function t(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=z);function e(t){return((t=2*t-1)<0?a*M(-t)*Math.sin((s-t)/p):2-a*M(t)*Math.sin((s+t)/p))/2}return e.amplitude=function(a){return t(a,p*z)},e.period=function(p){return t(a,p)},e}(1,.3)},522:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=new Map;function o(t,e){r.set(t,e)}function c(t){return r.get(t)}var rect=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}},circle=function(t){var e=t.attr(),n=e.x,r=e.y,o=e.r;return{x:n-o,y:r-o,width:2*o,height:2*o}},l=n(421);function h(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function f(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape");return n&&(e=h(e,n.getCanvasBBox())),r&&(e=h(e,r.getCanvasBBox())),e}var d=n(456),v=n(436),y=n(415);function m(t,e){var n=t.prePoint,r=t.currentPoint,o=t.nextPoint,c=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),l=Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2),h=Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2),f=Math.acos((c+l-h)/(2*Math.sqrt(c)*Math.sqrt(l)));if(!f||0===Math.sin(f)||Object(y.J)(f,0))return{xExtra:0,yExtra:0};var d=Math.abs(Math.atan2(o[1]-r[1],o[0]-r[0])),v=Math.abs(Math.atan2(o[0]-r[0],o[1]-r[1]));return d=d>Math.PI/2?Math.PI-d:d,v=v>Math.PI/2?Math.PI-v:v,{xExtra:Math.cos(f/2-d)*(e/2*(1/Math.sin(f/2)))-e/2||0,yExtra:Math.cos(v-f/2)*(e/2*(1/Math.sin(f/2)))-e/2||0}}o("rect",rect),o("image",rect),o("circle",circle),o("marker",circle),o("polyline",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}var c=l.f.getBBoxByArray(n,r),h=c.x,d=c.y,v={minX:h,minY:d,maxX:h+c.width,maxY:d+c.height};return{x:(v=f(t,v)).minX,y:v.minY,width:v.maxX-v.minX,height:v.maxY-v.minY}})),o("polygon",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}return l.f.getBBoxByArray(n,r)})),o("text",(function(t){var e=t.attr(),n=e.x,r=e.y,text=e.text,o=e.fontSize,c=e.lineHeight,l=e.font;l||(l=Object(d.a)(e));var h,f=Object(d.c)(text,l);if(f){var v=e.textAlign,y=e.textBaseline,m=Object(d.b)(text,o,c),x={x:n,y:r-m};v&&("end"===v||"right"===v?x.x-=f:"center"===v&&(x.x-=f/2)),y&&("top"===y?x.y+=m:"middle"===y&&(x.y+=m/2)),h={x:x.x,y:x.y,width:f,height:m}}else h={x:n,y:r,width:0,height:0};return h})),o("path",(function(t){var e=t.attr(),path=e.path,n=e.stroke?e.lineWidth:0,r=function(t,e){for(var n=[],r=[],o=[],i=0;i<t.length;i++){var c=(C=t[i]).currentPoint,h=C.params,f=C.prePoint,d=void 0;switch(C.command){case"Q":d=l.e.box(f[0],f[1],h[1],h[2],h[3],h[4]);break;case"C":d=l.b.box(f[0],f[1],h[1],h[2],h[3],h[4],h[5],h[6]);break;case"A":var v=C.arcParams;d=l.a.box(v.cx,v.cy,v.rx,v.ry,v.xRotation,v.startAngle,v.endAngle);break;default:n.push(c[0]),r.push(c[1])}d&&(C.box=d,n.push(d.x,d.x+d.width),r.push(d.y,d.y+d.height)),e&&("L"===C.command||"M"===C.command)&&C.prePoint&&C.nextPoint&&o.push(C)}n=n.filter((function(t){return!Number.isNaN(t)})),r=r.filter((function(t){return!Number.isNaN(t)}));var x=Object(y.V)(n),O=Object(y.V)(r),j=Object(y.T)(n),w=Object(y.T)(r);if(0===o.length)return{x:x,y:O,width:j-x,height:w-O};for(i=0;i<o.length;i++){var C;(c=(C=o[i]).currentPoint)[0]===x?x-=m(C,e).xExtra:c[0]===j&&(j+=m(C,e).xExtra),c[1]===O?O-=m(C,e).yExtra:c[1]===w&&(w+=m(C,e).yExtra)}return{x:x,y:O,width:j-x,height:w-O}}(t.get("segments")||Object(v.e)(path),n),o=r.x,c=r.y,h={minX:o,minY:c,maxX:o+r.width,maxY:c+r.height};return{x:(h=f(t,h)).minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}})),o("line",(function(t){var e=t.attr(),n=e.x1,r=e.y1,o=e.x2,c=e.y2,l={minX:Math.min(n,o),maxX:Math.max(n,o),minY:Math.min(r,c),maxY:Math.max(r,c)};return{x:(l=f(t,l)).minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}})),o("ellipse",(function(t){var e=t.attr(),n=e.x,r=e.y,o=e.rx,c=e.ry;return{x:n-o,y:r-c,width:2*o,height:2*c}}))},523:function(t,e,n){"use strict";var r=new Map;function o(t,e){r.set(t,e)}var rect=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}},circle=function(t){var e=t.attr(),n=e.x,r=e.y,o=e.r;return{x:n-o,y:r-o,width:2*o,height:2*o}},c=n(421);function l(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function h(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape");return n&&(e=l(e,n.getCanvasBBox())),r&&(e=l(e,r.getCanvasBBox())),e}var f=n(460),d=n(436),v=n(415);function y(t,e){var n=t.prePoint,r=t.currentPoint,o=t.nextPoint,c=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),l=Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2),h=Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2),f=Math.acos((c+l-h)/(2*Math.sqrt(c)*Math.sqrt(l)));if(!f||0===Math.sin(f)||Object(v.J)(f,0))return{xExtra:0,yExtra:0};var d=Math.abs(Math.atan2(o[1]-r[1],o[0]-r[0])),y=Math.abs(Math.atan2(o[0]-r[0],o[1]-r[1]));return d=d>Math.PI/2?Math.PI-d:d,y=y>Math.PI/2?Math.PI-y:y,{xExtra:Math.cos(f/2-d)*(e/2*(1/Math.sin(f/2)))-e/2||0,yExtra:Math.cos(y-f/2)*(e/2*(1/Math.sin(f/2)))-e/2||0}}o("rect",rect),o("image",rect),o("circle",circle),o("marker",circle),o("polyline",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}var l=c.f.getBBoxByArray(n,r),f=l.x,d=l.y,v={minX:f,minY:d,maxX:f+l.width,maxY:d+l.height};return{x:(v=h(t,v)).minX,y:v.minY,width:v.maxX-v.minX,height:v.maxY-v.minY}})),o("polygon",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}return c.f.getBBoxByArray(n,r)})),o("text",(function(t){var e=t.attr(),n=e.x,r=e.y,text=e.text,o=e.fontSize,c=e.lineHeight,l=e.font;l||(l=Object(f.a)(e));var h,d=Object(f.c)(text,l);if(d){var v=e.textAlign,y=e.textBaseline,m=Object(f.b)(text,o,c),x={x:n,y:r-m};v&&("end"===v||"right"===v?x.x-=d:"center"===v&&(x.x-=d/2)),y&&("top"===y?x.y+=m:"middle"===y&&(x.y+=m/2)),h={x:x.x,y:x.y,width:d,height:m}}else h={x:n,y:r,width:0,height:0};return h})),o("path",(function(t){var e=t.attr(),path=e.path,n=e.stroke?e.lineWidth:0,r=function(t,e){for(var n=[],r=[],o=[],i=0;i<t.length;i++){var l=(C=t[i]).currentPoint,h=C.params,f=C.prePoint,d=void 0;switch(C.command){case"Q":d=c.e.box(f[0],f[1],h[1],h[2],h[3],h[4]);break;case"C":d=c.b.box(f[0],f[1],h[1],h[2],h[3],h[4],h[5],h[6]);break;case"A":var m=C.arcParams;d=c.a.box(m.cx,m.cy,m.rx,m.ry,m.xRotation,m.startAngle,m.endAngle);break;default:n.push(l[0]),r.push(l[1])}d&&(C.box=d,n.push(d.x,d.x+d.width),r.push(d.y,d.y+d.height)),e&&("L"===C.command||"M"===C.command)&&C.prePoint&&C.nextPoint&&o.push(C)}n=n.filter((function(t){return!Number.isNaN(t)})),r=r.filter((function(t){return!Number.isNaN(t)}));var x=Object(v.V)(n),O=Object(v.V)(r),j=Object(v.T)(n),w=Object(v.T)(r);if(0===o.length)return{x:x,y:O,width:j-x,height:w-O};for(i=0;i<o.length;i++){var C;(l=(C=o[i]).currentPoint)[0]===x?x-=y(C,e).xExtra:l[0]===j&&(j+=y(C,e).xExtra),l[1]===O?O-=y(C,e).yExtra:l[1]===w&&(w+=y(C,e).yExtra)}return{x:x,y:O,width:j-x,height:w-O}}(t.get("segments")||Object(d.e)(path),n),o=r.x,l=r.y,f={minX:o,minY:l,maxX:o+r.width,maxY:l+r.height};return{x:(f=h(t,f)).minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}})),o("line",(function(t){var e=t.attr(),n=e.x1,r=e.y1,o=e.x2,c=e.y2,l={minX:Math.min(n,o),maxX:Math.max(n,o),minY:Math.min(r,c),maxY:Math.max(r,c)};return{x:(l=h(t,l)).minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}})),o("ellipse",(function(t){var e=t.attr(),n=e.x,r=e.y,o=e.rx,c=e.ry;return{x:n-o,y:r-c,width:2*o,height:2*c}}))},524:function(t,e,n){"use strict";n.r(e),n.d(e,"Line",(function(){return V})),n.d(e,"Circle",(function(){return circle})),n.d(e,"Base",(function(){return j}));var r={};n.r(r),n.d(r,"getDefault",(function(){return M})),n.d(r,"ellipsisHead",(function(){return S})),n.d(r,"ellipsisTail",(function(){return A})),n.d(r,"ellipsisMiddle",(function(){return T}));var o={};n.r(o),n.d(o,"getDefault",(function(){return I})),n.d(o,"reserveFirst",(function(){return F})),n.d(o,"reserveLast",(function(){return D})),n.d(o,"reserveBoth",(function(){return R})),n.d(o,"equidistance",(function(){return _})),n.d(o,"equidistanceWithReverseBoth",(function(){return Y}));var c={};n.r(c),n.d(c,"getDefault",(function(){return z})),n.d(c,"fixedAngle",(function(){return X})),n.d(c,"unfixedAngle",(function(){return N}));var l={};n.r(l),n.d(l,"autoHide",(function(){return o})),n.d(l,"autoRotate",(function(){return c})),n.d(l,"autoEllipsis",(function(){return r}));var h=n(416),f=n(418),d=n(415),v=n(419),y=n(427),m=n(509),x=n(424),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},e),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:x.a.lineColor}},tickLine:{style:{lineWidth:1,stroke:x.a.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:x.a.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:x.a.textColor,fontFamily:x.a.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:x.a.textColor,textBaseline:"middle",fontFamily:x.a.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:x.a.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},e.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("ticks")},e.prototype.setItems=function(t){this.update({ticks:t})},e.prototype.updateItem=function(t,e){Object(d.W)(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},e.prototype.setItemState=function(t,e,n){t[e]=n,this.updateTickStates(t)},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("tickStates"),n=[];return Object(d.j)(e,(function(e,r){t[r]&&n.push(r)})),n},e.prototype.clearItemsState=function(t){var e=this,n=this.getItemsByState(t);Object(d.j)(n,(function(n){e.setItemState(n,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return Object(d.l)(n,(function(n){return e.hasState(n,t)}))},e.prototype.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},e.prototype.getTextAnchor=function(t){var e;return Object(d.J)(t[0],0)?e="center":t[0]>0?e="start":t[0]<0&&(e="end"),e},e.prototype.getTextBaseline=function(t){var base;return Object(d.J)(t[1],0)?base="middle":t[1]>0?base="top":t[1]<0&&(base="bottom"),base},e.prototype.processOverlap=function(t){},e.prototype.drawLine=function(t){var path=this.getLinePath(),line=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Object(d.W)({path:path},line.style)})},e.prototype.getTickLineItems=function(t){var e=this,n=[],r=this.get("tickLine"),o=r.alignTick,c=r.length,l=1;return t.length>=2&&(l=t[1].value-t[0].value),Object(d.j)(t,(function(t){var r=t.point;o||(r=e.getTickPoint(t.value-l/2));var h=e.getSidePoint(r,c);n.push({startPoint:r,tickValue:t.value,endPoint:h,tickId:t.id,id:"tickline-"+t.id})})),n},e.prototype.getSubTickLineItems=function(t){var e=[],n=this.get("subTickLine"),r=n.count,o=t.length;if(o>=2)for(var i=0;i<o-1;i++)for(var pre=t[i],c=t[i+1],l=0;l<r;l++){var h=(l+1)/(r+1),f=(1-h)*pre.tickValue+h*c.tickValue,d=this.getTickPoint(f),v=this.getSidePoint(d,n.length);e.push({startPoint:d,endPoint:v,tickValue:f,id:"sub-"+pre.id+"-"+l})}return e},e.prototype.getTickLineAttrs=function(t,e,n,r){var style=this.get(e).style,o={points:[t.startPoint,t.endPoint]},c=Object(d.q)(this.get("theme"),["tickLine","style"],{});style=Object(d.F)(style)?Object(d.W)({},c,style(o,n,r)):style;var l=t.startPoint,f=t.endPoint;return Object(h.a)({x1:l.x,y1:l.y,x2:f.x,y2:f.y},style)},e.prototype.drawTick=function(t,e,n,r,o){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-"+n,attrs:this.getTickLineAttrs(t,n,r,o)})},e.prototype.drawTickLines=function(t){var e=this,n=this.get("ticks"),r=this.get("subTickLine"),o=this.getTickLineItems(n),c=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),l=this.get("tickLine");if(Object(d.j)(o,(function(n,r){if(l.displayWithLabel){var h=e.getElementId("label-"+n.tickId);t.findById(h)&&e.drawTick(n,c,"tickLine",r,o)}else e.drawTick(n,c,"tickLine",r,o)})),r){var h=this.getSubTickLineItems(o);Object(d.j)(h,(function(t,n){e.drawTick(t,c,"subTickLine",n,h)}))}},e.prototype.processTicks=function(){var t=this,e=this.get("ticks");Object(d.j)(e,(function(e){e.point=t.getTickPoint(e.value),Object(d.G)(e.id)&&(e.id=e.name)}))},e.prototype.drawTicks=function(t){var e=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var n=this.get("ticks");Object(d.j)(n,(function(n){e.applyTickStates(n,t)}))},e.prototype.optimizeTicks=function(){var t=this.get("optimize"),e=this.get("ticks");if(t&&t.enable&&t.threshold>0){var n=Object(d.eb)(e);if(n>t.threshold){var r=Math.ceil(n/t.threshold),o=e.filter((function(t,e){return e%r==0}));this.set("ticks",o),this.set("originalTicks",e)}}},e.prototype.getLabelAttrs=function(t,e,n){var r=this.get("label"),o=r.offset,c=r.rotate,l=r.formatter,h=this.getSidePoint(t.point,o),f=this.getSideVector(o,h),text=l?l(t.name,t,e):t.name,style=r.style;style=Object(d.F)(style)?Object(d.q)(this.get("theme"),["label","style"],{}):style;var v=Object(d.W)({x:h.x,y:h.y,text:text,textAlign:this.getTextAnchor(f),textBaseline:this.getTextBaseline(f)},style);return c&&(v.matrix=Object(y.e)(h,c)),v},e.prototype.drawLabels=function(t){var e=this,n=this.get("ticks"),r=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});Object(d.j)(n,(function(t,o){e.addShape(r,{type:"text",name:"axis-label",id:e.getElementId("label-"+t.id),attrs:e.getLabelAttrs(t,o,n),delegateObject:{tick:t,item:t,index:o}})})),this.processOverlap(r);var o=r.getChildren(),c=Object(d.q)(this.get("theme"),["label","style"],{}),l=this.get("label"),style=l.style,h=l.formatter;if(Object(d.F)(style)){var f=o.map((function(label){return Object(d.q)(label.get("delegateObject"),"tick")}));Object(d.j)(o,(function(label,t){var e=label.get("delegateObject").tick,text=h?h(e.name,e,t):e.name,n=Object(d.W)({},c,style(text,t,f));label.attr(n)}))}},e.prototype.getTitleAttrs=function(){var t=this.get("title"),style=t.style,e=t.position,n=t.offset,r=t.spacing,o=void 0===r?0:r,c=t.autoRotate,l=style.fontSize,h=.5;"start"===e?h=0:"end"===e&&(h=1);var v=this.getTickPoint(h),m=this.getSidePoint(v,n||o+l/2),x=Object(d.W)({x:m.x,y:m.y,text:t.text},style),O=t.rotate,j=O;if(Object(d.G)(O)&&c){var w=this.getAxisVector(v);j=f.a.angleTo(w,[1,0],!0)}if(j){var C=Object(y.e)(m,j);x.matrix=C}return x},e.prototype.drawTitle=function(t){this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},e.prototype.applyTickStates=function(t,e){if(this.getItemStates(t).length){var n=this.get("tickStates"),r=this.getElementId("label-"+t.id),o=e.findById(r);if(o){var c=Object(m.a)(t,"label",n);c&&o.attr(c)}var l=this.getElementId("tickline-"+t.id),h=e.findById(l);if(h){var f=Object(m.a)(t,"tickLine",n);f&&h.attr(f)}}},e.prototype.updateTickStates=function(t){var e=this.getItemStates(t),n=this.get("tickStates"),r=this.get("label"),o=this.getElementByLocalId("label-"+t.id),c=this.get("tickLine"),l=this.getElementByLocalId("tickline-"+t.id);if(e.length){if(o){var h=Object(m.a)(t,"label",n);h&&o.attr(h)}if(l){var f=Object(m.a)(t,"tickLine",n);f&&l.attr(f)}}else o&&o.attr(r.style),l&&l.attr(c.style)},e}(v.a),j=O,w=n(455);function C(t,e,n,r){var o=e.getChildren(),c=!1;return Object(d.j)(o,(function(label){var e=Object(w.a)(t,label,n,r);c=c||e})),c}function M(){return A}function S(t,e,n){return C(t,e,n,"head")}function A(t,e,n){return C(t,e,n,"tail")}function T(t,e,n){return C(t,e,n,"middle")}var B=n(420);function k(label){var t=function(label){var t=label.attr("matrix");return t&&1!==t[0]}(label)?Object(y.d)(label.attr("matrix")):0;return t%360}function P(t,e,n,r){var o=!1,c=k(e),l=t?Math.abs(n.attr("y")-e.attr("y")):Math.abs(n.attr("x")-e.attr("x")),h=(t?n.attr("y")>e.attr("y"):n.attr("x")>e.attr("x"))?e.getBBox():n.getBBox();if(t){var f=Math.abs(Math.cos(c));o=Object(B.i)(f,0,Math.PI/180)?h.width+r>l:h.height/f+r>l}else{f=Math.abs(Math.sin(c));o=Object(B.i)(f,0,Math.PI/180)?h.width+r>l:h.height/f+r>l}return o}function E(t,e,n,r){var o=(null==r?void 0:r.minGap)||0,c=e.getChildren().slice().filter((function(t){return t.get("visible")}));if(!c.length)return!1;var l=!1;n&&c.reverse();for(var h=c.length,f=c[0],i=1;i<h;i++){var label=c[i];label.getBBox();P(t,f,label,o)?(label.hide(),l=!0):f=label}return l}function L(t,e,n){var r=(null==n?void 0:n.minGap)||0,o=e.getChildren().slice();if(o.length<2)return!1;var c=!1,l=o[0],h=l.getBBox(),f=o[1],d=o.length,v=k(l),y=t?Math.abs(f.attr("y")-l.attr("y")):Math.abs(f.attr("x")-l.attr("x")),m=0;if(t){var x=Math.abs(Math.cos(v));if(Object(B.i)(x,0,Math.PI/180))m=(Object(w.b)(o)+r)/y;else m=(h.height/x+r)/y}else{x=Math.abs(Math.sin(v));if(Object(B.i)(x,0,Math.PI/180))m=(Object(w.b)(o)+r)/y;else m=(h.height/x+r)/y}if(m>1){m=Math.ceil(m);for(var i=0;i<d;i++)i%m!=0&&(o[i].hide(),c=!0)}return c}function I(){return _}function F(t,e,n,r){return E(t,e,!1,r)}function D(t,e,n,r){return E(t,e,!0,r)}function R(t,e,n,r){var o=(null==r?void 0:r.minGap)||0,c=e.getChildren().slice();if(c.length<=2)return!1;for(var l=!1,h=c.length,f=c[0],d=c[h-1],v=f,i=1;i<h-1;i++){var label=c[i];label.getBBox();P(t,v,label,o)?(label.hide(),l=!0):v=label}return P(t,v,d,o)&&(v.hide(),l=!0),l}function _(t,e,n,r){var o=L(t,e,r);return E(t,e,!1)&&(o=!0),o}function Y(t,e,n,r){var o=e.getChildren().slice(),c=L(t,e,r);if(o.length>2){var l=o[0],h=o[o.length-1];l.get("visible")||(l.show(),E(t,e,!1,r)&&(c=!0)),h.get("visible")||(h.show(),E(t,e,!0,r)&&(c=!0))}return c}function G(t,e,n,r){var o=e.getChildren();if(!o.length)return!1;if(!t&&o.length<2)return!1;var c=Object(w.b)(o),l=!1;t?l=!!n&&c>n:l=c>Math.abs(o[1].attr("x")-o[0].attr("x"));l&&function(t,e){Object(d.j)(t,(function(label){var t=label.attr("x"),n=label.attr("y"),r=Object(y.e)({x:t,y:n},e);label.attr("matrix",r)}))}(o,r(n,c));return l}function z(){return X}function X(t,e,n,r){return G(t,e,n,(function(){return Object(d.I)(r)?r:t?x.a.verticalAxisRotate:x.a.horizontalAxisRotate}))}function N(t,e,n){return G(t,e,n,(function(e,n){if(!e)return t?x.a.verticalAxisRotate:x.a.horizontalAxisRotate;if(t)return-Math.acos(e/n);var r=0;return(e>n||(r=Math.asin(e/n))>Math.PI/4)&&(r=Math.PI/4),r}))}var H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),path=[];return path.push(["M",t.x,t.y]),path.push(["L",e.x,e.y]),path},e.prototype.getInnerLayoutBBox=function(){var e=this.get("start"),n=this.get("end"),r=t.prototype.getInnerLayoutBBox.call(this),o=Math.min(e.x,n.x,r.x),c=Math.min(e.y,n.y,r.y),l=Math.max(e.x,n.x,r.maxX),h=Math.max(e.y,n.y,r.maxY);return{x:o,y:c,minX:o,minY:c,maxX:l,maxY:h,width:l-o,height:h-c}},e.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return Object(d.J)(t.x,e.x)},e.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return Object(d.J)(t.y,e.y)},e.prototype.getTickPoint=function(t){var e=this.get("start"),n=this.get("end"),r=n.x-e.x,o=n.y-e.y;return{x:e.x+r*t,y:e.y+o*t}},e.prototype.getSideVector=function(t){var e=this.getAxisVector(),n=f.c.normalize([0,0],e),r=this.get("verticalFactor"),o=[n[1],-1*n[0]];return f.c.scale([0,0],o,t*r)},e.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},e.prototype.processOverlap=function(t){var e=this,n=this.isVertical(),r=this.isHorizontal();if(n||r){var o=this.get("label"),c=this.get("title"),l=this.get("verticalLimitLength"),h=o.offset,f=l,v=0,y=0;c&&(v=c.style.fontSize,y=c.spacing),f&&(f=f-h-y-v);var m=this.get("overlapOrder");if(Object(d.j)(m,(function(n){o[n]&&e.canProcessOverlap(n)&&e.autoProcessOverlap(n,o[n],t,f)})),c&&Object(d.G)(c.offset)){var x=t.getCanvasBBox(),O=n?x.width:x.height;c.offset=h+O+y+v/2}}},e.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||Object(d.G)(e.rotate)},e.prototype.autoProcessOverlap=function(t,e,n,r){var o=this,c=this.isVertical(),h=!1,f=l[t];if(!0===e){this.get("label");h=f.getDefault()(c,n,r)}else if(Object(d.F)(e))h=e(c,n,r);else if(Object(d.K)(e)){var v=e;f[v.type]&&(h=f[v.type](c,n,r,v.cfg))}else f[e]&&(h=f[e](c,n,r));if("autoRotate"===t){if(h){var y=n.getChildren(),m=this.get("verticalFactor");Object(d.j)(y,(function(label){if("center"===label.attr("textAlign")){var t=m>0?"end":"start";label.attr("textAlign",t)}}))}}else if("autoHide"===t){var x=n.getChildren().slice(0);Object(d.j)(x,(function(label){label.get("visible")||(o.get("isRegister")&&o.unregisterElement(label),label.remove())}))}},e}(j),V=H,W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(h.a)(Object(h.a)({},e),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getLinePath=function(){var t=this.get("center"),e=t.x,n=t.y,r=this.get("radius"),o=r,c=this.get("startAngle"),l=this.get("endAngle"),path=[];if(Math.abs(l-c)===2*Math.PI)path=[["M",e,n-o],["A",r,o,0,1,1,e,n+o],["A",r,o,0,1,1,e,n-o],["Z"]];else{var h=this.getCirclePoint(c),f=this.getCirclePoint(l),d=Math.abs(l-c)>Math.PI?1:0,v=c>l?0:1;path=[["M",e,n],["L",h.x,h.y],["A",r,o,0,d,v,f.x,f.y],["L",e,n]]}return path},e.prototype.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this.getCirclePoint(n)},e.prototype.getSideVector=function(t,e){var n=this.get("center"),r=[e.x-n.x,e.y-n.y],o=this.get("verticalFactor"),c=f.c.length(r);return f.c.scale(r,r,o*t/c),r},e.prototype.getAxisVector=function(t){var e=this.get("center"),n=[t.x-e.x,t.y-e.y];return[n[1],-1*n[0]]},e.prototype.getCirclePoint=function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},e}(j),circle=W},525:function(t,e,n){"use strict";var r=n(416),o=n(417),c=n(423),l=n(486),svg=n(443),h=n(426),f=n(466),d=n(465),v=n(415),y=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,m=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,x=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function O(t){var e=t.match(x);if(!e)return"";var n="";return e.sort((function(a,b){return a=a.split(":"),b=b.split(":"),Number(a[0])-Number(b[0])})),Object(v.j)(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}var j=function(){function t(t){this.cfg={};var e,n,r,o,c,l,f,d=null,x=Object(v.mb)("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,r,o=y.exec(t),c=Object(v.X)(Object(v.jb)(parseFloat(o[1])),2*Math.PI),l=o[2];c>=0&&c<.5*Math.PI?(n={x:0,y:0},r={x:1,y:1}):.5*Math.PI<=c&&c<Math.PI?(n={x:1,y:0},r={x:0,y:1}):Math.PI<=c&&c<1.5*Math.PI?(n={x:1,y:1},r={x:0,y:0}):(n={x:0,y:1},r={x:1,y:0});var h=Math.tan(c),f=h*h,d=(r.x-n.x+h*(r.y-n.y))/(f+1)+n.x,m=h*(r.x-n.x+h*(r.y-n.y))/(f+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",d),e.setAttribute("y2",m),e.innerHTML=O(l)}(t,d=Object(h.b)("linearGradient")):(d=Object(h.b)("radialGradient"),e=t,n=d,r=m.exec(e),o=parseFloat(r[1]),c=parseFloat(r[2]),l=parseFloat(r[3]),f=r[4],n.setAttribute("cx",o),n.setAttribute("cy",c),n.setAttribute("r",l),n.innerHTML=O(f)),d.setAttribute("id",x),this.el=d,this.id=x,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),w={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},C={x:"-40%",y:"-40%",width:"200%",height:"200%"},M=function(){function t(t){this.type="filter",this.cfg={},this.type="filter";var e=Object(h.b)("filter");return Object(v.j)(C,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=Object(v.mb)("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,r=this.cfg;return Object(v.j)(Object.keys(r),(function(t){if(r[t]!==e[t])return n=!1,!1})),n},t.prototype.update=function(t,e){var n=this.cfg;return n[w[t]]=e,this._parseShadow(n,this.el),this},t.prototype._parseShadow=function(t,e){var n='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}(),S=function(){function t(t,e){this.cfg={};var n=Object(h.b)("marker"),r=Object(v.mb)("marker_");n.setAttribute("id",r);var o=Object(h.b)("path");o.setAttribute("stroke",t.stroke||"none"),o.setAttribute("fill",t.fill||"none"),n.appendChild(o),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=o,this.id=r;var c=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===c?this._setDefaultPath(e,o):(this.cfg=c,this._setMarker(t.lineWidth,o)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},t.prototype._setMarker=function(t,e){var n=this.el,path=this.cfg.path,r=this.cfg.d;Object(v.z)(path)&&(path=path.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",path),n.appendChild(e),r&&n.setAttribute("refX",""+r/t)},t.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}(),A=function(){function t(t){this.type="clip",this.cfg={};var e=Object(h.b)("clipPath");this.el=e,this.id=Object(v.mb)("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}(),T=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,B=function(){function t(t){this.cfg={};var e=Object(h.b)("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=Object(h.b)("image");e.appendChild(n);var r=Object(v.mb)("pattern_");e.id=r,this.el=e,this.id=r,this.cfg=t;var source=T.exec(t)[2];n.setAttribute("href",source);var img=new Image;function o(){e.setAttribute("width",""+img.width),e.setAttribute("height",""+img.height)}return source.match(/^data:/i)||(img.crossOrigin="Anonymous"),img.src=source,img.complete?o():(img.onload=o,img.src=img.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),defs=function(){function t(canvas){var t=Object(h.b)("defs"),e=Object(v.mb)("defs_");t.id=e,canvas.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=canvas}return t.prototype.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},t.prototype.findById=function(t){for(var e=this.children,n=null,i=0;i<e.length;i++)if(e[i].id===t){n=e[i];break}return n},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new S(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},t.prototype.addGradient=function(t){var e=new j(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var n=new S(t,e);return this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addShadow=function(t){var shadow=new M(t);return this.el.appendChild(shadow.el),this.add(shadow),shadow.id},t.prototype.addPattern=function(t){var pattern=new B(t);return this.el.appendChild(pattern.el),this.add(pattern),pattern.id},t.prototype.addClip=function(t){var e=new A(t);return this.el.appendChild(e.el),this.add(e),e.id},t}(),k=function(t){function e(e){return t.call(this,Object(r.a)(Object(r.a)({},e),{autoDraw:!0,renderer:"svg"}))||this}return Object(r.b)(e,t),e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return d.a},e.prototype.getShape=function(t,e,n){var r=n.target||n.srcElement;if(!c.a[r.tagName]){for(var o=r.parentNode;o&&!c.a[o.tagName];)o=o.parentNode;r=o}return this.find((function(t){return t.get("el")===r}))},e.prototype.createDom=function(){var element=Object(h.b)("svg"),t=new defs(element);return element.setAttribute("width",""+this.get("width")),element.setAttribute("height",""+this.get("height")),this.set("context",t),element},e.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if("sort"===t){var r=this.get("children");r&&r.length&&Object(h.d)(this,(function(a,b){return r.indexOf(a)-r.indexOf(b)?1:0}))}else if("clear"===t){if(n){n.innerHTML="";var o=e.el;o.innerHTML="",n.appendChild(o)}}else"matrix"===t?Object(svg.c)(this):"clip"===t?Object(svg.a)(this,e):"changeSize"===t&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();Object(svg.a)(this,t),e.length&&Object(l.a)(t,e)},e}(o.AbstractCanvas);e.a=k},526:function(t,e,n){"use strict";n.r(e),n.d(e,"Line",(function(){return m})),n.d(e,"Circle",(function(){return circle})),n.d(e,"Base",(function(){return base})),n.d(e,"Html",(function(){return html}));var r,o=n(416),c=n(420),l=n(415),h=n(419),f=n(427),d=n(424),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(o.a)(Object(o.a)({},e),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:d.a.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:d.a.textColor,textAlign:"center",textBaseline:"middle",fontFamily:d.a.fontFamily}},textBackground:{padding:5,style:{stroke:d.a.lineColor}}}})},e.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},e.prototype.renderText=function(t){var text=this.get("text"),style=text.style,e=text.autoRotate,content=text.content;if(!Object(l.G)(content)){var n=this.getTextPoint(),r=null;if(e){var c=this.getRotateAngle();r=Object(f.e)(n,c)}this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Object(o.a)(Object(o.a)(Object(o.a)({},n),{text:content,matrix:r}),style)})}},e.prototype.renderLine=function(t){var path=this.getLinePath(),style=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Object(o.a)({path:path},style)})},e.prototype.renderBackground=function(t){var e=this.getElementId("text"),n=t.findById(e),r=this.get("textBackground");if(r&&n){var l=n.getBBox(),h=Object(c.c)(r.padding),style=r.style;this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Object(o.a)({x:l.x-h[3],y:l.y-h[0],width:l.width+h[1]+h[3],height:l.height+h[0]+h[2],matrix:n.attr("matrix")},style)}).toBack()}},e}(h.a),base=v,y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(o.a)(Object(o.a)({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get("text").position,o=Math.atan2(n.y-e.y,n.x-e.x);return"start"===r?o-Math.PI/2:o+Math.PI/2},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get("text"),o=r.position,l=r.offset;return Object(c.f)(e,n,o,l)},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,n=t.end;return[["M",e.x,e.y],["L",n.x,n.y]]},e}(base),m=y,x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(o.a)(Object(o.a)({},e),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,n=t.endAngle;return"start"===this.get("text").position?e+Math.PI/2:n-Math.PI/2},e.prototype.getTextPoint=function(){var text=this.get("text"),t=text.position,e=text.offset,n=this.getLocation(),r=n.center,o=n.radius,l=n.startAngle,h=n.endAngle,f="start"===t?l:h,d=this.getRotateAngle()-Math.PI,v=Object(c.e)(r,o,f),y=Math.cos(d)*e,m=Math.sin(d)*e;return{x:v.x+y,y:v.y+m}},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.center,n=t.radius,r=t.startAngle,o=t.endAngle,path=null;if(o-r==2*Math.PI){var l=e.x,h=e.y;path=[["M",l,h-n],["A",n,n,0,1,1,l,h+n],["A",n,n,0,1,1,l,h-n],["Z"]]}else{var f=Object(c.e)(e,n,r),d=Object(c.e)(e,n,o),v=Math.abs(o-r)>Math.PI?1:0,y=r>o?0:1;path=[["M",f.x,f.y],["A",n,n,0,v,y,d.x,d.y]]}return path},e}(base),circle=x,O=n(434),j=n(441),w="g2-crosshair",C="g2-crosshair-line",M="g2-crosshair-text",S=((r={})["g2-crosshair"]={position:"relative"},r[""+C]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},r[""+M]={position:"absolute",color:d.a.textColor,fontFamily:d.a.fontFamily},r),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(o.a)(Object(o.a)({},e),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="g2-crosshair"></div>',crosshairTpl:'<div class="g2-crosshair-line"></div>',textTpl:'<span class="g2-crosshair-text">{content}</span>',domStyles:null,containerClassName:w,defaultStyles:S,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},e.prototype.render=function(){this.resetText(),this.resetPosition()},e.prototype.initCrossHair=function(){var t=this.getContainer(),e=this.get("crosshairTpl"),n=Object(O.b)(e);t.appendChild(n),this.applyStyle(C,n),this.set("crosshairEl",n)},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get("text"),o=r.position,l=r.offset;return Object(c.f)(e,n,o,l)},e.prototype.resetText=function(){var text=this.get("text"),t=this.get("textEl");if(text){var content=text.content;if(!t){var e=this.getContainer(),n=Object(l.gb)(this.get("textTpl"),text);t=Object(O.b)(n),e.appendChild(t),this.applyStyle(M,t),this.set("textEl",t)}t.innerHTML=content}else t&&t.remove()},e.prototype.isVertical=function(t,e){return t.x===e.x},e.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var e=this.get("start"),n=this.get("end"),r=Math.min(e.x,n.x),o=Math.min(e.y,n.y);this.isVertical(e,n)?Object(O.e)(t,{width:"1px",height:Object(c.l)(Math.abs(n.y-e.y))}):Object(O.e)(t,{height:"1px",width:Object(c.l)(Math.abs(n.x-e.x))}),Object(O.e)(t,{top:Object(c.l)(o),left:Object(c.l)(r)}),this.alignText()},e.prototype.alignText=function(){var t=this.get("textEl");if(t){var e=this.get("text").align,n=t.clientWidth,r=this.getTextPoint();switch(e){case"center":r.x=r.x-n/2;break;case"right":r.x=r.x-n}Object(O.e)(t,{top:Object(c.l)(r.y),left:Object(c.l)(r.x)})}},e.prototype.updateInner=function(e){Object(l.v)(e,"text")&&this.resetText(),t.prototype.updateInner.call(this,e)},e}(j.a),html=A},527:function(t,e,n){"use strict";n.d(e,"a",(function(){return B}));var r=n(416),o=n(415),c=n(419),l={opacity:0},h={stroke:"#C5C5C5",strokeOpacity:.85},f={fill:"#CACED4",opacity:.85},d=n(436),v=n(435);function y(t){return function(t){return Object(o.R)(t,(function(p,t){return[0===t?"M":"L",p[0],p[1]]}))}(t)}function m(data,t,e,n){void 0===n&&(n=!0);var r=new v.b({values:data}),c=new v.a({values:Object(o.R)(data,(function(t,e){return e}))}),l=Object(o.R)(data,(function(n,o){return[c.scale(o)*t,e-r.scale(n)*e]}));return n?function(t){if(t.length<=2)return y(t);var data=[];Object(o.j)(t,(function(p){Object(o.E)(p,data.slice(data.length-2))||data.push(p[0],p[1])}));var path=Object(d.a)(data,!1),e=Object(o.w)(t),n=e[0],r=e[1];return path.unshift(["M",n,r]),path}(l):y(l)}function x(path,t,e,data){var n=Object(r.e)(path),o=function(data,t){var e=new v.b({values:data}),n=Math.max(0,e.min);return t-e.scale(n)*t}(data,e);return n.push(["L",t,o]),n.push(["L",0,o]),n.push(["Z"]),n}var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:l,lineStyle:h,areaStyle:f})},e.prototype.renderInner=function(t){var e=this.cfg,n=e.width,o=e.height,data=e.data,c=e.smooth,l=e.isArea,h=e.backgroundStyle,f=e.lineStyle,d=e.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Object(r.a)({x:0,y:0,width:n,height:o},h)});var path=m(data,n,o,c);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:Object(r.a)({path:path},f)}),l){var v=x(path,n,o,data);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:Object(r.a)({path:v},d)})}},e.prototype.applyOffset=function(){var t=this.cfg,e=t.x,n=t.y;this.moveElementTo(this.get("group"),{x:e,y:n})},e}(c.a),j={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"handler",x:0,y:0,width:10,height:24,style:j})},e.prototype.renderInner=function(t){var e=this.cfg,n=e.width,r=e.height,style=e.style,o=style.fill,c=style.stroke,l=style.radius,h=style.opacity,cursor=style.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:n,height:r,fill:o,stroke:c,radius:l,opacity:h,cursor:cursor}});var f=1/3*n,d=2/3*n,v=1/4*r,y=3/4*r;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:f,y1:v,x2:f,y2:y,stroke:c,cursor:cursor}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:d,y1:v,x2:d,y2:y,stroke:c,cursor:cursor}})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",(function(){var e=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",e),t.draw()})),this.get("group").on("mouseleave",(function(){var e=t.get("style").fill;t.getElementByLocalId("background").attr("fill",e),t.draw()}))},e.prototype.draw=function(){var canvas=this.get("container").get("canvas");canvas&&canvas.draw()},e}(c.a),C={fill:"#416180",opacity:.05},M={fill:"#5B8FF9",opacity:.15,cursor:"move"},S={width:10,height:24},A={textBaseline:"middle",fill:"#000",opacity:.45},T="sliderchange",B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){return function(n){e.currentTarget=t;var r=n.originalEvent;r.stopPropagation(),r.preventDefault(),e.prevX=Object(o.q)(r,"touches.0.pageX",r.pageX),e.prevY=Object(o.q)(r,"touches.0.pageY",r.pageY);var c=e.getContainerDOM();c.addEventListener("mousemove",e.onMouseMove),c.addEventListener("mouseup",e.onMouseUp),c.addEventListener("mouseleave",e.onMouseUp),c.addEventListener("touchmove",e.onMouseMove),c.addEventListener("touchend",e.onMouseUp),c.addEventListener("touchcancel",e.onMouseUp)}},e.onMouseMove=function(t){var n=e.cfg.width,r=[e.get("start"),e.get("end")];t.stopPropagation(),t.preventDefault();var c=Object(o.q)(t,"touches.0.pageX",t.pageX),l=Object(o.q)(t,"touches.0.pageY",t.pageY),h=c-e.prevX,f=e.adjustOffsetRange(h/n);e.updateStartEnd(f),e.updateUI(e.getElementByLocalId("foreground"),e.getElementByLocalId("minText"),e.getElementByLocalId("maxText")),e.prevX=c,e.prevY=l,e.draw(),e.emit(T,[e.get("start"),e.get("end")].sort()),e.delegateEmit("valuechanged",{originValue:r,value:[e.get("start"),e.get("end")]})},e.onMouseUp=function(){e.currentTarget&&(e.currentTarget=void 0);var t=e.getContainerDOM();t&&(t.removeEventListener("mousemove",e.onMouseMove),t.removeEventListener("mouseup",e.onMouseUp),t.removeEventListener("mouseleave",e.onMouseUp),t.removeEventListener("touchmove",e.onMouseMove),t.removeEventListener("touchend",e.onMouseUp),t.removeEventListener("touchcancel",e.onMouseUp))},e}return Object(r.b)(e,t),e.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.get("start"),r=this.get("end"),c=Object(o.c)(n,t,e),l=Object(o.c)(r,t,e);this.get("isInit")||n===c&&r===l||this.setValue([c,l])},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var e=this.getRange();if(Object(o.z)(t)&&2===t.length){var n=[this.get("start"),this.get("end")];this.update({start:Object(o.c)(t[0],e.min,e.max),end:Object(o.c)(t[1],e.min,e.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:n,value:t})}},e.prototype.getValue=function(){return[this.get("start"),this.get("end")]},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:C,foregroundStyle:M,handlerStyle:S,textStyle:A}})},e.prototype.update=function(e){var n=e.start,c=e.end,l=Object(r.a)({},e);Object(o.G)(n)||(l.start=Object(o.c)(n,0,1)),Object(o.G)(c)||(l.end=Object(o.c)(c,0,1)),t.prototype.update.call(this,l),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},e.prototype.init=function(){this.set("start",Object(o.c)(this.get("start"),0,1)),this.set("end",Object(o.c)(this.get("end"),0,1)),t.prototype.init.call(this)},e.prototype.render=function(){t.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},e.prototype.renderInner=function(t){var e=this.cfg,n=(e.start,e.end,e.width),c=e.height,l=e.trendCfg,h=void 0===l?{}:l,f=e.minText,d=e.maxText,v=e.backgroundStyle,y=void 0===v?{}:v,m=e.foregroundStyle,x=void 0===m?{}:m,C=e.textStyle,M=void 0===C?{}:C,S=Object(o.h)({},j,this.cfg.handlerStyle);Object(o.eb)(Object(o.q)(h,"data"))&&(this.trend=this.addComponent(t,Object(r.a)({component:O,id:this.getElementId("trend"),x:0,y:0,width:n,height:c},h))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Object(r.a)({x:0,y:0,width:n,height:c},y)});this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:Object(r.a)({y:c/2,textAlign:"right",text:f,silent:!1},M)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:Object(r.a)({y:c/2,textAlign:"left",text:d,silent:!1},M)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Object(r.a)({y:0,height:c},x)});var A=Object(o.q)(S,"width",10),T=Object(o.q)(S,"height",24);this.minHandler=this.addComponent(t,{component:w,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(c-T)/2,width:A,height:T,cursor:"ew-resize",style:S}),this.maxHandler=this.addComponent(t,{component:w,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(c-T)/2,width:A,height:T,cursor:"ew-resize",style:S})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.updateUI=function(t,e,n){var r=this.cfg,c=r.start,l=r.end,h=r.width,f=r.minText,d=r.maxText,v=r.handlerStyle,y=r.height,m=c*h,x=l*h;this.trend&&(this.trend.update({width:h,height:y}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",m),t.attr("width",x-m);var O=Object(o.q)(v,"width",10);e.attr("text",f),n.attr("text",d);var j=this._dodgeText([m,x],e,n),w=j[0],C=j[1];this.minHandler&&(this.minHandler.update({x:m-O/2}),this.get("updateAutoRender")||this.minHandler.render()),Object(o.j)(w,(function(t,n){return e.attr(n,t)})),this.maxHandler&&(this.maxHandler.update({x:x-O/2}),this.get("updateAutoRender")||this.maxHandler.render()),Object(o.j)(C,(function(t,e){return n.attr(e,t)}))},e.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var e=t.findById(this.getElementId("foreground"));e.on("mousedown",this.onMouseDown("foreground")),e.on("touchstart",this.onMouseDown("foreground"))},e.prototype.adjustOffsetRange=function(t){var e=this.cfg,n=e.start,r=e.end;switch(this.currentTarget){case"minHandler":var o=0-n,c=1-n;return Math.min(c,Math.max(o,t));case"maxHandler":o=0-r,c=1-r;return Math.min(c,Math.max(o,t));case"foreground":o=0-n,c=1-r;return Math.min(c,Math.max(o,t))}},e.prototype.updateStartEnd=function(t){var e=this.cfg,n=e.start,r=e.end;switch(this.currentTarget){case"minHandler":n+=t;break;case"maxHandler":r+=t;break;case"foreground":n+=t,r+=t}this.set("start",n),this.set("end",r)},e.prototype._dodgeText=function(t,e,n){var r,c,l=this.cfg,h=l.handlerStyle,f=l.width,d=Object(o.q)(h,"width",10),v=t[0],y=t[1],m=!1;v>y&&(v=(r=[y,v])[0],y=r[1],e=(c=[n,e])[0],n=c[1],m=!0);var x=e.getBBox(),O=n.getBBox(),j=x.width>v-2?{x:v+d/2+2,textAlign:"left"}:{x:v-d/2-2,textAlign:"right"},w=O.width>f-y-2?{x:y-d/2-2,textAlign:"right"}:{x:y+d/2+2,textAlign:"left"};return m?[w,j]:[j,w]},e.prototype.draw=function(){var t=this.get("container"),canvas=t&&t.get("canvas");canvas&&canvas.draw()},e.prototype.getContainerDOM=function(){var t=this.get("container"),canvas=t&&t.get("canvas");return canvas&&canvas.get("container")},e}(c.a)},530:function(t,e,n){"use strict";var r=n(416),o=n(476),c=n(497),l=n(428),h=n(415),f=n(573),d=n(521),v=n(572),y=n(551),path=n(471),m=[1,0,0,0,1,0,0,0,1];function x(t,e,n){var r,o=e.startTime;if(n<o+e.delay||e._paused)return!1;var c=e.duration,l=e.easing;if(n=n-o-e.delay,e.repeat)r=n%c/c,r=d[l](r);else{if(!((r=n/c)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=d[l](r)}if(e.onFrame){var f=e.onFrame(r);t.attr(f)}else!function(t,e,n){var r={},o=e.fromAttrs,c=e.toAttrs;if(!t.destroyed){var l,f;for(var d in c)if(!Object(h.E)(o[d],c[d]))if("path"===d){var x=c[d],O=o[d];x.length>O.length?(x=path.parsePathString(c[d]),O=path.parsePathString(o[d]),O=path.fillPathByDiff(O,x),O=path.formatPath(O,x),e.fromAttrs.path=O,e.toAttrs.path=x):e.pathFormatted||(x=path.parsePathString(c[d]),O=path.parsePathString(o[d]),O=path.formatPath(O,x),e.fromAttrs.path=O,e.toAttrs.path=x,e.pathFormatted=!0),r[d]=[];for(var i=0;i<x.length;i++){for(var j=x[i],w=O[i],C=[],M=0;M<j.length;M++)Object(h.I)(j[M])&&w&&Object(h.I)(w[M])?(l=Object(v.a)(w[M],j[M]),C.push(l(n))):C.push(j[M]);r[d].push(C)}}else if("matrix"===d){var S=Object(y.a)(o[d]||m,c[d]||m)(n);r[d]=S}else["fill","stroke","fillStyle","strokeStyle"].includes(d)&&(f=c[d],/^[r,R,L,l]{1}[\s]*\(/.test(f))?r[d]=c[d]:Object(h.F)(c[d])||(l=Object(v.a)(o[d],c[d]),r[d]=l(n));t.attr(r)}}(t,e,r);return!1}var O=function(){function t(canvas){this.animators=[],this.current=0,this.timer=null,this.canvas=canvas}return t.prototype.initTimer=function(){var t,e,n,r=this;this.timer=f.a((function(o){if(r.current=o,r.animators.length>0){for(var i=r.animators.length-1;i>=0;i--)if((t=r.animators[i]).destroyed)r.removeAnimator(i);else{if(!t.isAnimatePaused())for(var c=(e=t.get("animations")).length-1;c>=0;c--)n=e[c],x(t,n,o)&&(e.splice(c,1),!1,n.callback&&n.callback());0===e.length&&r.removeAnimator(i)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),j=O,w=n(472),C=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function M(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function S(t,e,n){if(n.bubbles){var r=void 0,o=!1;if("mouseenter"===e?(r=n.fromShape,o=!0):"mouseleave"===e&&(o=!0,r=n.toShape),t.isCanvas()&&o)return;if(r&&Object(l.g)(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var A=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");Object(l.a)(C,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");Object(l.a)(C,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,o,c){var l=new w.a(t,e);return l.fromShape=o,l.toShape=c,l.x=n.x,l.y=n.y,l.clientX=n.clientX,l.clientY=n.clientY,l.propagationPath.push(r),l},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var canvas=this.canvas,e=canvas.getClientByEvent(t),n=canvas.getPointByEvent(t);return{x:n.x,y:n.y,clientX:e.x,clientY:e.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),o=this["_on"+t],c=!1;if(o)o.call(this,n,r,e);else{var l=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(c=!0,l&&this._emitEvent(t,e,n,l,l,null),this._emitEvent(t,e,n,null,l,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(c||(this.currentShape=r),r&&!r.get("destroyed")){var canvas=this.canvas;canvas.get("el").style.cursor=r.attr("cursor")||canvas.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var o=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(o.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,o){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),o||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),o&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var canvas=this.canvas,r=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,r,e,!1),this._emitEvent("drag",n,t,o);else{var c=this.mousedownPoint;if(c){var l=this.mousedownShape,h=n.timeStamp-this.mousedownTimeStamp,f=c.clientX-t.clientX,d=c.clientY-t.clientY;h>120||f*f+d*d>40?l&&l.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!l&&canvas.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,o,c){var l=this._getEventObj(t,e,n,r,o,c);if(r){l.shape=r,M(r,t,l);for(var h=r.getParent();h;)h.emitDelegation(t,l),l.propagationStopped||S(h,t,l),l.propagationPath.push(h),h=h.getParent()}else{M(this.canvas,t,l)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),T=A,B=Object(o.a)(),k=B&&"firefox"===B.name,P=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");Object(l.h)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new T({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new j(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");l.c&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(cursor){this.set("cursor",cursor);var t=this.get("el");l.c&&t&&(t.style.cursor=cursor)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(k&&!Object(l.e)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Object(l.e)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(c.a);e.a=P},531:function(t,e,n){"use strict";n.r(e),n.d(e,"Base",(function(){return base})),n.d(e,"Circle",(function(){return circle})),n.d(e,"Line",(function(){return v}));var r=n(416),o=n(415),c=n(419),l=n(424),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:l.a.lineColor}}}})},e.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},e.prototype.renderInner=function(t){this.drawGrid(t)},e.prototype.getAlternatePath=function(t,e){var n=this.getGridPath(t),r=e.slice(0).reverse(),o=this.getGridPath(r,!0);return this.get("closed")?n=n.concat(o):(o[0][0]="L",(n=n.concat(o)).push(["Z"])),n},e.prototype.getPathStyle=function(){return this.get("line").style},e.prototype.drawGrid=function(t){var e=this,line=this.get("line"),n=this.get("items"),r=this.get("alternateColor"),c=null;Object(o.j)(n,(function(l,h){var f=l.id||h;if(line){var style=e.getPathStyle();style=Object(o.F)(style)?style(l,h,n):style;var d=e.getElementId("line-"+f),v=e.getGridPath(l.points);e.addShape(t,{type:"path",name:"grid-line",id:d,attrs:Object(o.W)({path:v},style)})}if(r&&h>0){var y=e.getElementId("region-"+f),m=h%2==0;if(Object(o.M)(r))m&&e.drawAlternateRegion(y,t,c.points,l.points,r);else{var x=m?r[1]:r[0];e.drawAlternateRegion(y,t,c.points,l.points,x)}}c=l}))},e.prototype.drawAlternateRegion=function(t,e,n,r,o){var c=this.getAlternatePath(n,r);this.addShape(e,{type:"path",id:t,name:"grid-region",attrs:{path:c,fill:o}})},e}(c.a),base=h;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{type:"circle",center:null,closed:!0})},e.prototype.getGridPath=function(t,e){var n,r,c,l,h,f,d=this.getLineType(),v=this.get("closed"),path=[];if(t.length)if("circle"===d){var y=this.get("center"),m=t[0],x=(n=y.x,r=y.y,c=m.x,l=m.y,h=c-n,f=l-r,Math.sqrt(h*h+f*f)),O=e?0:1;v?(path.push(["M",y.x,y.y-x]),path.push(["A",x,x,0,0,O,y.x,y.y+x]),path.push(["A",x,x,0,0,O,y.x,y.y-x]),path.push(["Z"])):Object(o.j)(t,(function(t,e){0===e?path.push(["M",t.x,t.y]):path.push(["A",x,x,0,0,O,t.x,t.y])}))}else Object(o.j)(t,(function(t,e){0===e?path.push(["M",t.x,t.y]):path.push(["L",t.x,t.y])})),v&&path.push(["Z"]);return path},e}(base),circle=f,d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{type:"line"})},e.prototype.getGridPath=function(t){var path=[];return Object(o.j)(t,(function(t,e){0===e?path.push(["M",t.x,t.y]):path.push(["L",t.x,t.y])})),path},e}(base),v=d},532:function(t,e,n){"use strict";n.r(e),n.d(e,"Category",(function(){return O})),n.d(e,"Continuous",(function(){return w})),n.d(e,"Base",(function(){return base}));var r=n(416),o=n(415),label=n(455),c=n(427),l=n(509),h=n(424),f=n(419),d=n(420),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},e.prototype.getLayoutBBox=function(){var e=t.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),r=this.get("maxHeight"),o=e.width,c=e.height;return n&&(o=Math.min(o,n)),r&&(c=Math.min(c,r)),Object(d.b)(e.minX,e.minY,o,c)},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),n=this.get("offsetX"),r=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+n,y:e+r})},e.prototype.applyOffset=function(){this.resetLocation()},e.prototype.getDrawPoint=function(){return this.get("currentPoint")},e.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},e.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},e.prototype.drawBackground=function(t){var e=this.get("background"),n=t.getBBox(),o=Object(d.c)(e.padding),c=Object(r.a)({x:0,y:0,width:n.width+o[1]+o[3],height:n.height+o[0]+o[2]},e.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:c}).toBack()},e.prototype.drawTitle=function(t){var e=this.get("currentPoint"),n=this.get("title"),o=n.spacing,style=n.style,text=n.text,c=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Object(r.a)({text:text,x:e.x,y:e.y},style)}).getBBox();this.set("currentPoint",{x:e.x,y:c.maxY+o})},e.prototype.resetDraw=function(){var t=this.get("background"),e={x:0,y:0};if(t){var n=Object(d.c)(t.padding);e.x=n[3],e.y=n[0]}this.set("currentPoint",e)},e}(f.a),base=v,y={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},m={fill:h.a.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:h.a.fontFamily,fontWeight:"normal",lineHeight:12},x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPageIndex=1,e.totalPagesCnt=1,e.pageWidth=0,e.pageHeight=0,e.startX=0,e.startY=0,e.onNavigationBack=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex>1){e.currentPageIndex-=1,e.updateNavigation();var n=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:n},100):t.attr({matrix:n})}},e.onNavigationAfter=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex<e.totalPagesCnt){e.currentPageIndex+=1,e.updateNavigation();var n=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:n},100):t.attr({matrix:n})}},e}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:h.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:h.a.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:y,itemName:{spacing:16,style:m},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:m},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:h.a.uncheckedColor},markerStyle:{fill:h.a.uncheckedColor,stroke:h.a.uncheckedColor}},inactive:{nameStyle:{fill:h.a.uncheckedColor},markerStyle:{opacity:.2}}}}})},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("items")},e.prototype.setItems=function(t){this.update({items:t})},e.prototype.updateItem=function(t,e){Object(o.W)(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},e.prototype.setItemState=function(t,e,n){t[e]=n;var r=this.getElementByLocalId("item-"+t.id);if(r){var o=this.getItems().indexOf(t),c=this.createOffScreenGroup(),l=this.drawItem(t,o,this.getItemHeight(),c);this.updateElements(l,r),this.clearUpdateStatus(r)}},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("itemStates"),n=[];return Object(o.j)(e,(function(e,r){t[r]&&n.push(r)})),n},e.prototype.clearItemsState=function(t){var e=this,n=this.getItemsByState(t);Object(o.j)(n,(function(n){e.setItemState(n,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return Object(o.l)(n,(function(n){return e.hasState(n,t)}))},e.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},e.prototype.processItems=function(){var t=this.get("items");Object(o.j)(t,(function(t){t.id||(t.id=t.name)}))},e.prototype.drawItems=function(t){var e=this,n=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),r=this.addGroup(n,{id:this.getElementId("item-group"),name:"legend-item-group"}),c=this.getItemHeight(),l=this.get("itemWidth"),h=this.get("itemSpacing"),f=this.get("itemMarginBottom"),d=this.get("currentPoint"),v=d.x,y=d.y,m=this.get("layout"),x=this.get("items"),O=!1,j=0,w=this.get("maxWidth"),C=this.get("maxHeight");Object(o.j)(x,(function(t,n){var o=e.drawItem(t,n,c,r),x=o.getBBox(),M=l||x.width;M>j&&(j=M),"horizontal"===m?(w&&w<d.x+M-v&&(O=!0,d.x=v,d.y+=c+f),e.moveElementTo(o,d),d.x+=M+h):(C&&C<d.y+c+f-y&&(O=!0,d.x+=j+h,d.y=y,j=0),e.moveElementTo(o,d),d.y+=c+f)})),O&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=v,this.startY=y,this.adjustNavigation(t,r))},e.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var e=(this.get("itemName")||{}).style;if(Object(o.F)(e)){var n=this.getItems();n.forEach((function(o,c){var l=Object(r.a)(Object(r.a)({},m),e(o,c,n)).fontSize;t<l&&(t=l)}))}else e&&(t=e.fontSize)}return t},e.prototype.drawMarker=function(t,e,n,c){var l=Object(r.a)(Object(r.a)(Object(r.a)({x:0,y:c/2},e.style),{symbol:Object(o.q)(n.marker,"symbol","circle")}),Object(o.q)(n.marker,"style",{})),h=this.addShape(t,{type:"marker",id:this.getElementId("item-"+n.id+"-marker"),name:"legend-item-marker",attrs:l}),f=h.getBBox();h.attr("x",f.width/2);var d=h.attr(),v=d.stroke,y=d.fill;return v&&h.set("isStroke",!0),y&&h.set("isFill",!0),h},e.prototype.drawItemText=function(t,e,n,c,l,h,f){var d=n.formatter,style=n.style,v=Object(r.a)(Object(r.a)({x:h,y:l/2,text:d?d(c[e],c,f):c[e]},m),Object(o.F)(style)?style(c,f,this.getItems()):style);return this.addShape(t,{type:"text",id:this.getElementId("item-"+c.id+"-"+e),name:"legend-item-"+e,attrs:v})},e.prototype.drawItem=function(t,e,n,c){var l="item-"+t.id,h=this.addGroup(c,{name:"legend-item-container",id:this.getElementId("item-container-"+l),delegateObject:{item:t,index:e}}),f=this.addGroup(h,{name:"legend-item",id:this.getElementId(l),delegateObject:{item:t,index:e}}),marker=this.get("marker"),d=this.get("itemName"),v=this.get("itemValue"),y=this.get("itemBackground"),m=this.getLimitItemWidth(),x=0;if(marker){var O=this.drawMarker(f,marker,t,n),j=marker.spacing,w=Object(o.q)(t,["marker","spacing"]);Object(o.I)(w)&&(j=w),x=O.getBBox().maxX+j}if(d){var C=this.drawItemText(f,"name",d,t,n,x,e);m&&Object(label.a)(!0,C,Object(o.c)(m-x,0,m)),x=C.getBBox().maxX+d.spacing}if(v){var M=this.drawItemText(f,"value",v,t,n,x,e);m&&(v.alignRight?(M.attr({textAlign:"right",x:m}),Object(label.a)(!0,M,Object(o.c)(m-x,0,m),"head")):Object(label.a)(!0,M,Object(o.c)(m-x,0,m)))}if(y){var S=f.getBBox();this.addShape(f,{type:"rect",name:"legend-item-background",id:this.getElementId(l+"-background"),attrs:Object(r.a)({x:0,y:0,width:S.width,height:n},y.style)}).toBack()}return this.applyItemStates(t,f),f},e.prototype.adjustNavigation=function(t,e){var n=this,r=this.startX,c=this.startY,l=this.get("layout"),h=e.findAll((function(t){return"legend-item"===t.get("name")})),f=this.get("maxWidth"),d=this.get("maxHeight"),v=this.get("itemWidth"),m=this.get("itemSpacing"),x=this.getItemHeight(),O=Object(o.h)({},y,this.get("pageNavigator")),j=this.drawNavigation(t,l,"00/00",O),w=j.getBBox(),C={x:r,y:c},M=1,S=0,A=0,T=0,B=this.get("itemMarginBottom");if("horizontal"===l){var k=this.get("maxRow")||1,P=x+(1===k?0:B);this.pageHeight=P*k,Object(o.j)(h,(function(t){var e=t.getBBox(),o=v||e.width;(S&&S<C.x+o+m||f<C.x+o+m+w.width)&&(1===M&&(S=C.x+m,n.pageWidth=S,n.moveElementTo(j,{x:f-m-w.width-w.minX,y:C.y+x/2-w.height/2-w.minY})),M+=1,C.x=r,C.y+=P),n.moveElementTo(t,C),t.getParent().setClip({type:"rect",attrs:{x:C.x,y:C.y,width:o+m,height:x}}),C.x+=o+m}))}else{Object(o.j)(h,(function(t){var e=t.getBBox();e.width>A&&(A=e.width)})),T=A,A+=m,f&&(A=Math.min(f,A),T=Math.min(f,T)),this.pageWidth=A,this.pageHeight=d-Math.max(w.height,x+B);var E=Math.floor(this.pageHeight/(x+B));Object(o.j)(h,(function(t,e){0!==e&&e%E==0&&(M+=1,C.x+=A,C.y=c),n.moveElementTo(t,C),t.getParent().setClip({type:"rect",attrs:{x:C.x,y:C.y,width:A,height:x}}),C.y+=x+B})),this.totalPagesCnt=M,this.moveElementTo(j,{x:r+T/2-w.width/2-w.minX,y:d-w.height-w.minY})}this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),"horizontal"===l&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(M/this.get("maxRow")):this.totalPagesCnt=M,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(j),e.attr("matrix",this.getCurrentNavigationMatrix())},e.prototype.drawNavigation=function(t,e,text,n){var c={x:0,y:0},l=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),h=Object(o.q)(n.marker,"style",{}),f=h.size,d=void 0===f?12:f,v=Object(r.c)(h,["size"]),y=this.drawArrow(l,c,"navigation-arrow-left","horizontal"===e?"up":"left",d,v);y.on("click",this.onNavigationBack);var m=y.getBBox();c.x+=m.width+2;var x=this.addShape(l,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:Object(r.a)({x:c.x,y:c.y+d/2,text:text,textBaseline:"middle"},Object(o.q)(n.text,"style"))}).getBBox();return c.x+=x.width+2,this.drawArrow(l,c,"navigation-arrow-right","horizontal"===e?"down":"right",d,v).on("click",this.onNavigationAfter),l},e.prototype.updateNavigation=function(t){var e=Object(o.h)({},y,this.get("pageNavigator")).marker.style,n=e.fill,r=e.opacity,c=e.inactiveFill,l=e.inactiveOpacity,text=this.currentPageIndex+"/"+this.totalPagesCnt,h=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),f=t?t.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),d=t?t.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),v=h.getBBox();h.attr("text",text);var m=h.getBBox();h.attr("x",h.attr("x")-(m.width-v.width)/2),f.attr("opacity",1===this.currentPageIndex?l:r),f.attr("fill",1===this.currentPageIndex?c:n),f.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),d.attr("opacity",this.currentPageIndex===this.totalPagesCnt?l:r),d.attr("fill",this.currentPageIndex===this.totalPagesCnt?c:n),d.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},e.prototype.drawArrow=function(t,e,n,o,l,style){var h=e.x,f=e.y,d={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},v=this.addShape(t,{type:"path",id:this.getElementId(n),name:n,attrs:Object(r.a)({path:[["M",h+l/2,f],["L",h,f+l],["L",h+l,f+l],["Z"]],cursor:"pointer"},style)});return v.attr("matrix",Object(c.e)({x:h+l/2,y:f+l/2},d[o])),v},e.prototype.getCurrentNavigationMatrix=function(){var t=this,e=t.currentPageIndex,n=t.pageWidth,r=t.pageHeight,o="horizontal"===this.get("layout")?{x:0,y:r*(1-e)}:{x:n*(1-e),y:0};return Object(c.f)(o)},e.prototype.applyItemStates=function(t,e){if(this.getItemStates(t).length>0){var n=e.getChildren(),r=this.get("itemStates");Object(o.j)(n,(function(element){var e=element.get("name").split("-")[2],n=Object(l.a)(t,e,r);n&&(element.attr(n),"marker"!==e||element.get("isStroke")&&element.get("isFill")||(element.get("isStroke")&&element.attr("fill",null),element.get("isFill")&&element.attr("stroke",null)))}))}},e.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),e=this.get("maxItemWidth");return e?t&&(e=t<=e?t:e):t&&(e=t),e},e}(base),O=x,j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:h.a.textColor,textBaseline:"middle",fontFamily:h.a.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:h.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},e.prototype.isSlider=function(){return!0},e.prototype.getValue=function(){return this.getCurrentValue()},e.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},e.prototype.setRange=function(t,e){this.update({min:t,max:e})},e.prototype.setValue=function(t){var e=this.getValue();this.set("value",t);var n=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(n),this.delegateEmit("valuechanged",{originValue:e,value:t})},e.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},e.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},e.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},e.prototype.bindHandlersEvent=function(t){var e=this;t.on("legend-handler-min:drag",(function(t){var n=e.getValueByCanvasPoint(t.x,t.y),r=e.getCurrentValue()[1];r<n&&(r=n),e.setValue([n,r])})),t.on("legend-handler-max:drag",(function(t){var n=e.getValueByCanvasPoint(t.x,t.y),r=e.getCurrentValue()[0];r>n&&(r=n),e.setValue([r,n])}))},e.prototype.bindRailEvent=function(t){},e.prototype.bindTrackEvent=function(t){var e=this,n=null;t.on("legend-track:dragstart",(function(t){n={x:t.x,y:t.y}})),t.on("legend-track:drag",(function(t){if(n){var r=e.getValueByCanvasPoint(n.x,n.y),o=e.getValueByCanvasPoint(t.x,t.y),c=e.getCurrentValue(),l=c[1]-c[0],h=e.getRange(),f=o-r;f<0?c[0]+f>h.min?e.setValue([c[0]+f,c[1]+f]):e.setValue([h.min,h.min+l]):f>0&&(f>0&&c[1]+f<h.max?e.setValue([c[0]+f,c[1]+f]):e.setValue([h.max-l,h.max])),n={x:t.x,y:t.y}}})),t.on("legend-track:dragend",(function(t){n=null}))},e.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},e.prototype.drawLabel=function(t,e){var n=this.get("label"),style=n.style,c=n.align,l=n.formatter,h=this.get(t),f=this.getLabelAlignAttrs(t,c),d="label-"+t;this.addShape(e,{type:"text",id:this.getElementId(d),name:"legend-label-"+t,attrs:Object(r.a)(Object(r.a)({x:0,y:0,text:Object(o.F)(l)?l(h):h},style),f)})},e.prototype.getLabelAlignAttrs=function(t,e){var n="center",r="middle";return this.isVertical()?(n="start",r="rail"!==e?"min"===t?"top":"bottom":"top"):"rail"!==e?(r="top",n="min"===t?"start":"end"):(n="start",r="middle"),{textAlign:n,textBaseline:r}},e.prototype.getRailPath=function(t,e,n,r){var o=this.get("rail"),c=o.size,l=o.defaultLength,h=o.type,f=this.isVertical(),d=n,v=r;d||(d=f?c:l),v||(v=f?l:c);var path=[];return"color"===h?(path.push(["M",t,e]),path.push(["L",t+d,e]),path.push(["L",t+d,e+v]),path.push(["L",t,e+v]),path.push(["Z"])):(path.push(["M",t+d,e]),path.push(["L",t+d,e+v]),path.push(["L",t,e+v]),path.push(["Z"])),path},e.prototype.drawRail=function(t){var style=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Object(r.a)({path:this.getRailPath(0,0)},style)})},e.prototype.getTrackColor=function(t){var e,n=t.length;if(!n)return null;if(1===n)return t[0];e=this.isVertical()?"l(90)":"l(0)";for(var i=0;i<n;i++){e+=" "+i/(n-1)+":"+t[i]}return e},e.prototype.getTrackPath=function(t){var path=this.getRailShape(t).attr("path");return Object(o.e)(path)},e.prototype.getClipTrackAttrs=function(t){var e,n,r,o,c=this.getCurrentValue(),l=c[0],h=c[1],f=this.getRailBBox(t),d=this.getPointByValue(l,t),v=this.getPointByValue(h,t);return this.isVertical()?(e=f.minX,n=d.y,r=f.width,o=v.y-d.y):(e=d.x,n=f.minY,r=v.x-d.x,o=f.height),{x:e,y:n,width:r,height:o}},e.prototype.getTrackAttrs=function(t){var e=this.get("track"),n=this.get("colors"),path=this.getTrackPath(t);return Object(o.W)({path:path,fill:this.getTrackColor(n)},e.style)},e.prototype.resetTrackClip=function(t){var e=t||this.get("group"),n=this.getElementId("track"),r=e.findById(n),o=r.getClip(),c=this.getClipTrackAttrs(t);o?o.attr(c):r.setClip({type:"rect",attrs:c})},e.prototype.resetTrack=function(t){var e=this.getElementId("track"),n=t.findById(e),r=this.getTrackAttrs(t);n?n.attr(r):this.addShape(t,{type:"path",id:e,draggable:this.get("slidable"),name:"legend-track",attrs:r})},e.prototype.getPointByValue=function(t,e){var n=this.getRange(),r=n.min,o=(t-r)/(n.max-r),c=this.getRailBBox(e),l={x:0,y:0};return this.isVertical()?(l.x=c.minX+c.width/2,l.y=Object(d.g)(c.minY,c.maxY,o)):(l.x=Object(d.g)(c.minX,c.maxX,o),l.y=c.minY+c.height/2),l},e.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},e.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},e.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},e.prototype.isVertical=function(){return"vertical"===this.get("layout")},e.prototype.getValueByCanvasPoint=function(t,e){var n,r=this.getRange(),o=r.min,c=r.max,l=this.getRailCanvasBBox(),h=this.isVertical(),f=this.get("step");n=h?(e-l.minY)/l.height:(t-l.minX)/l.width;var v=Object(d.g)(o,c,n);f&&(v=o+Math.round((v-o)/f)*f);return v>c&&(v=c),v<o&&(v=o),v},e.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var e=this.get("values");return e?[Math.max(Math.min.apply(Math,Object(r.e)(e,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,Object(r.e)(e,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},e.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),n=e[0],r=e[1];this.resetHandler(t,"min",n),this.resetHandler(t,"max",r)},e.prototype.getHandlerPath=function(t,e){var n=this.isVertical(),path=[],r=t.size,o=e.x,c=e.y,l=1.4*r,h=r/2,f=r/6;if(n){var d=o+.4*l;path.push(["M",o,c]),path.push(["L",d,c+h]),path.push(["L",o+l,c+h]),path.push(["L",o+l,c-h]),path.push(["L",d,c-h]),path.push(["Z"]),path.push(["M",d,c+f]),path.push(["L",o+l-2,c+f]),path.push(["M",d,c-f]),path.push(["L",o+l-2,c-f])}else{var v=c+.4*l;path.push(["M",o,c]),path.push(["L",o-h,v]),path.push(["L",o-h,c+l]),path.push(["L",o+h,c+l]),path.push(["L",o+h,v]),path.push(["Z"]),path.push(["M",o-f,v]),path.push(["L",o-f,c+l-2]),path.push(["M",o+f,v]),path.push(["L",o+f,c+l-2])}return path},e.prototype.resetHandler=function(t,e,n){var o=this.getPointByValue(n,t),c=this.get("handler"),path=this.getHandlerPath(c,o),l=this.getElementId("handler-"+e),h=t.findById(l),f=this.isVertical();h?h.attr("path",path):this.addShape(t,{type:"path",name:"legend-handler-"+e,draggable:!0,id:l,attrs:Object(r.a)(Object(r.a)({path:path},c.style),{cursor:f?"ns-resize":"ew-resize"})})},e.prototype.fixedElements=function(t){var e=t.findById(this.getElementId("rail")),n=t.findById(this.getElementId("label-min")),r=t.findById(this.getElementId("label-max")),o=this.getDrawPoint();this.isVertical()?this.fixedVertail(n,r,e,o):this.fixedHorizontal(n,r,e,o)},e.prototype.fitRailLength=function(t,e,n,r){var c=this.isVertical()?"height":"width",l=this.get("label"),h=l.align,f=l.spacing,d=this.get("max"+Object(o.nb)(c));if(d){var v=("rail"===h?n[c]+t[c]+e[c]+2*f:n[c])-d;v>0&&this.changeRailLength(r,c,n[c]-v)}},e.prototype.changeRailLength=function(t,e,n){var path,r=t.getBBox();path="height"===e?this.getRailPath(r.x,r.y,r.width,n):this.getRailPath(r.x,r.y,n,r.height),t.attr("path",path)},e.prototype.changeRailPosition=function(t,e,n){var r=t.getBBox(),path=this.getRailPath(e,n,r.width,r.height);t.attr("path",path)},e.prototype.fixedHorizontal=function(t,e,n,r){var o=this.get("label"),c=o.align,l=o.spacing,h=n.getBBox(),f=t.getBBox(),d=e.getBBox(),v=h.height;this.fitRailLength(f,d,h,n),h=n.getBBox(),"rail"===c?(t.attr({x:r.x,y:r.y+v/2}),this.changeRailPosition(n,r.x+f.width+l,r.y),e.attr({x:r.x+f.width+h.width+2*l,y:r.y+v/2})):"top"===c?(t.attr({x:r.x,y:r.y}),e.attr({x:r.x+h.width,y:r.y}),this.changeRailPosition(n,r.x,r.y+f.height+l)):(this.changeRailPosition(n,r.x,r.y),t.attr({x:r.x,y:r.y+h.height+l}),e.attr({x:r.x+h.width,y:r.y+h.height+l}))},e.prototype.fixedVertail=function(t,e,n,r){var o=this.get("label"),c=o.align,l=o.spacing,h=n.getBBox(),f=t.getBBox(),d=e.getBBox();if(this.fitRailLength(f,d,h,n),h=n.getBBox(),"rail"===c)t.attr({x:r.x,y:r.y}),this.changeRailPosition(n,r.x,r.y+f.height+l),e.attr({x:r.x,y:r.y+f.height+h.height+2*l});else if("right"===c)t.attr({x:r.x+h.width+l,y:r.y}),this.changeRailPosition(n,r.x,r.y),e.attr({x:r.x+h.width+l,y:r.y+h.height});else{var v=Math.max(f.width,d.width);t.attr({x:r.x,y:r.y}),this.changeRailPosition(n,r.x+v+l,r.y),e.attr({x:r.x,y:r.y+h.height})}},e}(base),w=j},533:function(t,e,n){"use strict";n.r(e),n.d(e,"Html",(function(){return html}));var r,o=n(416),c=n(459),l=n(434),h=n(415),f=n(441),d=n(420),v=n(462),y=n(424),m=((r={})[""+v.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:y.a.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},r[""+v.TITLE_CLASS]={marginBottom:"4px"},r[""+v.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},r[""+v.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},r[""+v.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r[""+v.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},r[""+v.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},r[""+v.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},r);var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(o.a)(Object(o.a)({},e),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+v.CONTAINER_CLASS+'"><div class="'+v.TITLE_CLASS+'"></div><ul class="'+v.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+v.LIST_ITEM_CLASS+'" data-index={index}>\n          <span class="'+v.MARKER_CLASS+'" style="background:{color}"></span>\n          <span class="'+v.NAME_CLASS+'">{name}</span>:\n          <span class="'+v.VALUE_CLASS+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+v.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+v.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:v.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:m})},e.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},e.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),Object(l.e)(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),Object(l.e)(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",n=this.get("xCrosshairDom"),r=this.get("yCrosshairDom");n&&Object(l.e)(n,{display:e}),r&&Object(l.e)(r,{display:e})},e.prototype.initContainer=function(){if(t.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var e=this.getHtmlContentNode();this.get("parent").appendChild(e),this.set("container",e),this.resetStyles(),this.applyStyles()}},e.prototype.updateInner=function(e){var n,r,o;this.get("customContent")?this.renderCustomContent():(n=e,r=["title","showTitle"],o=!1,Object(h.j)(r,(function(t){if(Object(h.v)(n,t))return o=!0,!1})),o&&this.resetTitle(),Object(h.v)(e,"items")&&this.renderItems()),t.prototype.updateInner.call(this,e)},e.prototype.initDom=function(){this.cacheDoms()},e.prototype.removeDom=function(){t.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.resetPosition=function(){var t,e=this.get("x"),n=this.get("y"),r=this.get("offset"),o=this.getOffset(),c=o.offsetX,h=o.offsetY,f=this.get("position"),v=this.get("region"),y=this.getContainer(),m=this.getBBox(),x=m.width,O=m.height;v&&(t=Object(d.k)(v));var j=function(t,e,n,r,o,c,l){var h=function(t,e,n,r,o,c){var l=t,h=e;switch(c){case"left":l=t-r-n,h=e-o/2;break;case"right":l=t+n,h=e-o/2;break;case"top":l=t-r/2,h=e-o-n;break;case"bottom":l=t-r/2,h=e+n;break;default:l=t+n,h=e-o-n}return{x:l,y:h}}(t,e,n,r,o,c);if(l){var f=function(t,e,n,r,o){return{left:t<o.x,right:t+n>o.x+o.width,top:e<o.y,bottom:e+r>o.y+o.height}}(h.x,h.y,r,o,l);"auto"===c?(f.right&&(h.x=Math.max(0,t-r-n)),f.top&&(h.y=Math.max(0,e-o-n))):"top"===c||"bottom"===c?(f.left&&(h.x=l.x),f.right&&(h.x=l.x+l.width-r),"top"===c&&f.top&&(h.y=e+n),"bottom"===c&&f.bottom&&(h.y=e-o-n)):(f.top&&(h.y=l.y),f.bottom&&(h.y=l.y+l.height-o),"left"===c&&f.left&&(h.x=t+n),"right"===c&&f.right&&(h.x=t-r-n))}return h}(e,n,r,x,O,f,t);Object(l.e)(y,{left:Object(d.l)(j.x+c),top:Object(d.l)(j.y+h)}),this.resetCrosshairs()},e.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),n=this.get("container");n&&n.parentNode===e?e.replaceChild(t,n):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},e.prototype.getHtmlContentNode=function(){var t,e=this.get("customContent");if(e){var n=e(this.get("title"),this.get("items"));t=Object(h.C)(n)?n:Object(l.b)(n)}return t},e.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(v.TITLE_CLASS)[0],n=t.getElementsByClassName(v.LIST_CLASS)[0];this.set("titleDom",e),this.set("listDom",n)},e.prototype.resetTitle=function(){var title=this.get("title");this.get("showTitle")&&title?this.setTitle(title):this.setTitle("")},e.prototype.setTitle=function(text){var t=this.get("titleDom");t&&(t.innerText=text)},e.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),e=this.get("crosshairs");if(t&&e){var n=Object(d.k)(t),r=this.get("xCrosshairDom"),o=this.get("yCrosshairDom");"x"===e?(this.resetCrosshair("x",n),o&&(o.remove(),this.set("yCrosshairDom",null))):"y"===e?(this.resetCrosshair("y",n),r&&(r.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",n),this.resetCrosshair("y",n)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},e.prototype.resetCrosshair=function(t,e){var n=this.checkCrosshair(t),r=this.get(t);"x"===t?Object(l.e)(n,{left:Object(d.l)(r),top:Object(d.l)(e.y),height:Object(d.l)(e.height)}):Object(l.e)(n,{top:Object(d.l)(r),left:Object(d.l)(e.x),width:Object(d.l)(e.width)})},e.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",n=t+"CrosshairTpl",r="CROSSHAIR_"+t.toUpperCase(),o=v[r],c=this.get(e),h=this.get("parent");return c||(c=Object(l.b)(this.get(n)),this.applyStyle(o,c),h.appendChild(c),this.set(e,c)),c},e.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),e=this.get("itemTpl"),n=this.get("listDom");n&&(Object(h.j)(t,(function(t){var r=c.a.toCSSGradient(t.color),f=Object(o.a)(Object(o.a)({},t),{color:r}),d=Object(h.gb)(e,f),v=Object(l.b)(d);n.appendChild(v)})),this.applyChildrenStyles(n,this.get("domStyles")))},e.prototype.clearItemDoms=function(){this.get("listDom")&&Object(d.a)(this.get("listDom"))},e.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},e}(f.a),html=x},534:function(t,e,n){"use strict";var r=n(416),o=n(476),c=n(505),l=n(430),h=n(415),f=n(573),d=n(521),v=n(572),y=n(551),path=n(481),m=[1,0,0,0,1,0,0,0,1];function x(t,e,n){var r,o=e.startTime;if(n<o+e.delay||e._paused)return!1;var c=e.duration,l=e.easing;if(n=n-o-e.delay,e.repeat)r=n%c/c,r=d[l](r);else{if(!((r=n/c)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=d[l](r)}if(e.onFrame){var f=e.onFrame(r);t.attr(f)}else!function(t,e,n){var r={},o=e.fromAttrs,c=e.toAttrs;if(!t.destroyed){var l,f;for(var d in c)if(!Object(h.E)(o[d],c[d]))if("path"===d){var x=c[d],O=o[d];x.length>O.length?(x=path.c(c[d]),O=path.c(o[d]),O=path.a(O,x),O=path.b(O,x),e.fromAttrs.path=O,e.toAttrs.path=x):e.pathFormatted||(x=path.c(c[d]),O=path.c(o[d]),O=path.b(O,x),e.fromAttrs.path=O,e.toAttrs.path=x,e.pathFormatted=!0),r[d]=[];for(var i=0;i<x.length;i++){for(var j=x[i],w=O[i],C=[],M=0;M<j.length;M++)Object(h.I)(j[M])&&w&&Object(h.I)(w[M])?(l=Object(v.a)(w[M],j[M]),C.push(l(n))):C.push(j[M]);r[d].push(C)}}else if("matrix"===d){var S=Object(y.a)(o[d]||m,c[d]||m)(n);r[d]=S}else["fill","stroke","fillStyle","strokeStyle"].includes(d)&&(f=c[d],/^[r,R,L,l]{1}[\s]*\(/.test(f))?r[d]=c[d]:Object(h.F)(c[d])||(l=Object(v.a)(o[d],c[d]),r[d]=l(n));t.attr(r)}}(t,e,r);return!1}var O=function(){function t(canvas){this.animators=[],this.current=0,this.timer=null,this.canvas=canvas}return t.prototype.initTimer=function(){var t,e,n,r=this;this.timer=f.a((function(o){if(r.current=o,r.animators.length>0){for(var i=r.animators.length-1;i>=0;i--)if((t=r.animators[i]).destroyed)r.removeAnimator(i);else{if(!t.isAnimatePaused())for(var c=(e=t.get("animations")).length-1;c>=0;c--)n=e[c],x(t,n,o)&&(e.splice(c,1),!1,n.callback&&n.callback());0===e.length&&r.removeAnimator(i)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),j=O,w=n(482),C=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function M(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function S(t,e,n){if(n.bubbles){var r=void 0,o=!1;if("mouseenter"===e?(r=n.fromShape,o=!0):"mouseleave"===e&&(o=!0,r=n.toShape),t.isCanvas()&&o)return;if(r&&Object(l.g)(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var A=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");Object(l.a)(C,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");Object(l.a)(C,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,o,c){var l=new w.a(t,e);return l.fromShape=o,l.toShape=c,l.x=n.x,l.y=n.y,l.clientX=n.clientX,l.clientY=n.clientY,l.propagationPath.push(r),l},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var canvas=this.canvas,e=canvas.getClientByEvent(t),n=canvas.getPointByEvent(t);return{x:n.x,y:n.y,clientX:e.x,clientY:e.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),o=this["_on"+t],c=!1;if(o)o.call(this,n,r,e);else{var l=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(c=!0,l&&this._emitEvent(t,e,n,l,l,null),this._emitEvent(t,e,n,null,l,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(c||(this.currentShape=r),r&&!r.get("destroyed")){var canvas=this.canvas;canvas.get("el").style.cursor=r.attr("cursor")||canvas.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var o=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(o.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,o){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),o||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),o&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var canvas=this.canvas,r=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,r,e,!1),this._emitEvent("drag",n,t,o);else{var c=this.mousedownPoint;if(c){var l=this.mousedownShape,h=n.timeStamp-this.mousedownTimeStamp,f=c.clientX-t.clientX,d=c.clientY-t.clientY;h>120||f*f+d*d>40?l&&l.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!l&&canvas.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,o,c){var l=this._getEventObj(t,e,n,r,o,c);if(r){l.shape=r,M(r,t,l);for(var h=r.getParent();h;)h.emitDelegation(t,l),l.propagationStopped||S(h,t,l),l.propagationPath.push(h),h=h.getParent()}else{M(this.canvas,t,l)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),T=A,B=Object(o.a)(),k=B&&"firefox"===B.name;!function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");Object(l.h)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new T({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new j(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");l.c&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(cursor){this.set("cursor",cursor);var t=this.get("el");l.c&&t&&(t.style.cursor=cursor)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(k&&!Object(l.e)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Object(l.e)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))}}(c.a)},535:function(t,e,n){"use strict";var r=n(416),o=n(417);function c(element,t,e){var n=element.getTotalMatrix();if(n){var r=function(t,e){if(e){var n=Object(o.invert)(e);return Object(o.multiplyVec2)(n,t)}return t}([t,e,1],n);return[r[0],r[1]]}return[t,e]}function l(element,t,e){if(element.isCanvas&&element.isCanvas())return!0;if(!Object(o.isAllowCapture)(element)||!1===element.cfg.isInView)return!1;if(element.cfg.clipShape){var n=c(element,t,e),r=n[0],l=n[1];if(element.isClipped(r,l))return!1}var h=element.cfg.cacheCanvasBBox||element.getCanvasBBox();return t>=h.minX&&t<=h.maxX&&e>=h.minY&&e<=h.maxY}function h(t,e,n){if(!l(t,e,n))return null;for(var r=null,o=t.getChildren(),i=o.length-1;i>=0;i--){var f=o[i];if(f.isGroup())r=h(f,e,n);else if(l(f,e,n)){var d=f,v=c(f,e,n),y=v[0],m=v[1];d.isInShape(y,m)&&(r=f)}if(r)break}return r}var f=n(454),d=n(464),v=n(422),y=n(442),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.renderer="canvas",e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return f},e.prototype.getGroupBase=function(){return d.a},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Object(v.d)();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var element=document.createElement("canvas"),t=element.getContext("2d");return this.set("context",t),element},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var r=this.get("context"),o=this.get("el"),c=this.getPixelRatio();o.width=c*e,o.height=c*n,c>1&&r.scale(c,c)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),element=this.get("el");e.clearRect(0,0,element.width,element.height)},e.prototype.getShape=function(e,n){return this.get("quickHit")?h(this,e,n):t.prototype.getShape.call(this,e,n,null)},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();e.length&&e[0]===this?t=n:(t=Object(y.f)(e))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get("clipView")&&(t=Object(y.g)(t,n)));return t},e.prototype.refreshElement=function(element){this.get("refreshElements").push(element)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(Object(v.a)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),element=this.get("el"),e=this.getChildren();t.clearRect(0,0,element.width,element.height),Object(y.a)(t,this),Object(y.d)(t,e),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),Object(y.a)(t,this),Object(y.b)(this,n,r),Object(y.d)(t,n,r),t.restore()):e.length&&Object(y.c)(e),Object(v.c)(e,(function(element){element.get("hasChanged")&&element.set("hasChanged",!1)})),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=Object(v.n)((function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)})),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(o.AbstractCanvas);e.a=m},536:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(416),o=n(434),c=n(415),l=n(419),h={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clearEvents=c.Y,e.onStartEvent=function(t){return function(n){e.isMobile=t,n.originalEvent.preventDefault();var r=t?Object(c.q)(n.originalEvent,"touches.0.clientX"):n.clientX,o=t?Object(c.q)(n.originalEvent,"touches.0.clientY"):n.clientY;e.startPos=e.cfg.isHorizontal?r:o,e.bindLaterEvent()}},e.bindLaterEvent=function(){var t=e.getContainerDOM(),n=[];n=e.isMobile?[Object(o.a)(t,"touchmove",e.onMouseMove),Object(o.a)(t,"touchend",e.onMouseUp),Object(o.a)(t,"touchcancel",e.onMouseUp)]:[Object(o.a)(t,"mousemove",e.onMouseMove),Object(o.a)(t,"mouseup",e.onMouseUp),Object(o.a)(t,"mouseleave",e.onMouseUp)],e.clearEvents=function(){n.forEach((function(t){t.remove()}))}},e.onMouseMove=function(t){var n=e.cfg,r=n.isHorizontal,o=n.thumbOffset;t.preventDefault();var l=e.isMobile?Object(c.q)(t,"touches.0.clientX"):t.clientX,h=e.isMobile?Object(c.q)(t,"touches.0.clientY"):t.clientY,f=r?l:h,d=f-e.startPos;e.startPos=f,e.updateThumbOffset(o+d)},e.onMouseUp=function(t){t.preventDefault(),e.clearEvents()},e.onTrackClick=function(t){var n=e.cfg,r=n.isHorizontal,o=n.x,c=n.y,l=n.thumbLen,rect=e.getContainerDOM().getBoundingClientRect(),h=t.clientX,f=t.clientY,d=r?h-rect.left-o-l/2:f-rect.top-c-l/2,v=e.validateRange(d);e.updateThumbOffset(v)},e.onThumbMouseOver=function(){var t=e.cfg.theme.hover.thumbColor;e.getElementByLocalId("thumb").attr("stroke",t),e.draw()},e.onThumbMouseOut=function(){var t=e.cfg.theme.default.thumbColor;e.getElementByLocalId("thumb").attr("stroke",t),e.draw()},e}return Object(r.b)(e,t),e.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.getValue(),r=Object(c.c)(n,t,e);n===r||this.get("isInit")||this.setValue(r)},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var e=this.getRange(),n=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Object(c.c)(t,e.min,e.max)}),this.delegateEmit("valuechange",{originalValue:n,value:this.getValue()})},e.prototype.getValue=function(){return Object(c.c)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r.a)(Object(r.a)({},e),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:h})},e.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.renderTrackShape=function(t){var e=this.cfg,n=e.trackLen,r=e.theme,o=void 0===r?{default:{}}:r,l=Object(c.h)({},h,o).default,f=l.lineCap,d=l.trackColor,v=l.size,y=Object(c.q)(this.cfg,"size",v),m=this.get("isHorizontal")?{x1:0+y/2,y1:y/2,x2:n-y/2,y2:y/2,lineWidth:y,stroke:d,lineCap:f}:{x1:y/2,y1:0+y/2,x2:y/2,y2:n-y/2,lineWidth:y,stroke:d,lineCap:f};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:m})},e.prototype.renderThumbShape=function(t){var e=this.cfg,n=e.thumbOffset,r=e.thumbLen,o=e.theme,l=Object(c.h)({},h,o).default,f=l.size,d=l.lineCap,v=l.thumbColor,y=Object(c.q)(this.cfg,"size",f),m=this.get("isHorizontal")?{x1:n+y/2,y1:y/2,x2:n+r-y/2,y2:y/2,lineWidth:y,stroke:v,lineCap:d,cursor:"default"}:{x1:y/2,y1:n+y/2,x2:y/2,y2:n+r-y/2,lineWidth:y,stroke:v,lineCap:d,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:m})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick);var e=t.findById(this.getElementId("thumb"));e.on("mouseover",this.onThumbMouseOver),e.on("mouseout",this.onThumbMouseOut)},e.prototype.getContainerDOM=function(){var t=this.get("container"),canvas=t&&t.get("canvas");return canvas&&canvas.get("container")},e.prototype.validateRange=function(t){var e=this.cfg,n=e.thumbLen,r=e.trackLen,o=t;return t+n>r?o=r-n:t+n<n&&(o=0),o},e.prototype.draw=function(){var t=this.get("container"),canvas=t&&t.get("canvas");canvas&&canvas.draw()},e.prototype.updateThumbOffset=function(t){var e=this.cfg,n=e.thumbOffset,r=e.isHorizontal,o=e.thumbLen,c=e.size,l=this.validateRange(t);if(l!==n){var h=this.getElementByLocalId("thumb");r?h.attr({x1:l+c/2,x2:l+o-c/2}):h.attr({y1:l+c/2,y2:l+o-c/2}),this.emitOffsetChange(l)}},e.prototype.emitOffsetChange=function(t){var e=this.cfg,n=e.thumbOffset,r=e.trackLen,o=e.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:Object(c.c)(t/(r-o),0,1)}),this.delegateEmit("valuechange",{originalValue:n,value:t})},e}(l.a)},551:function(t,e,n){"use strict";n.d(e,"b",(function(){return c}));var r=n(572),o=n(499);function c(a,b){var i,t=b?b.length:0,e=a?Math.min(t,a.length):0,n=new Array(e),o=new Array(t);for(i=0;i<e;++i)n[i]=Object(r.a)(a[i],b[i]);for(;i<t;++i)o[i]=b[i];return function(t){for(i=0;i<e;++i)o[i]=n[i](t);return o}}e.a=function(a,b){return(Object(o.b)(b)?o.a:c)(a,b)}},552:function(t,e,n){"use strict";var r=n(458),o=n(415),c=n(479),l=function(t){function e(e){var n=t.call(this,e)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var r=e.marginRatio,o=void 0===r?c.d:r,l=e.dodgeRatio,h=void 0===l?c.b:l,f=e.dodgeBy,d=e.intervalPadding,v=e.dodgePadding,y=e.xDimensionLength,m=e.groupNum,x=e.defaultSize,O=e.maxColumnWidth,j=e.minColumnWidth,w=e.columnWidthRatio;return n.marginRatio=o,n.dodgeRatio=h,n.dodgeBy=f,n.intervalPadding=d,n.dodgePadding=v,n.xDimensionLegenth=y,n.groupNum=m,n.defaultSize=x,n.maxColumnWidth=O,n.minColumnWidth=j,n.columnWidthRatio=w,n}return Object(r.b)(e,t),e.prototype.process=function(t){var e=o.e(t),n=o.p(e),r=this.dodgeBy,c=r?o.s(n,r):e;return this.cacheMap={},this.adjustDataArray=c,this.mergeData=n,this.adjustData(c,n),this.adjustDataArray=[],this.mergeData=[],e},e.prototype.adjustDim=function(t,e,data,n){var r=this,map=this.getDistribution(t),c=this.groupData(data,t);return o.j(c,(function(c,l){var h;h=1===e.length?{pre:e[0]-1,next:e[0]+1}:r.getAdjustRange(t,parseFloat(l),e),o.j(c,(function(e){var o=e[t],c=map[o],l=c.indexOf(n);e[t]=r.getDodgeOffset(h,l,c.length)}))})),[]},e.prototype.getDodgeOffset=function(t,e,n){var r,c=this,l=c.dodgeRatio,h=c.marginRatio,f=c.intervalPadding,d=c.dodgePadding,pre=t.pre,v=t.next,y=v-pre;if(!o.G(f)&&o.G(d)&&f>=0)r=pre+this.getIntervalOnlyOffset(n,e);else if(!o.G(d)&&o.G(f)&&d>=0){r=pre+this.getDodgeOnlyOffset(n,e)}else if(!o.G(f)&&!o.G(d)&&f>=0&&d>=0){r=pre+this.getIntervalAndDodgeOffset(n,e)}else{var m=y*l/n,x=h*m;r=(pre+v)/2+(.5*(y-n*m-(n-1)*x)+((e+1)*m+e*x)-.5*m-.5*y)}return r},e.prototype.getIntervalOnlyOffset=function(t,e){var n=this,r=n.defaultSize,c=n.intervalPadding,l=n.xDimensionLegenth,h=n.groupNum,f=n.dodgeRatio,d=n.maxColumnWidth,v=n.minColumnWidth,y=n.columnWidthRatio,m=c/l,x=(1-(h-1)*m)/h*f/(t-1),O=((1-m*(h-1))/h-x*(t-1))/t;if(O=o.G(y)?O:1/h/t*y,!o.G(d)){var j=d/l;O=Math.min(O,j)}if(!o.G(v)){var w=v/l;O=Math.max(O,w)}return((.5+e)*(O=r?r/l:O)+e*(x=((1-(h-1)*m)/h-t*O)/(t-1))+.5*m)*h-m/2},e.prototype.getDodgeOnlyOffset=function(t,e){var n=this,r=n.defaultSize,c=n.dodgePadding,l=n.xDimensionLegenth,h=n.groupNum,f=n.marginRatio,d=n.maxColumnWidth,v=n.minColumnWidth,y=n.columnWidthRatio,m=c/l,x=1*f/(h-1),O=((1-x*(h-1))/h-m*(t-1))/t;if(O=y?1/h/t*y:O,!o.G(d)){var j=d/l;O=Math.min(O,j)}if(!o.G(v)){var w=v/l;O=Math.max(O,w)}return((.5+e)*(O=r?r/l:O)+e*m+.5*(x=(1-(O*t+m*(t-1))*h)/(h-1)))*h-x/2},e.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,r=n.intervalPadding,o=n.dodgePadding,c=n.xDimensionLegenth,l=n.groupNum,h=r/c,f=o/c;return((.5+e)*(((1-h*(l-1))/l-f*(t-1))/t)+e*f+.5*h)*l-h/2},e.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,map=n[t];return map||(map={},o.j(e,(function(data,e){var n=o.pb(data,t);n.length||n.push(0),o.j(n,(function(t){map[t]||(map[t]=[]),map[t].push(e)}))})),n[t]=map),map},e}(n(429).a);e.a=l},553:function(t,e,n){"use strict";var r=n(458),o=n(415),c=n(479);var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.process=function(t){var e=o.e(t),n=o.p(e);return this.adjustData(e,n),e},e.prototype.adjustDim=function(t,e,n){var r=this,c=this.groupData(n,t);return o.j(c,(function(data,n){return r.adjustGroup(data,t,parseFloat(n),e)}))},e.prototype.getAdjustOffset=function(t){var e,pre=t.pre,n=t.next,r=(n-pre)*c.c;return(n-r-(e=pre+r))*Math.random()+e},e.prototype.adjustGroup=function(t,e,n,r){var c=this,l=this.getAdjustRange(e,n,r);return o.j(t,(function(data){data[e]=c.getAdjustOffset(l)})),t},e}(n(429).a);e.a=l},554:function(t,e,n){"use strict";var r=n(458),o=n(415),c=n(429),l=o.a,h=function(t){function e(e){var n=t.call(this,e)||this,r=e.adjustNames,o=void 0===r?["y"]:r,c=e.height,l=void 0===c?NaN:c,h=e.size,f=void 0===h?10:h,d=e.reverseOrder,v=void 0!==d&&d;return n.adjustNames=o,n.height=l,n.size=f,n.reverseOrder=v,n}return Object(r.b)(e,t),e.prototype.process=function(t){var e=this.yField,n=this.reverseOrder,r=e?this.processStack(t):this.processOneDimStack(t);return n?this.reverse(r):r},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var e=this,n=e.xField,c=e.yField,h=e.reverseOrder?this.reverse(t):t,f=new l,d=new l;return h.map((function(t){return t.map((function(data){var t,e=o.q(data,n,0),l=o.q(data,[c]),h=e.toString();if(l=o.z(l)?l[1]:l,!o.G(l)){var v=l>=0?f:d;v.has(h)||v.set(h,0);var y=v.get(h),m=l+y;return v.set(h,m),Object(r.a)(Object(r.a)({},data),((t={})[c]=[y,m],t))}return data}))}))},e.prototype.processOneDimStack=function(t){var e=this,n=this,o=n.xField,c=n.height,h=n.reverseOrder,f=h?this.reverse(t):t,d=new l;return f.map((function(t){return t.map((function(data){var t,n=e.size,l=data[o],h=2*n/c;d.has(l)||d.set(l,h/2);var f=d.get(l);return d.set(l,f+h),Object(r.a)(Object(r.a)({},data),((t={}).y=f,t))}))}))},e}(c.a);e.a=h},555:function(t,e,n){"use strict";var r=n(458),o=n(415),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.process=function(t){var e=o.p(t),n=this.xField,c=this.yField,l=this.getXValuesMaxMap(e),h=Math.max.apply(Math,Object.keys(l).map((function(t){return l[t]})));return o.R(t,(function(t){return o.R(t,(function(data){var t,e,f=data[c],d=data[n];if(o.z(f)){var v=(h-l[d])/2;return Object(r.a)(Object(r.a)({},data),((t={})[c]=o.R(f,(function(t){return v+t})),t))}var y=(h-f)/2;return Object(r.a)(Object(r.a)({},data),((e={})[c]=[y,f+y],e))}))}))},e.prototype.getXValuesMaxMap=function(t){var e=this,n=this.xField,r=this.yField,c=o.t(t,(function(data){return data[n]}));return o.S(c,(function(t){return e.getDimMaxValue(t,r)}))},e.prototype.getDimMaxValue=function(t,e){var n=o.R(t,(function(data){return o.q(data,e,[])})),r=o.p(n);return Math.max.apply(Math,r)},e}(n(429).a);e.a=c},556:function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return f}));var r=n(466);n.d(e,"Shape",(function(){return r}));var o=n(417);for(var c in o)["default","Canvas","Group","Shape","version"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(c);var l=n(525);n.d(e,"Canvas",(function(){return l.a}));var h=n(465);n.d(e,"Group",(function(){return h.a}));var f="0.5.6"},572:function(t,e,n){"use strict";var r=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function o(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function c(){}var l=.7,h=1/l,f="\\s*([+-]?\\d+)\\s*",d="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",v="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",y=/^#([0-9a-f]{3,8})$/,m=new RegExp("^rgb\\("+[f,f,f]+"\\)$"),x=new RegExp("^rgb\\("+[v,v,v]+"\\)$"),O=new RegExp("^rgba\\("+[f,f,f,d]+"\\)$"),j=new RegExp("^rgba\\("+[v,v,v,d]+"\\)$"),w=new RegExp("^hsl\\("+[d,v,v]+"\\)$"),C=new RegExp("^hsla\\("+[d,v,v,d]+"\\)$"),M={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function S(){return this.rgb().formatHex()}function A(){return this.rgb().formatRgb()}function T(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=y.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?B(e):3===n?new L(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?k(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?k(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=m.exec(t))?new L(e[1],e[2],e[3],1):(e=x.exec(t))?new L(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=O.exec(t))?k(e[1],e[2],e[3],e[4]):(e=j.exec(t))?k(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=w.exec(t))?R(e[1],e[2]/100,e[3]/100,1):(e=C.exec(t))?R(e[1],e[2]/100,e[3]/100,e[4]):M.hasOwnProperty(t)?B(M[t]):"transparent"===t?new L(NaN,NaN,NaN,0):null}function B(t){return new L(t>>16&255,t>>8&255,255&t,1)}function k(t,g,b,a){return a<=0&&(t=g=b=NaN),new L(t,g,b,a)}function P(t){return t instanceof c||(t=T(t)),t?new L((t=t.rgb()).r,t.g,t.b,t.opacity):new L}function E(t,g,b,e){return 1===arguments.length?P(t):new L(t,g,b,null==e?1:e)}function L(t,g,b,e){this.r=+t,this.g=+g,this.b=+b,this.opacity=+e}function I(){return"#"+D(this.r)+D(this.g)+D(this.b)}function F(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function D(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function R(t,s,e,a){return a<=0?t=s=e=NaN:e<=0||e>=1?t=s=NaN:s<=0&&(t=NaN),new Y(t,s,e,a)}function _(t){if(t instanceof Y)return new Y(t.h,t.s,t.l,t.opacity);if(t instanceof c||(t=T(t)),!t)return new Y;if(t instanceof Y)return t;var e=(t=t.rgb()).r/255,g=t.g/255,b=t.b/255,n=Math.min(e,g,b),r=Math.max(e,g,b),o=NaN,s=r-n,l=(r+n)/2;return s?(o=e===r?(g-b)/s+6*(g<b):g===r?(b-e)/s+2:(e-g)/s+4,s/=l<.5?r+n:2-r-n,o*=60):s=l>0&&l<1?0:o,new Y(o,s,l,t.opacity)}function Y(t,s,e,n){this.h=+t,this.s=+s,this.l=+e,this.opacity=+n}function G(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function z(t,e,n,r,o){var c=t*t,l=c*t;return((1-3*t+3*c-l)*e+(4-6*c+3*l)*n+(1+3*t+3*c-3*l)*r+l*o)/6}r(c,T,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:S,formatHex:S,formatHsl:function(){return _(this).formatHsl()},formatRgb:A,toString:A}),r(L,E,o(c,{brighter:function(t){return t=null==t?h:Math.pow(h,t),new L(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?l:Math.pow(l,t),new L(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:I,formatHex:I,formatRgb:F,toString:F})),r(Y,(function(t,s,e,n){return 1===arguments.length?_(t):new Y(t,s,e,null==n?1:n)}),o(c,{brighter:function(t){return t=null==t?h:Math.pow(h,t),new Y(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?l:Math.pow(l,t),new Y(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),s=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,n=e+(e<.5?e:1-e)*s,r=2*e-n;return new L(G(t>=240?t-240:t+120,r,n),G(t,r,n),G(t<120?t+240:t-120,r,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}));var X=function(t){return function(){return t}};function N(a,t){return function(e){return a+e*t}}function H(t){return 1==(t=+t)?V:function(a,b){return b-a?function(a,b,t){return a=Math.pow(a,t),b=Math.pow(b,t)-a,t=1/t,function(e){return Math.pow(a+e*b,t)}}(a,b,t):X(isNaN(a)?b:a)}}function V(a,b){var t=b-a;return t?N(a,t):X(isNaN(a)?b:a)}var W=function t(e){var n=H(e);function r(t,e){var r=n((t=E(t)).r,(e=E(e)).r),g=n(t.g,e.g),b=n(t.b,e.b),o=V(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=g(e),t.b=b(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function U(t){return function(e){var i,n,r=e.length,o=new Array(r),g=new Array(r),b=new Array(r);for(i=0;i<r;++i)n=E(e[i]),o[i]=n.r||0,g[i]=n.g||0,b[i]=n.b||0;return o=t(o),g=t(g),b=t(b),n.opacity=1,function(t){return n.r=o(t),n.g=g(t),n.b=b(t),n+""}}}U((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],c=i>0?t[i-1]:2*r-o,l=i<e-1?t[i+2]:2*o-r;return z((n-i/e)*e,c,r,o,l)}})),U((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],c=t[(i+1)%e],l=t[(i+2)%e];return z((n-i/e)*e,r,o,c,l)}}));var Z=n(551),K=function(a,b){var t=new Date;return a=+a,b=+b,function(e){return t.setTime(a*(1-e)+b*e),t}},Q=function(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}},object=function(a,b){var t,i={},e={};for(t in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)t in a?i[t]=nt(a[t],b[t]):e[t]=b[t];return function(n){for(t in i)e[t]=i[t](n);return e}},J=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$=new RegExp(J.source,"g");var tt=function(a,b){var t,e,n,r=J.lastIndex=$.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(t=J.exec(a))&&(e=$.exec(b));)(n=e.index)>r&&(n=b.slice(r,n),s[i]?s[i]+=n:s[++i]=n),(t=t[0])===(e=e[0])?s[i]?s[i]+=e:s[++i]=e:(s[++i]=null,q.push({i:i,x:Q(t,e)})),r=$.lastIndex;return r<b.length&&(n=b.slice(r),s[i]?s[i]+=n:s[++i]=n),s.length<2?q[0]?function(b){return function(t){return b(t)+""}}(q[0].x):function(b){return function(){return b}}(b):(b=q.length,function(t){for(var e,i=0;i<b;++i)s[(e=q[i]).i]=e.x(t);return s.join("")})},et=n(499),nt=e.a=function(a,b){var t,e=typeof b;return null==b||"boolean"===e?X(b):("number"===e?Q:"string"===e?(t=T(b))?(b=t,W):tt:b instanceof T?W:b instanceof Date?K:Object(et.b)(b)?et.a:Array.isArray(b)?Z.b:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?object:Q)(a,b)}},573:function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var r,o,c=0,l=0,h=0,f=0,d=0,v=0,y="object"==typeof performance&&performance.now?performance:Date,m="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function x(){return d||(m(O),d=y.now()+v)}function O(){d=0}function j(){this._call=this._time=this._next=null}function w(t,e,time){var n=new j;return n.restart(t,e,time),n}function C(){d=(f=y.now())+v,c=l=0;try{!function(){x(),++c;for(var t,e=r;e;)(t=d-e._time)>=0&&e._call.call(null,t),e=e._next;--c}()}finally{c=0,function(){var t,e,n=r,time=1/0;for(;n;)n._call?(time>n._time&&(time=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);o=t,S(time)}(),d=0}}function M(){var t=y.now(),e=t-f;e>1e3&&(v-=e,f=t)}function S(time){c||(l&&(l=clearTimeout(l)),time-d>24?(time<1/0&&(l=setTimeout(C,time-y.now()-v)),h&&(h=clearInterval(h))):(h||(f=y.now(),h=setInterval(M,1e3)),c=1,m(C)))}j.prototype=w.prototype={constructor:j,restart:function(t,e,time){if("function"!=typeof t)throw new TypeError("callback is not a function");time=(null==time?x():+time)+(null==e?0:+e),this._next||o===this||(o?o._next=this:r=this,o=this),this._call=t,this._time=time,S()},stop:function(){this._call&&(this._call=null,this._time=1/0,S())}}}}]);